/* Version: 1.0.0 - November 18, 2021 17:24:29 */
!function(e){"use strict";function r(){var e=window;try{e=e.top.document?e.top:e}catch(e){}return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function d(e){return e.charAt(0).toUpperCase()+e.slice(1)}function p(e,t){var n,r;return t.slot&&(r=t.slot,Array.isArray(r)&&0<r.length?n=t.slot:Array.isArray(t.slot)||(n=t.noMultislot===m||e!==v&&e!==y?[decodeURIComponent(t.slot)]:decodeURIComponent(t.slot).split(","))),n}function l(e){var t,n,r,o=(i=e).ps||i.format||v,i=(t=o,s=(r=e).device||"",a="".concat(t).concat(d(s)),r=Object.assign({},h[a]),t===y&&(a="".concat(v).concat(d(s)),r=Object.assign({},h[a])),r),s=(t=i,e.isFloating!==m&&t?t.margin:"0px auto"),a=p(o,e),c=(r=(r=i,u=(t=e).width&&t.height?(c=(i=parseInt(t.width))/parseInt(t.height),i):(c=(u=r.width?parseInt(r.width,10):0)/(r.height?parseInt(r.height,10):1),u),{sizeRatio:c,maxWidth:u})).sizeRatio,u=r.maxWidth,l=((!(r=e).slot||Array.isArray(r.slot)&&0===r.slot.length)&&(n="hybs-".concat(r.id),"standalone"===r.displayType&&(n="".concat(r.id)),n=document.getElementById(n),window.self!==window.top&&window.frameElement&&(l=window.top.document.getElementById("".concat(frameElement.getAttribute("id"))),"true"===r.dfpAutoSlot&&(l=window.parent.document.getElementById("".concat(null===(r=frameElement)||void 0===r?void 0:r.getAttribute("id")))))),{scriptEl:n,iframeRef:l});return Object.assign({sizeRatio:c,maxWidth:u,slots:a,scriptEl:l.scriptEl,margin:s,iframeRef:l.iframeRef,position:o,lookForCmpLocator:!1},e)}var t,n,i=!1,s=["elpais.com","euribor.com.es","https://as.com",".as.com/","ejerciciosencasa.as.com","huffingtonpost.es","cadenaser.com","los40.com","cadenadial.com","maxima.fm","radiole.com","play.kebuena.es","elimparcial.com"],c={log:function(){!i&&console&&console.log&&console.log("HYBS >>",0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",1<arguments.length&&void 0!==arguments[1]?arguments[1]:"")},warning:function(){!i&&console&&console.warn&&console.warn("HYBS Warning >> ",0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")},info:function(){!i&&console&&console.info&&console.info("HYBS Info >> ",0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")},error:function(){!i&&console&&console.error&&console.error("HYBS Error >> ",0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")}},f=(t=r(),{init:function(){t[n]={},t[n].players=[],t[n].logger=c},get:function(e){return e&&t[n]?t[n][e]:t[n]},getPlayers:function(){var e=this.get();return e?e.players:[]},getPlayer:function(t){var e=this.getPlayers();return 0==e.length?null:e.find(function(e){return e.id===t})},addPlayer:function(e){this.getPlayer(e.id)||(e=Object.assign({},e,{active:!1,get:function(e){return this[e]},set:function(e,t){this[e]=t}}),this.getPlayers().push(e))},set:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=this.get();if(!r)throw new Error("Cannot set property value. Store not initialized!");return n?(r[n]={},r[n][e]=t):r[e]=t,!0},getNested:function(e){var t=this.get();return e.reduce(function(e,t){return e?e[t]:void 0},t)}}),h={intextDesktop:{collapsed:!0,collapseOnEnd:!(n="hybsAdmanMedia"),height:"338",margin:"10px auto",mouseOver:!1,pauseOnInvisible:!1,playBtn:!1,playOnVisible:!0,poster:!1,skipoffset:5,width:"600"},intextMobile:{collapsed:!0,collapseOnEnd:!1,height:"221",margin:"10px auto",mouseOver:!1,pauseOnInvisible:!1,playBtn:!1,playOnVisible:!0,poster:!1,skipoffset:5,width:"394"},inbannerDesktop:{collapseOnEnd:!1,collapsed:!0,height:"250",margin:"10px auto",mouseOver:!1,pauseOnInvisible:!1,playBtn:!1,playOnVisible:!0,skipoffset:-1,width:"300"},inbannerMobile:{collapsed:!1,collapseOnEnd:!1,height:"250",margin:"10px auto",mouseOver:!1,pauseOnInvisible:!1,playBtn:!1,playOnVisible:!0,skipoffset:-1,width:"300"},nativeDesktop:{collapsed:!1,collapseOnEnd:!1,height:"250",margin:"10px auto",mouseOver:!1,pauseOnInvisible:!1,playBtn:!1,playOnVisible:!0,skipoffset:-1,width:"300"},surfDesktop:{collapsed:!1,collapseOnEnd:!1,height:"225",margin:"5px auto",mouseOver:!1,pauseOnInvisible:!1,playBtn:!1,playOnVisible:!0,skipoffset:5,width:"400"},surfMobile:{collapsed:!1,collapseOnEnd:!1,height:"232",margin:"5px auto",mouseOver:!1,pauseOnInvisible:!1,playBtn:!1,playOnVisible:!0,skipoffset:5,width:"414"},inimageDesktop:{collapsed:!1,collapseOnEnd:!0,margin:"0 auto",mouseOver:!0,pauseOnInvisible:!1,playBtn:!1,playOnVisible:!1,poster:!1,skipoffset:5},inimageMobile:{collapsed:!1,collapseOnEnd:!0,margin:"0 auto",mouseOver:!1,pauseOnInvisible:!1,playBtn:!1,playOnVisible:!0,poster:!1,skipoffset:5,delayedPlay:2e3},intext_verticalDesktop:{collapsed:!0,collapseOnEnd:!1,expandOnVisible:!0,height:"534",margin:"10px auto",mouseOver:!1,pauseOnInvisible:!1,playBtn:!1,playOnVisible:!0,poster:!1,skipoffset:5,width:"300"},intext_verticalMobile:{collapsed:!0,collapseOnEnd:!1,expandOnVisible:!0,height:"534",margin:"10px auto",mouseOver:!1,pauseOnInvisible:!1,playBtn:!1,playOnVisible:!0,poster:!1,skipoffset:5,width:"300"}},u="mobile",g="desktop",v="intext",y="intext2",m="true",b=/Mobile|iPhone|iPod|iPad|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|hpwOS|webOS|Fennec|Minimo|Opera Mobi|Opera Mini|Blazer|Dolfin|Dolphin|Skyfire|Zune/i.test(navigator.userAgent.toLocaleLowerCase()),E=/^mobile[A-Z]/,_=/^slot$|^slot-/;function O(r,e,t){var o=1<arguments.length&&void 0!==e?e:window.document,i=!(2<arguments.length&&void 0!==t)||t;return new Promise(function(e,t){var n=o.createElement("script");n.src=r,n.async=!0,n.onload=function(){i&&n.remove(),e()},n.onerror=function(){n.remove(),t()},o.head.appendChild(n)})}function w(){var t=r();O("https://pghub.io/js/pandg-sdk.js",t.document,!1).then(function(){var e={gdpr:f.get("admanGdpr").gdpr,gdpr_consent:f.get("admanGdpr").gdprConsent,ccpa:null,bp_id:"adman"};t.Tapad.init(e,{name:"P&G",pixelUrl:"https://pandg.tapad.com/tag"}).sync({})})}function I(e){var t,n;e||(f.get("isPixelPg")||(w(),f.set("isPixelPg",!0)),f.get("theadexLoaded")||(t=r(),(n=document.createElement("script")).src="https://dmp.theadex.com/d/1609/6436/s/adex.js",n.async=!0,t.document.getElementsByTagName("head")[0].appendChild(n),f.set("theadexLoaded",!0))),f.get("navdmpLoaded")||(t=f.get("country"),["mex","arg","chl","col","per","bra"].includes(t)&&(n=r().document.getElementsByTagName("head")[0],(t=document.createElement("script")).src="https://tag.navdmp.com/tm58918.js",t.async=!0,n.appendChild(t)),f.set("navdmpLoaded",!0))}var L="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function S(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function C(e,t){return e(t={exports:{}},t.exports),t.exports}var P=C(function(e,t){var r,n=L&&L.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,n=(o=Error,n(i,o),i);function i(e){e=o.call(this,e)||this;return e.name="DeviceDisclosureError",e}t.DeviceDisclosureError=n});S(P);P.DeviceDisclosureError;var V=C(function(e,t){var r,n=L&&L.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,n=(o=Error,n(i,o),i);function i(e){e=o.call(this,e)||this;return e.name="DecodingError",e}t.DecodingError=n});S(V);V.DecodingError;var A=C(function(e,t){var r,n=L&&L.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,n=(o=Error,n(i,o),i);function i(e){e=o.call(this,e)||this;return e.name="EncodingError",e}t.EncodingError=n});S(A);A.EncodingError;var T=C(function(e,t){var r,n=L&&L.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,n=(o=Error,n(i,o),i);function i(e){e=o.call(this,e)||this;return e.name="GVLError",e}t.GVLError=n});S(T);T.GVLError;var F=C(function(e,t){var r,n=L&&L.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,n=(o=Error,n(i,o),i);function i(e,t,n){n=o.call(this,"invalid value "+t+" passed for "+e+" "+(n=void 0===n?"":n))||this;return n.name="TCModelError",n}t.TCModelError=n});S(F);F.TCModelError;var R=C(function(e,n){function t(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),t(P),t(V),t(A),t(T),t(F)});S(R);var B=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.encode=function(e){if(!/^[0-1]+$/.test(e))throw new R.EncodingError("Invalid bitField");var t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";for(var n="",r=0;r<e.length;r+=this.BASIS)n+=this.DICT[parseInt(e.substr(r,this.BASIS),2)];return n},r.decode=function(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new R.DecodingError("Invalidly encoded Base64URL string");for(var t="",n=0;n<e.length;n++){var r=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-r.length)+r}return t},r.DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",r.REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]),r.BASIS=6,r.LCM=24,r);function r(){}t.Base64Url=n});S(B);B.Base64Url;var j=C(function(e,t){var l=L&&L.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var n=(r.prototype.clone=function(){var n=this,r=new this.constructor;return Object.keys(this).forEach(function(e){var t=n.deepClone(n[e]);void 0!==t&&(r[e]=t)}),r},r.prototype.deepClone=function(e){var t,n,r=typeof e;if("number"==r||"string"==r||"boolean"==r)return e;if(null!==e&&"object"==r){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){var o=[];try{for(var i=l(e),s=i.next();!s.done;s=i.next()){var a=s.value;o.push(this.deepClone(a))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return e instanceof Array?o:new e.constructor(o)}var c,u={};for(c in e)e.hasOwnProperty(c)&&(u[c]=this.deepClone(e[c]));return u}},r);function r(){}t.Cloneable=n});S(j);j.Cloneable;var M=C(function(e,t){var r,n=L&&L.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,n=(o=j.Cloneable,n(i,o),i.prototype.isEmpty=function(){return!this.root},i.prototype.add=function(e){var t,n={value:e,left:null,right:null};if(this.isEmpty())this.root=n;else for(t=this.root;;)if(e<t.value){if(null===t.left){t.left=n;break}t=t.left}else{if(!(e>t.value))break;if(null===t.right){t.right=n;break}t=t.right}},i.prototype.get=function(){for(var e=[],t=this.root;t;)if(t.left){for(var n=t.left;n.right&&n.right!=t;)n=n.right;t=n.right==t?(n.right=null,e.push(t.value),t.right):(n.right=t).left}else e.push(t.value),t=t.right;return e},i.prototype.contains=function(e){for(var t=!1,n=this.root;n;){if(n.value===e){t=!0;break}e>n.value?n=n.right:e<n.value&&(n=n.left)}return t},i.prototype.min=function(e){var t;for(void 0===e&&(e=this.root);e;)e=e.left||(t=e.value,null);return t},i.prototype.max=function(e){var t;for(void 0===e&&(e=this.root);e;)e=e.right||(t=e.value,null);return t},i.prototype.remove=function(e,t){void 0===t&&(t=this.root);for(var n,r=null,o="left";t;)e<t.value?(t=(r=t).left,o="left"):e>t.value?(t=(r=t).right,o="right"):(t.left||t.right?t.left?t.right?(n=this.min(t.right),this.remove(n,t.right),t.value=n):r?r[o]=t.left:this.root=t.left:r?r[o]=t.right:this.root=t.right:r?r[o]=null:this.root=null,t=null)},i);function i(){var e=null!==o&&o.apply(this,arguments)||this;return e.root=null,e}t.BinarySearchTree=n});S(M);M.BinarySearchTree;var x=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.prototype.has=function(e){return r.langSet.has(e)},r.prototype.forEach=function(e){r.langSet.forEach(e)},Object.defineProperty(r.prototype,"size",{get:function(){return r.langSet.size},enumerable:!0,configurable:!0}),r.langSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]),r);function r(){}t.ConsentLanguages=n});S(x);x.ConsentLanguages;var D=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.cmpId="cmpId",r.cmpVersion="cmpVersion",r.consentLanguage="consentLanguage",r.consentScreen="consentScreen",r.created="created",r.supportOOB="supportOOB",r.isServiceSpecific="isServiceSpecific",r.lastUpdated="lastUpdated",r.numCustomPurposes="numCustomPurposes",r.policyVersion="policyVersion",r.publisherCountryCode="publisherCountryCode",r.publisherCustomConsents="publisherCustomConsents",r.publisherCustomLegitimateInterests="publisherCustomLegitimateInterests",r.publisherLegitimateInterests="publisherLegitimateInterests",r.publisherConsents="publisherConsents",r.publisherRestrictions="publisherRestrictions",r.purposeConsents="purposeConsents",r.purposeLegitimateInterests="purposeLegitimateInterests",r.purposeOneTreatment="purposeOneTreatment",r.specialFeatureOptins="specialFeatureOptins",r.useNonStandardStacks="useNonStandardStacks",r.vendorConsents="vendorConsents",r.vendorLegitimateInterests="vendorLegitimateInterests",r.vendorListVersion="vendorListVersion",r.vendorsAllowed="vendorsAllowed",r.vendorsDisclosed="vendorsDisclosed",r.version="version",r);function r(){}t.Fields=n});S(D);D.Fields;var N=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.RestrictionType||(t.RestrictionType={}))[t.NOT_ALLOWED=0]="NOT_ALLOWED",t[t.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",t[t.REQUIRE_LI=2]="REQUIRE_LI"});S(N);N.RestrictionType;var U=C(function(e,t){var r,n=L&&L.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,n=(o=j.Cloneable,n(i,o),i.unHash=function(e){var t=e.split(this.hashSeparator),n=new i;if(2!==t.length)throw new R.TCModelError("hash",e);return n.purposeId=parseInt(t[0],10),n.restrictionType=parseInt(t[1],10),n},Object.defineProperty(i.prototype,"hash",{get:function(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return""+this.purposeId+i.hashSeparator+this.restrictionType},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"purposeId",{get:function(){return this.purposeId_},set:function(e){this.purposeId_=e},enumerable:!0,configurable:!0}),i.prototype.isValid=function(){return Number.isInteger(this.purposeId)&&0<this.purposeId&&(this.restrictionType===N.RestrictionType.NOT_ALLOWED||this.restrictionType===N.RestrictionType.REQUIRE_CONSENT||this.restrictionType===N.RestrictionType.REQUIRE_LI)},i.prototype.isSameAs=function(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType},i.hashSeparator="-",i);function i(e,t){var n=o.call(this)||this;return void 0!==e&&(n.purposeId=e),void 0!==t&&(n.restrictionType=t),n}t.PurposeRestriction=n});S(U);U.PurposeRestriction;var k=C(function(e,t){var r,n=L&&L.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,n=(o=j.Cloneable,n(i,o),i.prototype.has=function(e){return this.map.has(e)},i.prototype.isOkToHave=function(e,t,n){var r,o=!0;if(null!==(r=this.gvl)&&void 0!==r&&r.vendors){var i=this.gvl.vendors[n];if(i)if(e===N.RestrictionType.NOT_ALLOWED)o=i.legIntPurposes.includes(t)||i.purposes.includes(t);else if(i.flexiblePurposes.length)switch(e){case N.RestrictionType.REQUIRE_CONSENT:o=i.flexiblePurposes.includes(t)&&i.legIntPurposes.includes(t);break;case N.RestrictionType.REQUIRE_LI:o=i.flexiblePurposes.includes(t)&&i.purposes.includes(t)}else o=!1;else o=!1}return o},i.prototype.add=function(e,t){this.isOkToHave(t.restrictionType,t.purposeId,e)&&(t=t.hash,this.has(t)||(this.map.set(t,new M.BinarySearchTree),this.bitLength=0),this.map.get(t).add(e))},i.prototype.getVendors=function(e){var t,n=[];return e?(e=e.hash,this.has(e)&&(n=this.map.get(e).get())):(t=new Set,this.map.forEach(function(e){e.get().forEach(function(e){t.add(e)})}),n=Array.from(t)),n},i.prototype.getRestrictionType=function(e,t){var n;return this.getRestrictions(e).forEach(function(e){e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)}),n},i.prototype.vendorHasRestriction=function(e,t){for(var n=!1,r=this.getRestrictions(e),o=0;o<r.length&&!n;o++)n=t.isSameAs(r[o]);return n},i.prototype.getMaxVendorId=function(){var t=0;return this.map.forEach(function(e){t=Math.max(e.max(),t)}),t},i.prototype.getRestrictions=function(n){var r=[];return this.map.forEach(function(e,t){n&&!e.contains(n)||r.push(U.PurposeRestriction.unHash(t))}),r},i.prototype.getPurposes=function(){var n=new Set;return this.map.forEach(function(e,t){n.add(U.PurposeRestriction.unHash(t).purposeId)}),Array.from(n)},i.prototype.remove=function(e,t){var n=t.hash,t=this.map.get(n);t&&(t.remove(e),t.isEmpty()&&(this.map.delete(n),this.bitLength=0))},Object.defineProperty(i.prototype,"gvl",{get:function(){return this.gvl_},set:function(e){var r=this;this.gvl_||(this.gvl_=e,this.map.forEach(function(t,e){var n=U.PurposeRestriction.unHash(e);t.get().forEach(function(e){r.isOkToHave(n.restrictionType,n.purposeId,e)||t.remove(e)})}))},enumerable:!0,configurable:!0}),i.prototype.isEmpty=function(){return 0===this.map.size},Object.defineProperty(i.prototype,"numRestrictions",{get:function(){return this.map.size},enumerable:!0,configurable:!0}),i);function i(){var e=null!==o&&o.apply(this,arguments)||this;return e.bitLength=0,e.map=new Map,e}t.PurposeRestrictionVector=n});S(k);k.PurposeRestrictionVector;var G=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.Segment||(t.Segment={})).CORE="core",t.VENDORS_DISCLOSED="vendorsDisclosed",t.VENDORS_ALLOWED="vendorsAllowed",t.PUBLISHER_TC="publisherTC"});S(G);G.Segment;var H=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.ID_TO_KEY=[G.Segment.CORE,G.Segment.VENDORS_DISCLOSED,G.Segment.VENDORS_ALLOWED,G.Segment.PUBLISHER_TC],r.KEY_TO_ID=((n={})[G.Segment.CORE]=0,n[G.Segment.VENDORS_DISCLOSED]=1,n[G.Segment.VENDORS_ALLOWED]=2,n[G.Segment.PUBLISHER_TC]=3,n),r);function r(){}t.SegmentIDs=n});S(H);H.SegmentIDs;var W=C(function(e,t){var r,n=L&&L.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=L&&L.__generator||function(n,r){var o,i,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(s=2&t[0]?i.return:t[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,t[1])).done)return s;switch(i=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!((s=0<(s=a.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],i=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=j.Cloneable,n(s,i),s.prototype[Symbol.iterator]=function(){var t;return o(this,function(e){switch(e.label){case 0:t=1,e.label=1;case 1:return t<=this.maxId?[4,[t,this.has(t)]]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})},s.prototype.values=function(){return this.set_.values()},Object.defineProperty(s.prototype,"maxId",{get:function(){return this.maxId_},enumerable:!0,configurable:!0}),s.prototype.has=function(e){return this.set_.has(e)},s.prototype.unset=function(e){var t=this;Array.isArray(e)?e.forEach(function(e){return t.unset(e)}):"object"==typeof e?this.unset(Object.keys(e).map(function(e){return+e})):(this.set_.delete(e),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach(function(e){t.maxId_=Math.max(t.maxId,e)})))},s.prototype.isIntMap=function(n){var r=this,e="object"==typeof n;return e&&Object.keys(n).every(function(e){var t=Number.isInteger(parseInt(e,10));return(t=t&&r.isValidNumber(n[e].id))&&void 0!==n[e].name})},s.prototype.isValidNumber=function(e){return 0<parseInt(e,10)},s.prototype.isSet=function(e){var t=!1;return t=e instanceof Set?Array.from(e).every(this.isValidNumber):t},s.prototype.set=function(e){var t=this;if(Array.isArray(e))e.forEach(function(e){return t.set(e)});else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map(function(e){return+e}));else{if(!this.isValidNumber(e))throw new R.TCModelError("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}},s.prototype.empty=function(){this.set_=new Set},s.prototype.forEach=function(e){for(var t=1;t<=this.maxId;t++)e(this.has(t),t)},Object.defineProperty(s.prototype,"size",{get:function(){return this.set_.size},enumerable:!0,configurable:!0}),s.prototype.setAll=function(e){this.set(e)},s);function s(){var e=null!==i&&i.apply(this,arguments)||this;return e.bitLength=0,e.maxId_=0,e.set_=new Set,e}t.Vector=n});S(W);W.Vector;var J=C(function(e,n){function t(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),t(M),t(x),t(D),t(U),t(k),t(N),t(G),t(H),t(W)});S(J);var z=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r,o,i,s,a,c,u,l,d,p,f,h,g,v,y,m,b,b=(n=J.Fields.cmpId,r=J.Fields.cmpVersion,o=J.Fields.consentLanguage,i=J.Fields.consentScreen,s=J.Fields.created,a=J.Fields.isServiceSpecific,c=J.Fields.lastUpdated,u=J.Fields.policyVersion,l=J.Fields.publisherCountryCode,d=J.Fields.publisherLegitimateInterests,p=J.Fields.publisherConsents,f=J.Fields.purposeConsents,h=J.Fields.purposeLegitimateInterests,g=J.Fields.purposeOneTreatment,v=J.Fields.specialFeatureOptins,y=J.Fields.useNonStandardStacks,m=J.Fields.vendorListVersion,b=J.Fields.version,E[n]=12,E[r]=12,E[o]=12,E[i]=6,E[s]=36,E[a]=1,E[c]=36,E[u]=6,E[l]=12,E[d]=24,E[p]=24,E[f]=24,E[h]=24,E[g]=1,E[v]=12,E[y]=1,E[m]=12,E[b]=6,E.anyBoolean=1,E.encodingType=1,E.maxId=16,E.numCustomPurposes=6,E.numEntries=12,E.numRestrictions=12,E.purposeId=6,E.restrictionType=2,E.segmentType=3,E.singleOrRange=1,E.vendorId=16,E);function E(){}t.BitLength=b});S(z);z.BitLength;var Y=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.encode=function(e){return+e+""},r.decode=function(e){return"1"===e},r);function r(){}t.BooleanEncoder=n});S(Y);Y.BooleanEncoder;var q=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.encode=function(e,t){var n;if((n=(e="string"==typeof e?parseInt(e,10):e).toString(2)).length>t||e<0)throw new R.EncodingError(e+" too large to encode into "+t);return n=n.length<t?"0".repeat(t-n.length)+n:n},r.decode=function(e,t){if(t!==e.length)throw new R.DecodingError("invalid bit length");return parseInt(e,2)},r);function r(){}t.IntEncoder=n});S(q);q.IntEncoder;var Q=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.encode=function(e,t){return q.IntEncoder.encode(Math.round(e.getTime()/100),t)},r.decode=function(e,t){if(t!==e.length)throw new R.DecodingError("invalid bit length");var n=new Date;return n.setTime(100*q.IntEncoder.decode(e,t)),n},r);function r(){}t.DateEncoder=n});S(Q);Q.DateEncoder;var K=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.encode=function(e,t){for(var n="",r=1;r<=t;r++)n+=Y.BooleanEncoder.encode(e.has(r));return n},r.decode=function(e,t){if(e.length!==t)throw new R.DecodingError("bitfield encoding length mismatch");for(var n=new J.Vector,r=1;r<=t;r++)Y.BooleanEncoder.decode(e[r-1])&&n.set(r);return n.bitLength=e.length,n},r);function r(){}t.FixedVectorEncoder=n});S(K);K.FixedVectorEncoder;var $=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.encode=function(e,t){var n=(e=e.toUpperCase()).charCodeAt(0)-65,r=e.charCodeAt(1)-65;if(n<0||25<n||r<0||25<r)throw new R.EncodingError("invalid language code: "+e);if(t%2==1)throw new R.EncodingError("numBits must be even, "+t+" is not valid");return q.IntEncoder.encode(n,t/=2)+q.IntEncoder.encode(r,t)},r.decode=function(e,t){if(t!==e.length||e.length%2)throw new R.DecodingError("invalid bit length for language");var n=e.length/2,t=q.IntEncoder.decode(e.slice(0,n),n)+65,n=q.IntEncoder.decode(e.slice(n),n)+65;return String.fromCharCode(t)+String.fromCharCode(n)},r);function r(){}t.LangEncoder=n});S($);$.LangEncoder;var X=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.encode=function(u){var l=q.IntEncoder.encode(u.numRestrictions,z.BitLength.numRestrictions);return u.isEmpty()||u.getRestrictions().forEach(function(e){l+=q.IntEncoder.encode(e.purposeId,z.BitLength.purposeId),l+=q.IntEncoder.encode(e.restrictionType,z.BitLength.restrictionType);for(var t=u.getVendors(e),n=t.length,r=0,o=0,i="",s=0;s<n;s++){var a,c=t[s];0===o&&(r++,o=c),(s===n-1||t[s+1]>c+1)&&(i+=Y.BooleanEncoder.encode(a=!(c===o)),i+=q.IntEncoder.encode(o,z.BitLength.vendorId),a&&(i+=q.IntEncoder.encode(c,z.BitLength.vendorId)),o=0)}l+=q.IntEncoder.encode(r,z.BitLength.numEntries),l+=i}),l},r.decode=function(e){var t=0,n=new J.PurposeRestrictionVector,r=q.IntEncoder.decode(e.substr(t,z.BitLength.numRestrictions),z.BitLength.numRestrictions);t+=z.BitLength.numRestrictions;for(var o=0;o<r;o++){var i=q.IntEncoder.decode(e.substr(t,z.BitLength.purposeId),z.BitLength.purposeId);t+=z.BitLength.purposeId;var s=q.IntEncoder.decode(e.substr(t,z.BitLength.restrictionType),z.BitLength.restrictionType);t+=z.BitLength.restrictionType;var a=new J.PurposeRestriction(i,s),c=q.IntEncoder.decode(e.substr(t,z.BitLength.numEntries),z.BitLength.numEntries);t+=z.BitLength.numEntries;for(var u=0;u<c;u++){var l=Y.BooleanEncoder.decode(e.substr(t,z.BitLength.anyBoolean));t+=z.BitLength.anyBoolean;var d=q.IntEncoder.decode(e.substr(t,z.BitLength.vendorId),z.BitLength.vendorId);if(t+=z.BitLength.vendorId,l){var p=q.IntEncoder.decode(e.substr(t,z.BitLength.vendorId),z.BitLength.vendorId);if(t+=z.BitLength.vendorId,p<d)throw new R.DecodingError("Invalid RangeEntry: endVendorId "+p+" is less than "+d);for(var f=d;f<=p;f++)n.add(f,a)}else n.add(d,a)}}return n.bitLength=t,n},r);function r(){}t.PurposeRestrictionVectorEncoder=n});S(X);X.PurposeRestrictionVectorEncoder;var Z=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.VectorEncodingType||(t.VectorEncodingType={}))[t.FIELD=0]="FIELD",t[t.RANGE=1]="RANGE"});S(Z);Z.VectorEncodingType;var ee=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.encode=function(n){var r,o=[],i=[],e=q.IntEncoder.encode(n.maxId,z.BitLength.maxId),s="",t=z.BitLength.maxId+z.BitLength.encodingType,a=t+n.maxId,c=2*z.BitLength.vendorId+z.BitLength.singleOrRange+z.BitLength.numEntries,u=t+z.BitLength.numEntries;return n.forEach(function(e,t){s+=Y.BooleanEncoder.encode(e),(r=n.maxId>c&&u<a)&&e&&(n.has(t+1)?0===i.length&&(i.push(t),u+=z.BitLength.singleOrRange,u+=z.BitLength.vendorId):(i.push(t),u+=z.BitLength.vendorId,o.push(i),i=[]))}),r?(e+=Z.VectorEncodingType.RANGE+"",e+=this.buildRangeEncoding(o)):(e+=Z.VectorEncodingType.FIELD+"",e+=s),e},r.decode=function(e,t){var n,r=0,o=q.IntEncoder.decode(e.substr(r,z.BitLength.maxId),z.BitLength.maxId);r+=z.BitLength.maxId;var i=q.IntEncoder.decode(e.charAt(r),z.BitLength.encodingType);if(r+=z.BitLength.encodingType,i===Z.VectorEncodingType.RANGE){if(n=new J.Vector,1===t){if("1"===e.substr(r,1))throw new R.DecodingError("Unable to decode default consent=1");r++}var s=q.IntEncoder.decode(e.substr(r,z.BitLength.numEntries),z.BitLength.numEntries);r+=z.BitLength.numEntries;for(var a=0;a<s;a++){var c=Y.BooleanEncoder.decode(e.charAt(r));r+=z.BitLength.singleOrRange;var u=q.IntEncoder.decode(e.substr(r,z.BitLength.vendorId),z.BitLength.vendorId);if(r+=z.BitLength.vendorId,c){var l=q.IntEncoder.decode(e.substr(r,z.BitLength.vendorId),z.BitLength.vendorId);r+=z.BitLength.vendorId;for(var d=u;d<=l;d++)n.set(d)}else n.set(u)}}else{t=e.substr(r,o);r+=o,n=K.FixedVectorEncoder.decode(t,o)}return n.bitLength=r,n},r.buildRangeEncoding=function(e){var t=e.length,n=q.IntEncoder.encode(t,z.BitLength.numEntries);return e.forEach(function(e){var t=1===e.length;n+=Y.BooleanEncoder.encode(!t),n+=q.IntEncoder.encode(e[0],z.BitLength.vendorId),t||(n+=q.IntEncoder.encode(e[1],z.BitLength.vendorId))}),n},r);function r(){}t.VendorVectorEncoder=n});S(ee);ee.VendorVectorEncoder;var te=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r,o,i,s,a,c,u,l,d,p,f,h,g,v,y,m,b,E,_,O,w,I,L,S,C,C=(n=J.Fields.version,r=J.Fields.created,o=J.Fields.lastUpdated,i=J.Fields.cmpId,s=J.Fields.cmpVersion,a=J.Fields.consentScreen,c=J.Fields.consentLanguage,u=J.Fields.vendorListVersion,l=J.Fields.policyVersion,d=J.Fields.isServiceSpecific,p=J.Fields.useNonStandardStacks,f=J.Fields.specialFeatureOptins,h=J.Fields.purposeConsents,g=J.Fields.purposeLegitimateInterests,v=J.Fields.purposeOneTreatment,y=J.Fields.publisherCountryCode,m=J.Fields.vendorConsents,b=J.Fields.vendorLegitimateInterests,E=J.Fields.publisherRestrictions,_=J.Fields.vendorsDisclosed,O=J.Fields.vendorsAllowed,w=J.Fields.publisherConsents,I=J.Fields.publisherLegitimateInterests,L=J.Fields.numCustomPurposes,S=J.Fields.publisherCustomConsents,C=J.Fields.publisherCustomLegitimateInterests,P[n]=q.IntEncoder,P[r]=Q.DateEncoder,P[o]=Q.DateEncoder,P[i]=q.IntEncoder,P[s]=q.IntEncoder,P[a]=q.IntEncoder,P[c]=$.LangEncoder,P[u]=q.IntEncoder,P[l]=q.IntEncoder,P[d]=Y.BooleanEncoder,P[p]=Y.BooleanEncoder,P[f]=K.FixedVectorEncoder,P[h]=K.FixedVectorEncoder,P[g]=K.FixedVectorEncoder,P[v]=Y.BooleanEncoder,P[y]=$.LangEncoder,P[m]=ee.VendorVectorEncoder,P[b]=ee.VendorVectorEncoder,P[E]=X.PurposeRestrictionVectorEncoder,P.segmentType=q.IntEncoder,P[_]=ee.VendorVectorEncoder,P[O]=ee.VendorVectorEncoder,P[w]=K.FixedVectorEncoder,P[I]=K.FixedVectorEncoder,P[L]=q.IntEncoder,P[S]=K.FixedVectorEncoder,P[C]=K.FixedVectorEncoder,P);function P(){}t.FieldEncoderMap=C});S(te);te.FieldEncoderMap;var ne=C(function(e,n){function t(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),t(Y),t(Q),t(te),t(K),t(q),t($),t(X),t(Z),t(ee)});S(ne);var re=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.FieldSequence=function(){var e;this[1]=((e={})[J.Segment.CORE]=[J.Fields.version,J.Fields.created,J.Fields.lastUpdated,J.Fields.cmpId,J.Fields.cmpVersion,J.Fields.consentScreen,J.Fields.consentLanguage,J.Fields.vendorListVersion,J.Fields.purposeConsents,J.Fields.vendorConsents],e),this[2]=((e={})[J.Segment.CORE]=[J.Fields.version,J.Fields.created,J.Fields.lastUpdated,J.Fields.cmpId,J.Fields.cmpVersion,J.Fields.consentScreen,J.Fields.consentLanguage,J.Fields.vendorListVersion,J.Fields.policyVersion,J.Fields.isServiceSpecific,J.Fields.useNonStandardStacks,J.Fields.specialFeatureOptins,J.Fields.purposeConsents,J.Fields.purposeLegitimateInterests,J.Fields.purposeOneTreatment,J.Fields.publisherCountryCode,J.Fields.vendorConsents,J.Fields.vendorLegitimateInterests,J.Fields.publisherRestrictions],e[J.Segment.PUBLISHER_TC]=[J.Fields.publisherConsents,J.Fields.publisherLegitimateInterests,J.Fields.numCustomPurposes,J.Fields.publisherCustomConsents,J.Fields.publisherCustomLegitimateInterests],e[J.Segment.VENDORS_ALLOWED]=[J.Fields.vendorsAllowed],e[J.Segment.VENDORS_DISCLOSED]=[J.Fields.vendorsDisclosed],e)}});S(re);re.FieldSequence;var oe=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.SegmentSequence=function(e,t){this[1]=[J.Segment.CORE],this[2]=[J.Segment.CORE],2===e.version&&(e.isServiceSpecific?this[2].push(J.Segment.PUBLISHER_TC):((t=!(!t||!t.isForVendors))&&!0!==e[J.Fields.supportOOB]||this[2].push(J.Segment.VENDORS_DISCLOSED),t&&(e[J.Fields.supportOOB]&&0<e[J.Fields.vendorsAllowed].size&&this[2].push(J.Segment.VENDORS_ALLOWED),this[2].push(J.Segment.PUBLISHER_TC))))}});S(oe);oe.SegmentSequence;var ie=C(function(e,n){function t(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),t(re),t(oe)});S(ie);var se=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.encode=function(o,i){var e,s=this;try{e=this.fieldSequence[""+o.version][i]}catch(e){throw new R.EncodingError("Unable to encode version: "+o.version+", segment: "+i)}var a="";return i!==J.Segment.CORE&&(a=ne.IntEncoder.encode(J.SegmentIDs.KEY_TO_ID[i],z.BitLength.segmentType)),e.forEach(function(t){var e=o[t],n=ne.FieldEncoderMap[t],r=z.BitLength[t];void 0===r&&s.isPublisherCustom(t)&&(r=+o[D.Fields.numCustomPurposes]);try{a+=n.encode(e,r)}catch(e){throw new R.EncodingError("Error encoding "+i+"->"+t+": "+e.message)}}),B.Base64Url.encode(a)},r.decode=function(e,o,t){var i=this,s=B.Base64Url.decode(e),a=0;return t===J.Segment.CORE&&(o.version=ne.IntEncoder.decode(s.substr(a,z.BitLength[D.Fields.version]),z.BitLength[D.Fields.version])),t!==J.Segment.CORE&&(a+=z.BitLength.segmentType),this.fieldSequence[""+o.version][t].forEach(function(e){var t=ne.FieldEncoderMap[e],n=z.BitLength[e];if(0!==(n=void 0===n&&i.isPublisherCustom(e)?+o[D.Fields.numCustomPurposes]:n)){var r=s.substr(a,n);if(t===ne.VendorVectorEncoder?o[e]=t.decode(r,o.version):o[e]=t.decode(r,n),Number.isInteger(n))a+=n;else{if(!Number.isInteger(o[e].bitLength))throw new R.DecodingError(e);a+=o[e].bitLength}}}),o},r.isPublisherCustom=function(e){return 0===e.indexOf("publisherCustom")},r.fieldSequence=new ie.FieldSequence,r);function r(){}t.SegmentEncoder=n});S(se);se.SegmentEncoder;var ae=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.process=function(e,t){var n=e.gvl;if(!n)throw new R.EncodingError("Unable to encode TCModel without a GVL");if(!n.isReady)throw new R.EncodingError("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.toUpperCase(),0<(null===t||void 0===t?void 0:t.version)&&(null===t||void 0===t?void 0:t.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;t=e.version-1;if(!this.processor[t])throw new R.EncodingError("Invalid version: "+e.version);return this.processor[t](e,n)},r.processor=[function(e){return e},function(c,u){c.publisherRestrictions.gvl=u,c.purposeLegitimateInterests.unset(1);var e=new Map;return e.set("legIntPurposes",c.vendorLegitimateInterests),e.set("purposes",c.vendorConsents),e.forEach(function(s,a){s.forEach(function(e,t){if(e){e=u.vendors[t];if(!e||e.deletedDate)s.unset(t);else if(0===e[a].length)if(c.isServiceSpecific)if(0===e.flexiblePurposes.length)s.unset(t);else{for(var n=c.publisherRestrictions.getRestrictions(t),r=!1,o=0,i=n.length;o<i&&!r;o++)r=n[o].restrictionType===J.RestrictionType.REQUIRE_CONSENT&&"purposes"===a||n[o].restrictionType===J.RestrictionType.REQUIRE_LI&&"legIntPurposes"===a;r||s.unset(t)}else s.unset(t)}})}),c.vendorsDisclosed.set(u.vendors),c}],r);function r(){}t.SemanticPreEncoder=n});S(ae);ae.SemanticPreEncoder;var ce=C(function(e,n){function t(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),t(B),t(z),t(se),t(ae),t(ne),t(ie)});S(ce);var ue=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.absCall=function(e,o,i,s){return new Promise(function(t,n){var r=new XMLHttpRequest;r.withCredentials=i,r.addEventListener("load",function(){if(r.readyState==XMLHttpRequest.DONE)if(200<=r.status&&r.status<300){var e=r.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}t(e)}else n(new Error("HTTP Status: "+r.status+" response type: "+r.responseType))}),r.addEventListener("error",function(){n(new Error("error"))}),r.addEventListener("abort",function(){n(new Error("aborted"))}),null===o?r.open("GET",e,!0):r.open("POST",e,!0),r.responseType="json",r.timeout=s,r.ontimeout=function(){n(new Error("Timeout "+s+"ms "+e))},r.send(o)})},r.post=function(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=0),this.absCall(e,JSON.stringify(t),n,r)},r.fetch=function(e,t,n){return this.absCall(e,null,t=void 0===t?!1:t,n=void 0===n?0:n)},r);function r(){}t.Json=n});S(ue);ue.Json;var le=C(function(e,t){var r,n=L&&L.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=L&&L.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(n,t){function r(e){try{i(c.next(e))}catch(e){t(e)}}function o(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,o)}i((c=c.apply(e,s||[])).next())})},s=L&&L.__generator||function(n,r){var o,i,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(s=2&t[0]?i.return:t[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,t[1])).done)return s;switch(i=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!((s=0<(s=a.trys).length&&s[s.length-1])||6!==t[0]&&2!==t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],i=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=j.Cloneable,n(a,i),Object.defineProperty(a,"baseUrl",{get:function(){return this.baseUrl_},set:function(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new R.GVLError("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");0<e.length&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e},enumerable:!0,configurable:!0}),a.emptyLanguageCache=function(e){var t=!1;return void 0===e&&0<a.LANGUAGE_CACHE.size?(a.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(a.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t},a.emptyCache=function(e){var t=!1;return Number.isInteger(e)&&0<=e?(a.CACHE.delete(e),t=!0):void 0===e&&(a.CACHE=new Map,t=!0),t},a.prototype.cacheLanguage=function(){a.LANGUAGE_CACHE.has(this.lang_)||a.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})},a.prototype.fetchJson=function(r){return o(this,void 0,void 0,function(){var t,n;return s(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this.populate,[4,ue.Json.fetch(r)];case 1:return t.apply(this,[e.sent()]),[3,3];case 2:throw n=e.sent(),new R.GVLError(n.message);case 3:return[2]}})})},a.prototype.getJson=function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))},a.prototype.changeLanguage=function(i){return o(this,void 0,void 0,function(){var t,n,r,o;return s(this,function(e){switch(e.label){case 0:if(o=i.toUpperCase(),!a.consentLanguages.has(o))return[3,6];if(o===this.lang_)return[3,5];if(this.lang_=o,!a.LANGUAGE_CACHE.has(o))return[3,1];for(n in t=a.LANGUAGE_CACHE.get(o))t.hasOwnProperty(n)&&(this[n]=t[n]);return[3,5];case 1:r=a.baseUrl+a.languageFilename.replace("[LANG]",i),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.fetchJson(r)];case 3:return e.sent(),this.cacheLanguage(),[3,5];case 4:throw o=e.sent(),new R.GVLError("unable to load language: "+o.message);case 5:return[3,7];case 6:throw new R.GVLError("unsupported language "+i);case 7:return[2]}})})},Object.defineProperty(a.prototype,"language",{get:function(){return this.lang_},enumerable:!0,configurable:!0}),a.prototype.isVendorList=function(e){return void 0!==e&&void 0!==e.vendors},a.prototype.populate=function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&a.CACHE.set(a.LATEST_CACHE_KEY,this.getJson()),a.CACHE.has(this.vendorListVersion)||a.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()},a.prototype.mapVendors=function(e){var r=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(function(e){r.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(function(e){r.bySpecialPurposeVendorMap[e]=new Set}),Object.keys(this.features).forEach(function(e){r.byFeatureVendorMap[e]=new Set}),Object.keys(this.specialFeatures).forEach(function(e){r.bySpecialFeatureVendorMap[e]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(function(e){return+e})),this.vendorIds=new Set(e),this.vendors_=e.reduce(function(e,t){var n=r.vendors_[""+t];return n&&void 0===n.deletedDate&&(n.purposes.forEach(function(e){r.byPurposeVendorMap[e+""].consent.add(t)}),n.specialPurposes.forEach(function(e){r.bySpecialPurposeVendorMap[e+""].add(t)}),n.legIntPurposes.forEach(function(e){r.byPurposeVendorMap[e+""].legInt.add(t)}),n.flexiblePurposes&&n.flexiblePurposes.forEach(function(e){r.byPurposeVendorMap[e+""].flexible.add(t)}),n.features.forEach(function(e){r.byFeatureVendorMap[e+""].add(t)}),n.specialFeatures.forEach(function(e){r.bySpecialFeatureVendorMap[e+""].add(t)}),e[t]=n),e},{})},a.prototype.getFilteredVendors=function(e,t,n,r){var o=this,i=e.charAt(0).toUpperCase()+e.slice(1),s={};return("purpose"===e&&n?this["by"+i+"VendorMap"][t+""][n]:this["by"+(r?"Special":"")+i+"VendorMap"][t+""]).forEach(function(e){s[e+""]=o.vendors[e+""]}),s},a.prototype.getVendorsWithConsentPurpose=function(e){return this.getFilteredVendors("purpose",e,"consent")},a.prototype.getVendorsWithLegIntPurpose=function(e){return this.getFilteredVendors("purpose",e,"legInt")},a.prototype.getVendorsWithFlexiblePurpose=function(e){return this.getFilteredVendors("purpose",e,"flexible")},a.prototype.getVendorsWithSpecialPurpose=function(e){return this.getFilteredVendors("purpose",e,void 0,!0)},a.prototype.getVendorsWithFeature=function(e){return this.getFilteredVendors("feature",e)},a.prototype.getVendorsWithSpecialFeature=function(e){return this.getFilteredVendors("feature",e,void 0,!0)},Object.defineProperty(a.prototype,"vendors",{get:function(){return this.vendors_},enumerable:!0,configurable:!0}),a.prototype.narrowVendorsTo=function(e){this.mapVendors(e)},Object.defineProperty(a.prototype,"isReady",{get:function(){return this.isReady_},enumerable:!0,configurable:!0}),a.prototype.clone=function(){return new a(this.getJson())},a.isInstanceOf=function(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo},a.LANGUAGE_CACHE=new Map,a.CACHE=new Map,a.LATEST_CACHE_KEY=0,a.DEFAULT_LANGUAGE="EN",a.consentLanguages=new J.ConsentLanguages,a.latestFilename="vendor-list.json",a.versionedFilename="archives/vendor-list-v[VERSION].json",a.languageFilename="purposes-[LANG].json",a);function a(e){var t=i.call(this)||this;t.isReady_=!1,t.isLatest=!1;var n=a.baseUrl;if(t.lang_=a.DEFAULT_LANGUAGE,t.isVendorList(e))t.populate(e),t.readyPromise=Promise.resolve();else{if(!n)throw new R.GVLError("must specify GVL.baseUrl before loading GVL json");0<e?a.CACHE.has(e=e)?(t.populate(a.CACHE.get(e)),t.readyPromise=Promise.resolve()):(n+=a.versionedFilename.replace("[VERSION]",e+""),t.readyPromise=t.fetchJson(n)):a.CACHE.has(a.LATEST_CACHE_KEY)?(t.populate(a.CACHE.get(a.LATEST_CACHE_KEY)),t.readyPromise=Promise.resolve()):(t.isLatest=!0,t.readyPromise=t.fetchJson(n+a.latestFilename))}return t}t.GVL=n});S(le);le.GVL;var de=C(function(e,t){var r,n=L&&L.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,n=(o=j.Cloneable,n(i,o),Object.defineProperty(i.prototype,"gvl",{get:function(){return this.gvl_},set:function(e){le.GVL.isInstanceOf(e)||(e=new le.GVL(e)),this.gvl_=e,this.publisherRestrictions.gvl=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cmpId",{get:function(){return this.cmpId_},set:function(e){if(!(Number.isInteger(+e)&&1<e))throw new R.TCModelError("cmpId",e);this.cmpId_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cmpVersion",{get:function(){return this.cmpVersion_},set:function(e){if(!(Number.isInteger(+e)&&-1<e))throw new R.TCModelError("cmpVersion",e);this.cmpVersion_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"consentScreen",{get:function(){return this.consentScreen_},set:function(e){if(!(Number.isInteger(+e)&&-1<e))throw new R.TCModelError("consentScreen",e);this.consentScreen_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"consentLanguage",{get:function(){return this.consentLanguage_},set:function(e){this.consentLanguage_=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"publisherCountryCode",{get:function(){return this.publisherCountryCode_},set:function(e){if(!/^([A-z]){2}$/.test(e))throw new R.TCModelError("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"vendorListVersion",{get:function(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_},set:function(e){if((e=+e>>0)<0)throw new R.TCModelError("vendorListVersion",e);this.vendorListVersion_=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"policyVersion",{get:function(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_},set:function(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new R.TCModelError("policyVersion",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"version",{get:function(){return this.version_},set:function(e){this.version_=parseInt(e,10)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isServiceSpecific",{get:function(){return this.isServiceSpecific_},set:function(e){this.isServiceSpecific_=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"useNonStandardStacks",{get:function(){return this.useNonStandardStacks_},set:function(e){this.useNonStandardStacks_=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"supportOOB",{get:function(){return this.supportOOB_},set:function(e){this.supportOOB_=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"purposeOneTreatment",{get:function(){return this.purposeOneTreatment_},set:function(e){this.purposeOneTreatment_=e},enumerable:!0,configurable:!0}),i.prototype.setAllVendorConsents=function(){this.vendorConsents.set(this.gvl.vendors)},i.prototype.unsetAllVendorConsents=function(){this.vendorConsents.empty()},i.prototype.setAllVendorsDisclosed=function(){this.vendorsDisclosed.set(this.gvl.vendors)},i.prototype.unsetAllVendorsDisclosed=function(){this.vendorsDisclosed.empty()},i.prototype.setAllVendorsAllowed=function(){this.vendorsAllowed.set(this.gvl.vendors)},i.prototype.unsetAllVendorsAllowed=function(){this.vendorsAllowed.empty()},i.prototype.setAllVendorLegitimateInterests=function(){this.vendorLegitimateInterests.set(this.gvl.vendors)},i.prototype.unsetAllVendorLegitimateInterests=function(){this.vendorLegitimateInterests.empty()},i.prototype.setAllPurposeConsents=function(){this.purposeConsents.set(this.gvl.purposes)},i.prototype.unsetAllPurposeConsents=function(){this.purposeConsents.empty()},i.prototype.setAllPurposeLegitimateInterests=function(){this.purposeLegitimateInterests.set(this.gvl.purposes)},i.prototype.unsetAllPurposeLegitimateInterests=function(){this.purposeLegitimateInterests.empty()},i.prototype.setAllSpecialFeatureOptins=function(){this.specialFeatureOptins.set(this.gvl.specialFeatures)},i.prototype.unsetAllSpecialFeatureOptins=function(){this.specialFeatureOptins.empty()},i.prototype.setAll=function(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()},i.prototype.unsetAll=function(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()},Object.defineProperty(i.prototype,"numCustomPurposes",{get:function(){var e,t=this.numCustomPurposes_;return"object"==typeof this.customPurposes&&(e=Object.keys(this.customPurposes).sort(function(e,t){return+e-+t}),t=parseInt(e.pop(),10)),t},set:function(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new R.TCModelError("numCustomPurposes",e)},enumerable:!0,configurable:!0}),i.prototype.updated=function(){this.lastUpdated=new Date},i.consentLanguages=le.GVL.consentLanguages,i);function i(e){var t=o.call(this)||this;return t.isServiceSpecific_=!1,t.supportOOB_=!0,t.useNonStandardStacks_=!1,t.purposeOneTreatment_=!1,t.publisherCountryCode_="AA",t.version_=2,t.consentScreen_=0,t.policyVersion_=2,t.consentLanguage_="EN",t.cmpId_=0,t.cmpVersion_=0,t.vendorListVersion_=0,t.numCustomPurposes_=0,t.specialFeatureOptins=new J.Vector,t.purposeConsents=new J.Vector,t.purposeLegitimateInterests=new J.Vector,t.publisherConsents=new J.Vector,t.publisherLegitimateInterests=new J.Vector,t.publisherCustomConsents=new J.Vector,t.publisherCustomLegitimateInterests=new J.Vector,t.vendorConsents=new J.Vector,t.vendorLegitimateInterests=new J.Vector,t.vendorsDisclosed=new J.Vector,t.vendorsAllowed=new J.Vector,t.publisherRestrictions=new J.PurposeRestrictionVector,e&&(t.gvl=e),t.created=new Date,t.updated(),t}t.TCModel=n});S(de);var pe=de.TCModel,fe=C(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(r.encode=function(r,e){var o,i="";return r=ce.SemanticPreEncoder.process(r,e),(o=Array.isArray(null===e||void 0===e?void 0:e.segments)?e.segments:new ce.SegmentSequence(r,e)[""+r.version]).forEach(function(e,t){var n="";t<o.length-1&&(n="."),i+=ce.SegmentEncoder.encode(r,e)+n}),i},r.decode=function(e,t){var n=e.split("."),r=n.length;t=t||new de.TCModel;for(var o=0;o<r;o++){var i=n[o],s=ce.Base64Url.decode(i.charAt(0)).substr(0,ce.BitLength.segmentType),s=J.SegmentIDs.ID_TO_KEY[q.IntEncoder.decode(s,ce.BitLength.segmentType).toString()];ce.SegmentEncoder.decode(i,t,s)}return t},r);function r(){}t.TCString=n});S(fe);function he(e){return ye=e}function ge(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window;return"".concat(e,"&").concat(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window;if(ye)return ye;var e=t.location.href;if(t.self!==t.top)try{e=t.top.location.href}catch(e){return f.get("logger").log("Could not get window.top.location.href"),he("referer=".concat(encodeURIComponent(null===(t=window.AMP_CONTEXT_DATA)||void 0===t?void 0:t.sourceUrl))),ye}return he("referer=".concat(encodeURIComponent(e))),ye}(t))}function ve(e){var t;!function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];e=e.replace(/\[UNIQUE_ID\]/g,Date.now()+"");var n=new Image;n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("style","display: none"),n.src=t?ge(e):e,n.src}("https://pub.admanmedia.com/?c=w&m=error&placementId=".concat(e,"&error_referer=").concat((t=location.href,f.get("isTopAccessible")||(t=(t=(null===(e=window.AMP_CONTEXT_DATA)||void 0===e?void 0:e.sourceUrl)||document.referrer).split("#")[0].split("?")[0]),encodeURIComponent(t))),!1)}var ye,me=fe.TCString,b=b?u:g,be=document.currentScript;f.get()||f.init();f.set("scriptOrigin",document.currentScript);var u=f.get("logger"),Ee=u.log,_e=u.warning,Oe=function(s){var e=window.document.currentScript,a=e?e.dataset:null;if(a){var t=Object.keys(a).filter(function(e){return e=e,s===g?!E.test(e):E.test(e)}).reduce(function(e,t){var n,r,o,i=(r=t,(s===g?r:r.slice(6).toLowerCase()).replace(/[_]\w/gi,function(e){return e.charAt(1).toUpperCase()}));return _.test(i)?(n=t,o=a,(r=e).slot?r.slot.push(o[n]):r.slot=[o[n]]):e[i]=a[t],e},Object.assign({},{device:s}));t.placementId&&(t.id=t.placementId);var n="";if(t.id)n="hybs-".concat(t.id);else{if(!t.bannerId)throw new Error("No placement id provided! Cannot continue! Either data-placement_id or data-id is needed.");n="hybs-display-".concat(t.bannerId),t.id="hybs-display-".concat(t.bannerId),t.displayType="standalone"}return e&&e.setAttribute("id",n),t}}(b);!function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window;if("true"!==new URLSearchParams(e.location.search).get("hybs_debug")){var t,n=o(s);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.location.href.includes(r)){i=!0;break}}}catch(e){n.e(e)}finally{n.f()}}}(r()),Ee("Getting Params...",Oe),f.beta=null==Oe?void 0:Oe.beta;function we(){var e,t,n,s,r,a,o,c,u,i=Oe&&Oe.id;i?("surf"!==(null==Oe?void 0:Oe.format)&&(e=null==Oe?void 0:Oe.slot,t=be,e||"head"!==(null==t||null===(n=t.parentElement)||void 0===n||null===(r=n.tagName)||void 0===r?void 0:r.toLowerCase())||(_e("The tag: ".concat(i," is in the Header. please put it inside the body element")),ve(i))),Oe&&("true"===Oe.isSinglePlayer&&f.set("singlePlayer",!0),"surf"===Oe.format&&f.set("surfOnSite",!0)),s=l(Oe),f.addPlayer(s),i=(r=f.get("manager")).trackManager,a=r.tagManager,i.init(s),f.set("country",s.country),o=function(){try{return window.top.location.href,!0}catch(e){return!1}}(),f.set("isTopAccessible",o),o||window.$sf||((i=document.createElement("script")).src="https://tpc.googlesyndication.com/safeframe/1-0-31/js/ext.js",document.getElementsByTagName("head")[0].appendChild(i)),c=s.waitForCmp,u="true"===s.csp,function i(){!function(e){var t=!(0<arguments.length&&void 0!==e)||e;return new Promise(function(r,o){if(t){var i=window.top.__tcfapi;if(!i||"function"!=typeof i)return r("NO_TCFAPI");i("addEventListener",2,function(e,t){if(t&&"tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus){var n={tcString:e.tcString,gdprApplies:e.gdprApplies};return i("removeEventListener",2,function(e){},e.listenerId),null!==(t=e.vendor)&&void 0!==t&&t.consents[149]||(n.tcString=""),r(n)}return"cmpuishown"===e.eventStatus?o("cmpuishown"):r("No tcloaded")})}else{var n=window.setTimeout(function(){r("safeframe")},4e3);window.addEventListener("message",function(e){var t=e.data.__tcfapiReturn;if(t&&"hybsTcf2"===t.callId){window.clearTimeout(n);e=t.returnValue;if(e&&"tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus){t={tcString:e.tcString,gdprApplies:e.gdprApplies};return parent.postMessage({__tcfapiCall:{command:"removeEventListener",callId:"hybsTcf2",version:2}},"*"),null!==(e=e.vendor)&&void 0!==e&&e.consents[149]?r(t):r("Adman is not allowed as vendor")}return r("safeframe:tc not loaded ")}});parent.postMessage({__tcfapiCall:{command:"addEventListener",callId:"hybsTcf2",version:2}},"*")}})}(o).then(function(e){var t,n,r,o;c&&"NO_TCFAPI"===e?t=window.setTimeout(function(){c=void 0,i(),window.clearTimeout(t)},c):("NO_TCFAPI"!==e&&"safeframe"!==e||(n={tcString:"",gdprApplies:0},r=null===(r=f.get("scriptOrigin").previousElementSibling)||void 0===r||null===(o=r.getAttribute("src"))||void 0===o?void 0:o.split("?")[1],"1"===(o=new URLSearchParams(r)).get("gdpr")&&(n.gdprApplies=1,(r=o.get("gdpr_consent"))&&"${GDPR_CONSENT}"!==r&&(o=new pe,null!=(o=me.decode(r,o))&&o.vendorConsents.has(149)&&(f.get("logger").log("Set gdpr for amp"),n.tcString=r))),e=n),f.set("admanGdpr",{gdpr:e.gdprApplies?"1":"0",gdprConsent:e.tcString||""}),I(u),a.init(s))}).catch(function(e){Ee("CMP API v2.0:",e)})}()):_e("launchManager: No valid ID found!")}u=!0,b=(u=new URLSearchParams(window.location.search).has("HYBS_TEST")?!1:u)&&f&&"false"!==f.beta?"hybs-adman-player2.min.js":"hybs-adman-player.min.js",u=r().document,f.get()||f.init(),f.get("manager")?we():f.get("isHybsPlayerLoaded")?function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{interval:100,timeout:3e3},o=window.setInterval(function(){e()&&(window.clearInterval(o),t())},r.interval);window.setTimeout(function(){window.clearInterval(o),n()},r.timeout)}(function(){return f.get("manager")},we,function(){},{interval:100,timeout:1e4}):O("https://cdn-statics.admanmedia.com/"+b,u).then(function(){we(),f.set("isHybsPlayerLoaded",!0)});e.insertPlayerScript=void 0}({});
