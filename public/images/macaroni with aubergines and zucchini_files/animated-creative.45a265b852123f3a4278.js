window._bannerflow.registerModule('45a265b852123f3a4278',()=>{var LIB;LIB=(()=>{"use strict";var t,i,e={205283:(t,i,e)=>{var n,s,r;e.d(i,{vU:()=>a,G6:()=>c,un:()=>u,ce:()=>f,Vk:()=>p});const o=((null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||"").toLowerCase(),h=!!window.opr&&!!opr.addons||!!window.opera||o.indexOf(" opr/")>=0,a="undefined"!=typeof InstallTrigger,c=(null===(r=null===(s=window.navigator)||void 0===s?void 0:s.vendor)||void 0===r?void 0:r.indexOf("Apple"))>-1&&-1===navigator.userAgent.indexOf("crios")&&-1===o.indexOf("fxios"),u=!!!document.documentMode&&!!window.StyleMedia,l=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),d=l&&-1!=o.indexOf("edg"),f=((l||h||d)&&window.CSS,function(){try{const t=window.navigator.userAgent,i=t.indexOf("OS ");if((t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1)&&i>-1){const e=Number(t.substr(i+3,4).replace("_",".")),n=t.substr(i+3).split(" ")[0].replace(/_/g,".").split(".").map((t=>Number(t)));return{simple:e,full:{major:n[0],minor:n[1],patch:n[2]||0}}}}catch(t){console.warn("Could not get iOS version.")}return{simple:0,full:{major:0,minor:0,patch:0}}}());function p(){const t=navigator.userAgent;let i,e=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(e[1])?(i=/\brv[ :]+(\d+)/g.exec(t)||[],parseFloat(i[1])||-1):"Chrome"===e[1]&&(i=t.match(/\b(OPR|Edge)\/(\d+)/),null!=i)?parseFloat(i[2])||-1:(e=e[2]?[e[1],e[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(i=t.match(/version\/(\d+)/i))&&e.splice(1,1,i[1]),parseFloat(e[1])||-1)}},282861:(t,i,e)=>{e.d(i,{b3:()=>a,mW:()=>u,Ty:()=>p,kZ:()=>v});var n=e(288344),s=e(264486),r=e(722049),o=e(4195),h=e(205283);class a{static get origin(){var t;return null===(t=a.t)||void 0===t?void 0:t.origin}static async n(t="",i="",e=1){let n=!1;const s=h.ce.simple;return n=!(s>0&&s>=14.3&&s<14.5)&&await function(){c||(c=new Promise((t=>{const i=new Image;i.onload=i.onerror=()=>t(2===i.height),i.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"})));return c}(),a.t={webP:n,dpr:e,origin:t,defaultOrigin:i},n}static c(t,i={}){const e=t.imageAsset,r=function(t,i){const e=t.imageAsset;let n=t.states.reduce(((t,i)=>{const e=i.scaleX||0,n=i.scaleY||0;return Math.max(e,n,t)}),1);if(i)if(t.width<=i.width||t.height<=i.height){const e=(0,o.vd)(t,i,"cover");n=Math.min(e.width/t.width,n)}else n=1;if((null==e?void 0:e.width)&&(null==e?void 0:e.height)){const i=e.width,s=e.height;if(i<t.width*n)return{width:i,height:s}}return{width:t.width*n,height:t.height*n}}(t,i.sizeLimit),h=i.feedUrl||(null==e?void 0:e.url)||"",c=i.force?100:void 0,d="number"==typeof t.quality?t.quality:c;let f,p=t.fitOption;e||(p="cover"===p?"cover":"contain");const{origin:v,defaultOrigin:m,webP:g}=a.t,w=l(h,g);if("svg"===w||"gif"===w||void 0===d){const t=v&&m&&(0,n.A4)(h,m)?(0,n.r9)(h,v):h;return(0,s.Nm)(t)}if(!1!==i.crop&&"cover"===p){const i=u(t);f=function(t,i,e=.5,n=.5){if(!i||!i.width||!i.height)return;const s=Object.assign(Object.assign({},(0,o.vd)(i,t,"cover")),{x:0,y:0}),r=(0,o.nH)(t,s,e,n),h=i.width/s.width,a=(0,o.aR)({x:r.x*h,y:r.y*h,width:r.width*h,height:r.height*h}),c=(0,o.fy)(a);return c.x2=Math.min(c.x2,i.width),c.y2=Math.min(c.y2,i.height),c}(t,e,i.x,i.y)}const b=a.C("number"!=typeof t.quality||t.highDpi);return a.getUrl(h,Object.assign(Object.assign({},r),{fitOption:p,quality:d,cropping:f,dpr:b}))}static getUrl(t,i){const e=a.t;if(!e)throw new Error("ImageOptimizerUrlBuilder not initiated");return function(t,i){if(!t)throw new Error("No image url provided");(0,s.Nm)(t);const e=(i=Object.assign(Object.assign({},v),(0,r.Yc)(i))).imageOptimizerOrigin||"";if(!(0,s.Nm)(e)||(0,n.j3)(t))return t;const o=l(t,i.webpSupport);if("svg"===o||"gif"===o)return t;if(t.indexOf(e)>-1){const i=(0,n.Dg)(t).u;"string"==typeof i&&(t=decodeURIComponent(i))}if(!i.width||!i.height)throw new Error("No size provided");const h=i.position?{positionX:i.position.x,positionY:i.position.y}:void 0,a=(0,r.uZ)(i.dpr||1,1,2),c=Math.round(i.width*a),u=Math.round(i.height*a),f="number"==typeof i.quality?(0,r.uZ)(i.quality,0,99):void 0,p=Object.assign(Object.assign({u:encodeURIComponent(t),w:c,h:u,q:f,f:o,rt:d(i.fitOption)},h),i.cropping),m=(0,n.nZ)(p);return`${e}/api/image/${i.method}${m}`}(t,Object.assign({webpSupport:e.webP,imageOptimizerOrigin:e.origin,dpr:e.dpr},(0,r.Yc)(i)))}static F(t=""){const i="string"==typeof t?t:t.imageUrl||"";if(!this.t.origin&&"string"!=typeof t){const e=f(i),s="svg"!==e&&"gif"!==e,r="cover"===t.__data.fitOption;return(0,n.j3)(i)&&r&&s&&!(0,n.Zp)(i)}return!!i&&a.A(i)&&!!(0,n.Dg)(i).x1}static getOriginalUrl(t=""){return a.A(t)?p(t)||"":t}static A(t){const i=a.origin;return!!i&&function(t,i){return t.indexOf(i)>-1&&!!p(t)}(t,i)}static C(t){const i=window.devicePixelRatio;return t&&i?(0,r.uZ)((0,r.dO)(i,.5),1,2):this.t.dpr}}let c;function u(t){let i=.5,e=.5;const{imageAsset:n,fitOption:s}=t;if("cover"===s&&(null==n?void 0:n.width)&&(null==n?void 0:n.height)){const{fitPositionX:s,fitPositionY:h}=t,a=(0,o.vd)(n,t,"cover");if(s){const e=a.width-t.width;e>0&&(i=(0,r.uZ)(.5-.5*s/e,0,1))}if(h){const i=a.height-t.height;i>0&&(e=(0,r.uZ)(.5-.5*h/i,0,1))}}return{x:i,y:e}}function l(t,i=!1){const e=f(t),n=h.ce.simple;return"gif"===e&&n>0&&n>=14&&n<15&&(i=!1),"svg"===e?e:i?"webp":e&&"webp"!==e?e:"png"}function d(t){return"distort"===t?"contain":t}function f(t){const i=(0,n.mD)(t);switch(i){case"jpg":return"jpeg";case"webp":case"jpeg":case"gif":case"png":case"svg":return i}}function p(t){return(0,n.Dg)(t).u}const v={webpSupport:!1,imageOptimizerOrigin:"",method:"optimize",quality:85,dpr:1}},288344:(t,i,e)=>{e.d(i,{Dg:()=>o,j3:()=>h,CB:()=>a,Zp:()=>c,C6:()=>u,ge:()=>l,r9:()=>d,$q:()=>f,A4:()=>p,nZ:()=>v,mD:()=>m,NU:()=>g,Ok:()=>w});var n=e(812193);const s=/^(?:https?:\/\/)?(?:[^@\/\n]+@)?(?:www\.)?([^:\/?\n]+)/gim,r=/([--:\w?@%&+~#=]*\.[a-z]{2,4}\/{0,2})((?:[?&](?:\w+)=(?:\w+))+|[--:\w?@%&+~#=]+)?/;function o(t=""){const i={},e=n.i.get(t);if(e)return e;if(t&&t.indexOf("?")>-1)try{new URL(t).searchParams.forEach(((t,e)=>{i[e]=t}))}catch(s){let e;t&&t.indexOf("?")>-1&&(t=t.substring(t.indexOf("?")+1));const n=/\+/g,r=/([^&=]+)=?([^&]*)/g,o=t=>{try{t=decodeURIComponent(t.replace(n," "))}catch(s){}return t},h=t||window.location.search.substring(1);for(;e=r.exec(h);)i[o(e[1])]=o(e[2])}return n.i.set(t,i),i}function h(t){return!!t&&0!==t.replace(/^https?:/,"").indexOf("//")}function a(t){return"string"==typeof t&&!!t.match(r)}function c(t){return!!t&&t.startsWith("data:image")}function u(t="",i=""){return t.length&&i.length&&("/"!==t.charAt(t.length-1)&&(t+="/"),"/"===i.charAt(0)&&(i=i.substr(1))),t+i}function l(t,i=!0){if("string"==typeof t){const e=t.match(s);if(e)return i?function(t){return t.replace(/^((https?:)?\/\/)/gim,"")}(e[0]):e[0]}}function d(t,i){return i?t.replace(new URL(t).origin,new URL(i).origin):t}function f(t){if(!t)return!1;const i="function"==typeof URL?new URL(t).hostname:l(t,!0);return!!i&&!!i.match(/((bannerflow\.)|(studio\.local))/g)}function p(t,i){return l(t)===l(i)}function v(t,i=!0){if("object"==typeof t){const e=[];for(const n in t){const s=t[n];(void 0!==s&&s.toString()||!i)&&e.push(n+"="+s)}return e.length?"?"+e.join("&"):""}return""}function m(t){if(t){const i=t.match(/\.[0-9a-z]{1,4}$/i);if(i)return i[0].substr(1).toLowerCase()}}function g(t){const i=m(t);return!!i&&/(mp4|mov|webm|h264)/.test(i)}function w(){return!!window&&"file:"===window.location.protocol}},435420:(t,i,e)=>{e.d(i,{o6:()=>s,ck:()=>r});e(722049);var n=e(516471);function s(t){const i={};for(const e in n.p)i[n.p[e]]=(i,s)=>t.callback(i,n.p[e],s);return i}function r(t){return t===n.p.MouseLeave||t===n.p.TouchEnd||t===n.p.TouchCancel}e(982628).Cj},450290:(t,i,e)=>{e.r(i),e.d(i,{AnimatedCreative:()=>rt,Color:()=>w.Il});var n,s=e(201900),r=e(872030);!function(t){t.Render="render",t.Preload="preload",t.CreativeLoad="creativeload",t.Init="init",t.Click="click",t.ViewEnter="viewenter",t.ViewLeave="viewleave",t.IABViewEnter="iab_viewenter",t.IABViewLeave="iab_viewleave",t.PageReady="ready",t.Error="error",t.Destroy="destroy",t.Play="play",t.Stop="stop",t.Seek="seek",t.Loop="loop",t.Pause="pause",t.TCData="tcdata"}(n||(n={}));var o=e(282861),h=e(288344);function a(t,i){if(t===i)return!0;let e=i.parentNode;for(;e;){if(e===t)return!0;e=e.parentNode}return!1}const c=new Map;async function u(t,i){let e=t.src||t.fontUrl;("undefined"==typeof process||(process.env.IN_TEST,0))&&window.bfstudio&&(e=(0,h.r9)(e,process.env.FONTS_AZURE_STORAGE_CDN_ORIGIN)),"undefined"!=typeof process&&process.env.IN_TEST||!i||(e=(0,h.r9)(e,i));let n=c.get(t.id);if(n)return await n.load();if("src"in t)n=new FontFace("f-"+t.id,`url(${e})`);else{if(!("fontUrl"in t))throw new Error("Unknown font style.");n=new FontFace("f-"+t.id,`url(${e})`)}return c.set(t.id,n),await n.load()}var l=e(121921),d=e(944334),f=e(19114),p=e(378049),v=e(742191),m=e(722049),g=e(285328),w=e(100789);var b=e(382154);C("0651\n0652\n0670\n0640\n0627\n064C-065F");const y=C("0041-005A\n0061-007A\n00AA\n00B5\n00BA\n00C0-00D6\n00D8-00F6\n00F8-0220\n0222-0233\n0250-02AD\n02B0-02B8\n02BB-02C1\n02D0-02D1\n02E0-02E4\n02EE\n037A\n0386\n0388-038A\n038C\n038E-03A1\n03A3-03CE\n03D0-03F5\n0400-0482\n048A-04CE\n04D0-04F5\n04F8-04F9\n0500-050F\n0531-0556\n0559-055F\n0561-0587\n0589\n0903\n0905-0939\n093D-0940\n0949-094C\n0950\n0958-0961\n0964-0970\n0982-0983\n0985-098C\n098F-0990\n0993-09A8\n09AA-09B0\n09B2\n09B6-09B9\n09BE-09C0\n09C7-09C8\n09CB-09CC\n09D7\n09DC-09DD\n09DF-09E1\n09E6-09F1\n09F4-09FA\n0A05-0A0A\n0A0F-0A10\n0A13-0A28\n0A2A-0A30\n0A32-0A33\n0A35-0A36\n0A38-0A39\n0A3E-0A40\n0A59-0A5C\n0A5E\n0A66-0A6F\n0A72-0A74\n0A83\n0A85-0A8B\n0A8D\n0A8F-0A91\n0A93-0AA8\n0AAA-0AB0\n0AB2-0AB3\n0AB5-0AB9\n0ABD-0AC0\n0AC9\n0ACB-0ACC\n0AD0\n0AE0\n0AE6-0AEF\n0B02-0B03\n0B05-0B0C\n0B0F-0B10\n0B13-0B28\n0B2A-0B30\n0B32-0B33\n0B36-0B39\n0B3D-0B3E\n0B40\n0B47-0B48\n0B4B-0B4C\n0B57\n0B5C-0B5D\n0B5F-0B61\n0B66-0B70\n0B83\n0B85-0B8A\n0B8E-0B90\n0B92-0B95\n0B99-0B9A\n0B9C\n0B9E-0B9F\n0BA3-0BA4\n0BA8-0BAA\n0BAE-0BB5\n0BB7-0BB9\n0BBE-0BBF\n0BC1-0BC2\n0BC6-0BC8\n0BCA-0BCC\n0BD7\n0BE7-0BF2\n0C01-0C03\n0C05-0C0C\n0C0E-0C10\n0C12-0C28\n0C2A-0C33\n0C35-0C39\n0C41-0C44\n0C60-0C61\n0C66-0C6F\n0C82-0C83\n0C85-0C8C\n0C8E-0C90\n0C92-0CA8\n0CAA-0CB3\n0CB5-0CB9\n0CBE\n0CC0-0CC4\n0CC7-0CC8\n0CCA-0CCB\n0CD5-0CD6\n0CDE\n0CE0-0CE1\n0CE6-0CEF\n0D02-0D03\n0D05-0D0C\n0D0E-0D10\n0D12-0D28\n0D2A-0D39\n0D3E-0D40\n0D46-0D48\n0D4A-0D4C\n0D57\n0D60-0D61\n0D66-0D6F\n0D82-0D83\n0D85-0D96\n0D9A-0DB1\n0DB3-0DBB\n0DBD\n0DC0-0DC6\n0DCF-0DD1\n0DD8-0DDF\n0DF2-0DF4\n0E01-0E30\n0E32-0E33\n0E40-0E46\n0E4F-0E5B\n0E81-0E82\n0E84\n0E87-0E88\n0E8A\n0E8D\n0E94-0E97\n0E99-0E9F\n0EA1-0EA3\n0EA5\n0EA7\n0EAA-0EAB\n0EAD-0EB0\n0EB2-0EB3\n0EBD\n0EC0-0EC4\n0EC6\n0ED0-0ED9\n0EDC-0EDD\n0F00-0F17\n0F1A-0F34\n0F36\n0F38\n0F3E-0F47\n0F49-0F6A\n0F7F\n0F85\n0F88-0F8B\n0FBE-0FC5\n0FC7-0FCC\n0FCF\n1000-1021\n1023-1027\n1029-102A\n102C\n1031\n1038\n1040-1057\n10A0-10C5\n10D0-10F8\n10FB\n1100-1159\n115F-11A2\n11A8-11F9\n1200-1206\n1208-1246\n1248\n124A-124D\n1250-1256\n1258\n125A-125D\n1260-1286\n1288\n128A-128D\n1290-12AE\n12B0\n12B2-12B5\n12B8-12BE\n12C0\n12C2-12C5\n12C8-12CE\n12D0-12D6\n12D8-12EE\n12F0-130E\n1310\n1312-1315\n1318-131E\n1320-1346\n1348-135A\n1361-137C\n13A0-13F4\n1401-1676\n1681-169A\n16A0-16F0\n1700-170C\n170E-1711\n1720-1731\n1735-1736\n1740-1751\n1760-176C\n176E-1770\n1780-17B6\n17BE-17C5\n17C7-17C8\n17D4-17DA\n17DC\n17E0-17E9\n1810-1819\n1820-1877\n1880-18A8\n1E00-1E9B\n1EA0-1EF9\n1F00-1F15\n1F18-1F1D\n1F20-1F45\n1F48-1F4D\n1F50-1F57\n1F59\n1F5B\n1F5D\n1F5F-1F7D\n1F80-1FB4\n1FB6-1FBC\n1FBE\n1FC2-1FC4\n1FC6-1FCC\n1FD0-1FD3\n1FD6-1FDB\n1FE0-1FEC\n1FF2-1FF4\n1FF6-1FFC\n200E\n2071\n207F\n2102\n2107\n210A-2113\n2115\n2119-211D\n2124\n2126\n2128\n212A-212D\n212F-2131\n2133-2139\n213D-213F\n2145-2149\n2160-2183\n2336-237A\n2395\n249C-24E9\n3005-3007\n3021-3029\n3031-3035\n3038-303C\n3041-3096\n309D-309F\n30A1-30FA\n30FC-30FF\n3105-312C\n3131-318E\n3190-31B7\n31F0-321C\n3220-3243\n3260-327B\n327F-32B0\n32C0-32CB\n32D0-32FE\n3300-3376\n337B-33DD\n33E0-33FE\n3400-4DB5\n4E00-9FA5\nA000-A48C\nAC00-D7A3\nD800-FA2D\nFA30-FA6A\nFB00-FB06\nFB13-FB17\nFF21-FF3A\nFF41-FF5A\nFF66-FFBE\nFFC2-FFC7\nFFCA-FFCF\nFFD2-FFD7\nFFDA-FFDC\n10300-1031E\n10320-10323\n10330-1034A\n10400-10425\n10428-1044D\n1D000-1D0F5\n1D100-1D126\n1D12A-1D166\n1D16A-1D172\n1D183-1D184\n1D18C-1D1A9\n1D1AE-1D1DD\n1D400-1D454\n1D456-1D49C\n1D49E-1D49F\n1D4A2\n1D4A5-1D4A6\n1D4A9-1D4AC\n1D4AE-1D4B9\n1D4BB\n1D4BD-1D4C0\n1D4C2-1D4C3\n1D4C5-1D505\n1D507-1D50A\n1D50D-1D514\n1D516-1D51C\n1D51E-1D539\n1D53B-1D53E\n1D540-1D544\n1D546"),x=C("05BE\n05C0\n05C3\n05D0-05EA\n05F0-05F4\n061B\n061F\n0621-063A\n0640-064A\n066D-066F\n0671-06D5\n06DD\n06E5-06E6\n06FA-06FE\n0700-070D\n0710\n0712-072C\n0780-07A5\n07B1\n200F\nFB1D\nFB1F-FB28\nFB2A-FB36\nFB38-FB3C\nFB3E\nFB40-FB41\nFB43-FB44\nFB46-FBB1\nFBD3-FD3D\nFD50-FD8F\nFD92-FDC7\nFDF0-FDFC\nFE70-FE74\nFE76-FEFC");function C(t){const i=[],e=t.split("\n");for(const n of e){const t=n.trim();if(""===t)continue;const e=t.split("-");1===e.length?i.push([parseInt(e[0],16)]):i.push([parseInt(e[0],16),parseInt(e[1],16)])}return i}var F=function(t,i,e,n){var s,r=arguments.length,o=r<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,i,e,n);else for(var h=t.length-1;h>=0;h--)(s=t[h])&&(o=(r<3?s(o):r>3?s(i,e,o):s(i,e))||o);return r>3&&o&&Object.defineProperty(i,e,o),o},_=function(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)},A=function(t,i){return function(e,n){i(e,n,t)}};const E='Helvetica, Arial, Tahoma, "Microsoft Yahei", 微软雅黑, STXihei, 华文细黑, sans-serif';let O=class t extends g.v{constructor(t,i,e,n,s,r){super(),this.E=t,this.S=i,this.B=e,this.D=n,this.k=s,this.$=r,this.T=[],this.R=new Map,this.P=new Map,this.z=!1,this.U=[],this.V=0,this.X=0,this.W=new Map,this.G=0,this.Z=[],this.Q=[],this.J=1,this.K=0,this.it=0,this.et=(t,i,e,n=!0,s,r=!1,o)=>{const h=this;this.nt||(this.nt=h.st(),i.push(this.nt),this.it=0),(0,b.xm)(t)&&(t.content=t.content.replace(/%20/gi," "));const a=this.ot(t,n,o),c=t.style&&t.style.fontSize||this.ht,u=t.style&&t.style.lineHeight||this.style.lineHeight;if(t.top=(u-1)*c/2,t.width=a.width,t.height=a.height-(u-1)*c,t.lineHeight=a.height,"end"===t.type)return void function(t){if(h.nt.spans.push(t),h.at(),h.nt.isLastLine=!0,h.ct(i,e,s),h.z)return;h.ut=void 0}(t);if("newline"===t.type)return void function(t){if(h.lt="newline",!h.style.maxRows||h.G<h.style.maxRows){if(h.nt.spans.push(t),h.at(),h.nt.endsWithNewline=!0,h.ct(i,e,s),h.z)return;(!h.style.maxRows||h.G<h.style.maxRows)&&(h.nt=h.st(),h.X=0,i.push(h.nt),h.G++),h.ut=void 0}else h.nt.spans.push({type:"space",attributes:{},dir:"infer",top:0,left:0,width:t.width,height:0,lineHeight:0,content:" ",style:(0,m.Xh)(t.style),styleIds:new Map,__previousStyleIds:[],__previousStyleIdToHistoryIndexMap:new Map}),h.at()}(t);const l=t.style.fontSize?this.ht*t.style.fontSize:this.ht,d=(t.style.characterSpacing||this.style.characterSpacing||0)*l;function f(){h.it+=t.width,t.attributes&&t.attributes.shouldRenderNumber&&(h.it+=4),h.lt=t.type}r||"truncate"!==this.style.textOverflow&&"expand"!==this.style.textOverflow||"word"!==t.type&&"variable"!==t.type||!(this.X+t.width+(t.attributes.shouldRenderNumber?4:0)-d>this.style.width-this.style.padding.left-this.style.padding.right)?("word"!==t.type&&"variable"!==t.type||"space"!==this.lt||(this.ut=this.nt.spans.length),!r&&void 0!==this.ut&&"space"!==t.type&&"composition"!==t.type&&this.it+t.width-d>=this.style.width-this.style.padding.left-this.style.padding.right&&0!==this.nt.spans.length?function(t){var r,a,c;const u=!h.style.maxRows||h.G<h.style.maxRows;if((null===(r=h.k)||void 0===r?void 0:r.inEditMode)&&"truncate"===h.style.textOverflow||u){const r=h.nt.spans.splice(h.ut,1/0);h.at();const c=r.concat([t]);if(h.ct(i,e,c.concat(s)),h.z)return;if(h.nt=h.st(),i.push(h.nt),h.G++,(null===(a=h.k)||void 0===a?void 0:a.inEditMode)||"truncate"!==h.style.textOverflow){h.X+=t.width+(t.attributes.shouldRenderNumber?4:0),h.X>h.K&&(h.K=h.X),h.nt.spans.push(...c);let i=0;for(const t of c)i+=t.width;h.it=i}else{h.X=0;for(let t=0;t<c.length;t++){if(h.z)return;h.et(c[t],i,e,n,c.slice(t+1).concat(s),void 0,o)}}}else h.nt.spans.push(t),h.at(),(null===(c=h.k)||void 0===c?void 0:c.inEditMode)||"truncate"!==h.style.textOverflow||h.dt(i,s,e),f();t.attributes&&t.attributes.shouldRenderNumber&&(h.it+=4);h.lt=t.type,h.ut=void 0}(t):function(t){h.nt.lineWidth+=t.width,h.nt.spans.push(t),"word"===t.type||"variable"===t.type?(h.X+=t.width+(t.attributes.shouldRenderNumber?4:0),h.X>h.K&&(h.K=h.X)):h.X=0;f()}(t)):function(t){var n;const{preContentSpan:r,postContentSpan:a}=function(t){if(!h.nt)throw new Error("Current content line is not set.");const i=t.content.length,e=(0,b.Ag)(t);for(let n=1;n<=i;n++){e.content=t.content.substring(0,n);const s=h.ot(e,!0);if(h.X+s.width+(n===i&&t.attributes.shouldRenderNumber?4:0)-d>h.style.width-h.style.padding.left-h.style.padding.right)return h.ft(t,n-1)}throw new Error("Could not split span.")}(t),c=[a].concat(s);if(r.content){if(h.et(r,i,e,!0,c,!1,o),h.z)return}else if(0===h.X)return h.z=!0,e.shouldAbort=!0,h.pt(i);if(h.at(),h.ct(i,e,c),h.z)return;const u=!h.style.maxRows||h.G<h.style.maxRows;(null===(n=h.k)||void 0===n?void 0:n.inEditMode)||u?(h.nt=h.st(),h.G++,h.X=0,h.it=0,i.push(h.nt),h.et(a,i,e,!0,s,!1,o)):h.dt(i,[a].concat(s),e)}(t)},this.vt=t=>{var i,e;if(!(null===(i=this.k)||void 0===i?void 0:i.inEditMode)&&(!window.bfstudio||window.bfstudio&&window.bfstudio.inShowcaseMode||window.bfstudio.inPreviewMode&&"DV"===window.bfstudio.activePage)){const i=t.currentTarget.id;if(!this.mt)return;let n=this.mt.elements.get(i);if(!n){const t=[];for(const i of this.U)if((0,b.WT)(i)&&(null===(e=i.style)||void 0===e?void 0:e.variable)&&(t.push(i),t.length>1))break;1===t.length&&(n=this.mt.elements.get(t[0].style.variable.spanId))}if(n){const e=this.mt.getFeedValue(n.feed,i,n.element);t.preventDefault(),t.stopPropagation(),this.emit("spanClicked",[t,e.targetUrl])}}},this.U=(0,b.Yw)(this.E.spans),this.style=this.gt=Object.assign({},this.E.style),this.wt(),this.bt(),this.yt=e.renderUnderscoreLayer,this.xt=e.element,this.Ct=e.viewElement,this.mt=e.feedStore,this.Ft=!!e.skipFontLoad}get _t(){var t;return null===(t=this.k)||void 0===t?void 0:t.selection.selection}set _t(t){this.k&&(this.k.selection.selection=t)}get At(){var t;return(null===(t=this.D)||void 0===t?void 0:t.zoom)||1}n(){this.Et(),this.Ot=new Promise((async t=>{await this.St(),this.Bt(!1),t()}))}bt(){this.S.style.backgroundColor="transparent",this.Dt=document.createElement("div"),this.Dt.classList.add("center");const t=this.Dt.style;t.width="100%",t.height="100%",t.display="flex",t.alignItems=(0,b.$T)(this.style.verticalAlignment),t.justifyContent=(0,b.Ms)(this.style.horizontalAlignment),this.Mt=document.createElement("div"),this.Mt.classList.add("text-content"),this.Mt.style.outline="none",this.Mt.style.position="relative",this.Mt.style.width="100%",this.Mt.spellcheck=!1,this.Dt.appendChild(this.Mt),this.S.appendChild(this.Dt)}resetDirtyContent(t){t.__dirtyContent=void 0}setText(t,i,e,n){this.E=t,this.U=t.spans,e?this.W=new Map:this.It(),n||(this.style=t.style),this.wt(),this.Bt(!e),this.emit("change",[this.kt()])}jt(){var t;(null===(t=this.k)||void 0===t?void 0:t.inEditMode)&&this.k.stopEdit(!0),this.Z=[];for(const i of this.Z)i.element.removeEventListener("mousedown",i.callback);this.$t(),this.k&&(window.removeEventListener("mouseup",this.k.mouseBindings.onMouseUp),window.removeEventListener("mousemove",this.k.mouseBindings.onMouseMove)),this.emit("destroyed"),this.clearEvents()}wt(){var i;const e=getComputedStyle(this.S);if(this.style.fontSize||(this.style.fontSize=parseInt(e.fontSize,10)),this.style.textColor||(this.style.textColor=w.Il.parse(e.color)),this.style.lineHeight||(this.style.lineHeight=parseFloat(e.lineHeight)),!this.style.padding){const t={top:0,left:0,bottom:0,right:0};e.paddingTop&&(t.top=parseInt(e.paddingTop,10)),e.paddingBottom&&(t.bottom=parseInt(e.paddingBottom,10)),e.paddingLeft&&(t.left=parseInt(e.paddingLeft,10)),e.paddingRight&&(t.right=parseInt(e.paddingRight,10)),this.style.padding=t}if(!this.style.width||!this.style.height){const t=this.S.getBoundingClientRect();this.style.width=t.width,this.style.height=t.height}if(!this.style.horizontalAlignment){const e=null===(i=this.U[0])||void 0===i?void 0:i.content.charCodeAt(0),n=t.Tt(e);this.style.horizontalAlignment="ltr"===n?"left":"rtl"===n?"right":"left"}}Rt(){this.J=this.Lt.getBoundingClientRect().height/10}async rerender(t=!1,i){var e,n;this.Rt(),await this.Ot,t&&await this.St(),i&&(this.style.width=i.width,this.style.height=i.height),this.Nt&&this.Pt.forEach((t=>{t.removeEventListener("click",this.vt),Array.from(t.children).forEach((t=>{t.removeEventListener("click",this.vt)}))})),this._t&&(null===(e=this.k)||void 0===e?void 0:e.inEditMode)&&this.k.selection.storeSelectionCharacterPositions(),this.Bt(!1),this._t&&(null===(n=this.k)||void 0===n?void 0:n.inEditMode)&&this.k.selection.reselectText()}Bt(t=!0){var i;t&&this.It();let e=this.U;(null===(i=this.k)||void 0===i?void 0:i.inEditMode)||this.yt||(e=this.zt(e)),e=this.Ht(e),this.Vt(e),this.Xt(e),"shrink"===this.style.textOverflow&&this.resizeText(e),this.Wt(),this.Gt(),this.Zt()}Gt(){const t="left"===this.style.horizontalAlignment;for(const i of this.Qt){let e=t?0:this.style.width-this.style.padding.left-this.style.padding.right,n=[],s=[];for(const r of i.spans)if("rtl"===r.dir)if(t){r.left=e;let t=r.width;for(const i of n)i.left=e+t,t+=i.width;n.unshift(r)}else{if(s.length>0){const t=s.pop();e-=t.left+t.width}e-=r.width,r.left=e,s=[]}else if(t){if(n.length>0){const t=n.pop();e+=t.left+t.width}r.left=e,e+=r.width,n=[]}else{r.left=e;let t=r.width;for(const i of s)i.left=e-t,t-=i.width;s.unshift(r)}}}Wt(){for(const t of this.Qt){let i="ltr",e="ltr";for(let n=0;n<t.spans.length;n++){e=n+1<t.spans.length?t.spans[n+1].dir:void 0;const s=t.spans[n],r=0===n,o=n===t.spans.length-(t.isLastLine?2:1);"infer"===s.dir||"previous"===s.dir?r?(s.dir="ltr",t.dir="ltr"):o?s.dir=t.dir:(s.dir=e,"space"===s.type?"rtl"===i&&("rtl"===e||"ltr"===e&&"rtl"===t.dir)||"ltr"===i&&"rtl"===e&&"rtl"===t.dir?s.dir="rtl":s.dir="ltr":s.dir=i):i=s.dir}}}qt(t){return(0,b.WT)(t)?t.content.length+(t.startJoint?1:0)+(t.endJoint?1:0):0}Vt(t){for(let i=0;i<t.length-1;i++){const e=t[i],n=t[i+1];"word"===e.type&&"word"===n.type&&"rtl"===e.dir&&"rtl"===n.dir?(e.endJoint="‍",n.startJoint="‍"):e.endJoint="‌"}}Ht(i){const e=[];for(const n of i)if((0,b.WT)(n)){if(0===n.content.length){e.push(n);continue}let i="variable"===n.type?n:(0,b.Ag)(n);if("word"===n.type){const s=n.content.charCodeAt(0);let r=t.Tt(s);i.content=String.fromCharCode(s),i.dir=r;for(let o=1;o<n.content.length;o++){const s=n.content.charCodeAt(o),h=t.Tt(s);r!==h&&"previous"!==h?(e.push(i),i=(0,b.Ag)(n),i.content=String.fromCharCode(s),i.dir=r=h):i.content+=String.fromCharCode(s)}}else i.dir="infer";e.push(i)}else n.dir="ltr",e.push(n);return e}Jt(){const t=[];for(const i of this.Qt)for(const e of i.spans){if("ellipsis"===e.type)throw new Error("Ellipsis cannot exist in this stage.");t.push(e)}return t}Kt(t,i){const e=0!==this.ti&&0!==this.style.width?this.ti/t:0,n=0!==this.ii&&0!==this.style.height?this.ii/i:0;n>e?(this.ht=this.ht/n,this.ni(1/n)):(this.ht=this.ht/e,this.ni(1/e))}ni(t){for(const i of this.Qt){i.lineHeight*=t,i.lineWidth*=t;for(const e of i.spans)e.width*=t,e.lineHeight*=t}}si(){let t=0;for(const i of this.Qt)t+=i.lineWidth*i.lineHeight;return t}resizeText(t){const i=Math.max(this.style.height-this.style.padding.top-this.style.padding.bottom,0),e=Math.max(this.style.width-this.style.padding.left-this.style.padding.right,0),n=e*i;if(i<3||e<3)return void(this.ht=0);const s=new Map;let r=!0;do{const o=this.ti,h=this.ii||0,a=o/e,c=h/i,u=this.si(),l=o<=e&&h<=i;if(l&&r)return void this.ri();if(r){const i=40;this.ht=i,this.ri(),this.Xt(t,this.ht),this.oi=1/this.ht,this.ht=1,this.hi(t,!1),r=!1;continue}const d=(this.ht+.1)/this.ht,f=u/n,p=o/h/(e/i),v=.9,m=.1,g=1/Math.abs(1-f)*v+1/Math.abs(1-p)*m;if(l&&s.set(this.ht,g),a===c)return void this.ri();this.oi=d,this.ht=this.ht*d,this.hi(t,!1)}while(this.ht<this.style.fontSize);let o=0,h=this.ht;for(const[a,c]of s.entries())c>o&&(o=c,h=a);this.oi=h/this.ht,this.ht=h,this.hi(t,!1),this.Kt(e,i),this.ri()}ri(){this.V=0}ai(t,i,e){if((0,b.qA)(t,{[t]:i},this.style))e!==this.style&&delete e[t];else{if("$mixed"===i)return void(e[t]=i);switch(v.ci[t]){case"Color":e.textColor=i.copy();break;case"FontStyle":case"Variable":e[t]=Object.assign({},i);break;case"TextShadow[]":e.textShadows=i&&i.map((t=>Object.assign({},t)));break;case"boolean":"boolean"!=typeof i?delete e[t]:e[t]=i;break;default:e[t]=i}}}kt(){return{style:this.style,spans:(0,b.Yw)(this.U)}}ft(t,i){const e="variable"===t.type?"":t.content.slice(0,i),n="variable"===t.type?t.content:t.content.slice(i),s={};return s.preContentSpan={type:t.type,dir:t.dir,content:e,style:(0,b.Vc)(t.style),attributes:void 0!==t.attributes.styleIndex?{styleIndex:t.attributes.styleIndex,shouldRenderNumber:!1}:{shouldRenderNumber:!1},styleIds:(0,m.b0)(t.styleIds),styleId:t.styleId,__previousStyleIds:t.__previousStyleIds&&[...t.__previousStyleIds],__previousStyleIdToHistoryIndexMap:t.__previousStyleIdToHistoryIndexMap&&new Map(t.__previousStyleIdToHistoryIndexMap)},s.postContentSpan={type:t.type,dir:t.dir,content:n,style:(0,b.Vc)(t.style),attributes:void 0!==t.attributes.styleIndex?{styleIndex:t.attributes.styleIndex,shouldRenderNumber:!1}:{shouldRenderNumber:!1},styleIds:(0,m.b0)(t.styleIds),styleId:t.styleId,__previousStyleIds:t.__previousStyleIds&&[...t.__previousStyleIds],__previousStyleIdToHistoryIndexMap:t.__previousStyleIdToHistoryIndexMap&&new Map(t.__previousStyleIdToHistoryIndexMap)},s}ui(){let t;for(;t=this.Q.pop();)this.S.contains(t)&&this.S.removeChild(t)}async St(){if(this.Qt=[],!this.Ft&&this.style.font)try{0}catch(t){console.error("Could not load font face:",this.style.font.id),console.error(t)}this.S.style.fontSize=this.style.fontSize?this.style.fontSize+"px":""}li(){var t,i;const e=new Set,n=null!==(i=null===(t=this.D)||void 0===t?void 0:t.document.id)&&void 0!==i?i:this.B.document.id;for(const s of this.E.spans)if((0,b.WT)(s)){const t=s.styleIds.get(n),i=this.B.element.characterStyles.get(t);i&&i.font&&e.add(i.font.id)}return e}Et(){if(!this.di){this.Lt=document.createElement("div"),this.Lt.style.height="10px",this.Lt.style.top="-10000px",this.Lt.style.position="absolute",this.Mt.ownerDocument.body.appendChild(this.Lt);const t=this.Mt.ownerDocument.createElement("canvas");this.di=t.getContext("2d")}}$t(){this.di=void 0,this.Lt.remove()}pt(t){this.nt={spans:[{type:"end",content:"END",dir:"ltr",top:0,left:0,width:0,height:0,lineHeight:0,attributes:{},startJoint:0,endJoint:0}],dir:"infer",lineHeight:0,maxFontSize:1,lineWidth:0,characterWidth:0,trailingSpaceWidth:0,endsWithNewline:!1,isLastLine:!1},t.splice(0,1/0,this.nt)}fi(t){let i=0;const e=[];t:for(let n=0;n<this.nt.spans.length;n++){const s=this.nt.spans[n];if("end"===s.type)break;if("newline"===s.type){e.push({type:"ellipsis",content:"...",style:{},top:0,left:0,width:0,height:0,lineHeight:0,attributes:{},startJoint:0,endJoint:0});break}const r=this.ot({type:"word",content:"...",lineHeight:0,dir:"ltr",style:s.style,top:0,left:0,width:0,height:0,attributes:{},styleIds:new Map,__previousStyleIds:this.D?[]:void 0,__previousStyleIdToHistoryIndexMap:this.D?new Map:void 0},!0),o=this.ht,h=(this.style.characterSpacing||0)*o,a=r.width-h,c=(0,b.Ag)(s);for(let n=0;n<=s.content.length;n++){c.content=s.content.substring(0,n);const r=this.ot(c,!0);if(r&&i+r.width+a>this.style.width-(this.style.padding.top+this.style.padding.bottom)){if(0===n)return void this.pt(t);const{preContentSpan:i}=this.ft(s,n-1);i.width=r.width,i.lineHeight=r.height,e.push(i,{type:"ellipsis",content:"...",top:0,style:s.style,left:0,width:0,height:0,lineHeight:0,attributes:{},startJoint:0,endJoint:0});break t}}e.push(s),i+=s.width}this.nt.spans=e,this.at()}st(){return{spans:[],dir:"infer",lineHeight:0,maxFontSize:1,lineWidth:0,trailingSpaceWidth:0,characterWidth:0,endsWithNewline:!1,isLastLine:!1}}dt(t,i,e){this.nt.spans.push(...i),this.at(),this.fi(t),this.z=!0,e.shouldAbort=!0}at(){var t,i,e,n;if(!this.nt)return;let s=0,r=0,o=0,h=0,a=0,c=0,u=!0,l="infer";for(const d of this.nt.spans){if("infer"===l&&(0,b.WT)(d)&&d.dir&&(l=d.dir),"end"===d.type){1===this.nt.spans.length&&(s=(null===(t=this.k)||void 0===t?void 0:t.currentStyle.lineHeight)?(null===(i=this.k)||void 0===i?void 0:i.currentStyle.lineHeight)*this.ht:(null===(e=this.vi)||void 0===e?void 0:e.lineHeight)?null===(n=this.vi)||void 0===n?void 0:n.lineHeight:this.style.lineHeight*this.ht);continue}if("newline"===d.type){u&&d.lineHeight>s&&(s=d.lineHeight),o+=d.width,a+=d.width,h+=1;continue}d.lineHeight>s&&(s=d.lineHeight);const f=d.style.characterSpacing||this.style.characterSpacing||0,p=d.style.fontSize?d.style.fontSize*this.ht:this.ht;"ellipsis"!==d.type?(d.left=c,"word"!==d.type&&"variable"!==d.type||(a=f*p),"space"===d.type&&(a+=d.width),o+=d.width,d.style.fontSize&&d.style.fontSize>r&&(r=d.style.fontSize),h+=d.content.length,c+=d.width,d.attributes.shouldRenderNumber&&(c+=4),u=!1):a=f*p}this.nt.dir=l,this.nt.lineWidth=o,this.nt.trailingSpaceWidth=a,this.nt.lineHeight=s,this.nt.maxFontSize=r||1,this.nt.characterWidth=h,o-a>this.ti&&(this.ti=Math.round(100*(o-a))/100),this.it=0,this.vi=this.nt}ct(t,i,e){var n;this.ii+=this.nt.lineHeight;if("truncate"===this.style.textOverflow&&!(null===(n=this.k)||void 0===n?void 0:n.inEditMode)&&this.ii>this.style.height-(this.style.padding.top+this.style.padding.bottom)+2){this.z=!0;const n=t.pop();if(this.nt=t.pop(),!this.nt)return this.nt={dir:"infer",spans:[{type:"end",content:"END",dir:"ltr",top:0,left:0,width:0,height:0,lineHeight:0,attributes:{},startJoint:0,endJoint:0}],lineHeight:0,maxFontSize:0,trailingSpaceWidth:0,lineWidth:0,characterWidth:0,endsWithNewline:!1,isLastLine:!1},void t.splice(0,1/0,this.nt);this.nt.spans.push(...n.spans,...e),t.push(this.nt),this.fi(t),i.shouldAbort=!0}}ot(t,i,e){var n;if(this.di&&i){const i=(0,b.WT)(t)&&t.style.fontSize&&t.style.fontSize*(e||this.style.fontSize)||e||this.style.fontSize,s=(0,b.xm)(t)&&(null===(n=this.k)||void 0===n?void 0:n.inEditMode)?'"Open Sans", '+E:this.mi((0,b.WT)(t)&&t.style.font||this.style.font);this.di.font=i+"px "+s;const r=(t.startJoint||"")+t.content.replace(/\u00A0/g," ")+(t.endJoint||""),o=!!((0,b.WT)(t)&&t.style.uppercase||this.style.uppercase),h=this.di.measureText(o?r.toLocaleUpperCase():r),a=t.content.length,c=i*((0,b.WT)(t)&&t.style.characterSpacing||this.style.characterSpacing)*a,u=h.width+c,l=i*((0,b.WT)(t)&&t.style.lineHeight||this.style.lineHeight);return{width:u/this.J,height:l/this.J}}return{width:t.width*this.oi,height:t.lineHeight*this.oi}}Zt(){this.gi(),this.ui()}It(){const t=[],i={spans:[],dir:"infer",lineHeight:0,maxFontSize:0,lineWidth:0,trailingSpaceWidth:0,characterWidth:0,endsWithNewline:!1,isLastLine:!1};let e;for(let n=0;n<this.Qt.length;n++){const t=this.Qt[n];for(const n of t.spans)if("ellipsis"!==n.type&&"composition"!==n.type){if(""!==n.content)if(e&&this.wi(e,n))e.content+=n.content;else if(e=n,i.spans.push(n),(0,b.WT)(n))for(const t of Object.keys(v.ci))(0,b.qA)(t,n.style,this.style)&&delete n.style[t]}else e=n,i.spans.push(n)}t.push(i),this.Qt=t,this.U=this.Jt()}wi(t,i){return"newline"!==t.type&&"end"!==t.type&&(t.type===i.type&&(!!(0,b.dP)(t.styleIds,i.styleIds)&&(!!(0,m.vZ)(t.__previousStyleIds,i.__previousStyleIds)&&this.bi(t,i))))}bi(t,i){const e=(0,m.CE)(t.style,"__fontFamilyId"),n=(0,m.CE)(i.style,"__fontFamilyId");if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const o in e)if(!(0,b.qA)(o,e,n))return!1;const s=(0,m.CE)(t.attributes,"shouldRenderNumber"),r=(0,m.CE)(i.attributes,"shouldRenderNumber");if(Object.keys(s).length!==Object.keys(r).length)return!1;for(const o in s)if(!(0,m.vZ)(t.attributes[o],i.attributes[o]))return!1;return!0}zt(t){var i;const e=[];for(let n=0;n<t.length;n++)if("variable"!==t[n].type)e.push(t[n]);else{const s=t[n];s.style.variable.spanId&&this.W.get(s.style.variable.spanId)||(s.style.variable.spanId=s.style.variable.spanId||""+Date.now(),this.W.set(s.style.variable.spanId,{style:s.style,span:s}));const r=this.W.get(s.style.variable.spanId);if((null===(i=this.k)||void 0===i?void 0:i.inEditMode)||this.yt)s.content=p.I+decodeURIComponent(r.style.variable.path),e.push(s);else{const t=(0,b.O8)(this.mt.getFeedValue(r.style.variable,s.style.variable.spanId,this.B.viewElement).value,{},s.style,b.Vc);e.push(...t)}}return e}yi(){return Object.assign((0,m.ei)(this.style,"font","characterSpacing","lineHeight","textColor","textOverflow","textShadows","padding","maxRows","horizontalAlignment","verticalAlignment"),{fontSize:this.ht},this.B.inDesignView?this.k.styleResolver.getResolvedText().style:{})}Xt(t,i){this.ht=i||this.style.fontSize;const e=[];this.xi();const n={shouldAbort:!1};for(let s=0;s<t.length&&!n.shouldAbort;s++)this.et(t[s],e,n,!0,t.slice(s+1),!1,i);this.Qt=e}xi(){this.ii=0,this.ti=0,this.X=0,this.K=0,this.G=1,this.z=!1,this.nt=void 0,this.vi=void 0}hi(t,i){const e=[];this.xi();const n={shouldAbort:!1};for(let s=0;s<t.length&&!n.shouldAbort;s++)this.et(t[s],e,n,i,t.slice(s+1),!1);this.Qt=e}Ci(t){return t.maxFontSize<1&&(t.maxFontSize=1),-(t.lineHeight-t.maxFontSize*this.ht)/2}gi(){var t;const i=this.yi();this.Fi(i,this.S,!1),this.Mt.innerHTML="",this.S.style.fontSize=this.ht+"px",this.Mt.classList.add("invisible-selection"),this.Nt=new WeakMap,this.Pt=new Map,this.W=new Map,(null===(t=this.k)||void 0===t?void 0:t.inEditMode)||"scroll"!==this.style.textOverflow?this.S.style.overflow="visible":this.S.style.overflow="auto",this.Dt.style.alignItems=(0,b.$T)(this.style.verticalAlignment);let e=this.style.horizontalAlignment;"left"===e&&(0,b.WT)(this.Qt[0].spans[0])&&"rtl"===this.Qt[0].spans[0].dir&&(e="right"),this.yt&&(e=(0,b.WT)(this.Qt[0].spans[0])&&"rtl"===this.Qt[0].spans[0].dir?"right":"left"),this.Dt.style.justifyContent=(0,b.Ms)(e),this.Mt.style.textAlign=e,this.Mt.style.lineHeight=this.style.lineHeight+"";for(let n=0;n<this.Qt.length;n++){const t=this.Qt[n],i=this.Qt.length-1===n,s=document.createDocumentFragment(),r=document.createElement("div");r.className="text-line";const o=r.dir=(0,b.WT)(t.spans[0])?t.spans[0].dir:"ltr";switch(e){case"left":r.style.justifyContent="ltr"===o?"flex-start":"flex-end";break;case"center":r.style.justifyContent="center";break;case"right":r.style.justifyContent="ltr"===o?"flex-end":"flex-start"}r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.display="flex",r.style.alignItems="baseline",r.style.height=Math.max(1,t.lineHeight)+"px",r.style.whiteSpace="nowrap",r.style.fontSize=t.maxFontSize*this.ht+"px",this.style.characterSpacing&&(r.style.letterSpacing=this.style.characterSpacing+"em"),"top"===this.style.verticalAlignment&&0===n?r.style.marginTop=this.Ci(t)+"px":"bottom"===this.style.verticalAlignment&&t.isLastLine&&(r.style.marginBottom=this.Ci(t)+"px"),this.Nt.set(r,n),this.Pt.set(n,r),s.appendChild(r);const h="t-"+n;let a=0,c=(0,b.WT)(t.spans[0])?t.spans[0].dir:"ltr",u=document.createElement("div");u.dir=c,u.style.unicodeBidi="bidi-override",r.appendChild(u),(0,b.Kq)(t,((s,l)=>{var d,f,p,v;if(1!==t.spans.length&&"end"===s.type)return;const g=l===(i?t.spans.length-2:t.spans.length-1);(0,b.WT)(s)&&c!==s.dir&&(u=document.createElement("div"),u.dir=s.dir,u.style.unicodeBidi="bidi-override",r.appendChild(u),c=s.dir);const w=s.__viewElement=document.createElement("span");this.yt&&s.attributes.shouldRenderNumber&&(w.style.marginRight="4px");let y=!1;"space"===s.type?(l===t.spans.length-1||l===t.spans.length-2&&"newline"===t.spans[t.spans.length-1].type)&&(y=!0):"newline"===s.type&&(y=!0),w.style.display="inline-block",w.style.whiteSpace="pre-wrap",w.setAttribute("data-type",this._i(s.type));const x=this.S.id||(null===(d=this.k)||void 0===d?void 0:d.keyboardBindings.inputId);if(w.id=`${(null===(f=this.Ct)||void 0===f?void 0:f.id)+"-"||0}${x}-${h}-${l}`,w.setAttribute("data-cy",`${x}-${h}-${l}`),g&&t.trailingSpaceWidth)switch(e){case"left":"rtl"===o&&(u.style.marginLeft=-t.trailingSpaceWidth+"px");break;case"center":case"right":"rtl"===o?u.style.marginLeft=-t.trailingSpaceWidth+"px":u.style.marginRight=-t.trailingSpaceWidth+"px"}if((0,b.WT)(s)&&(w.dir=s.dir),"variable"===s.type&&(w.setAttribute("data-variable",s.style.variable.path),s.style.variable.spanId!==w.id?(this.W.delete(s.style.variable.spanId),s.style.variable.spanId=w.id,this.W.set(s.style.variable.spanId,{style:s.style,span:s})):this.W.get(w.id)||(s.style.variable.spanId=w.id,this.W.set(w.id,{style:s.style,span:s})),s.style.variable.spanId=w.id,this.yt||this.mt.addFeedElement(w.id,(0,m.Xh)(s.style.variable),this.B.viewElement)),w.addEventListener("click",this.vt),"end"===s.type)w.style.height=(null===(p=this.k)||void 0===p?void 0:p.currentStyle.lineHeight)*this.ht+"px",w.innerHTML="&#8203;";else{"newline"===s.type?(w.innerHTML=" ",w.style.whiteSpace="pre",w.style.width=s.width+"px"):"ellipsis"===s.type?w.innerHTML="...":"space"===s.type?(w.style.whiteSpace="pre",w.innerHTML=s.content+"&zwnj;"):"composition"===s.type?(w.style.width=s.width+"px",w.innerHTML="&#8203;",this.k.keyboardBindings.compositionSpanElement=w):w.innerHTML=(0,m.HZ)((s.startJoint||"")+s.content.replace(/\u00A0/g," ")+(s.endJoint||""));const i=[];this.style.underline&&i.push("underline"),this.style.strikethrough&&i.push("strikethrough");const e=Object.assign({},{underline:this.style.underline,strikethrough:this.style.strikethrough,uppercase:this.style.uppercase},s.style);"newline"===s.type&&(e.fontSize=t.maxFontSize,e.lineHeight=1),y&&(delete e.underline,delete e.strikethrough);const n=null!==(v=e.textColor)&&void 0!==v?v:this.style.textColor;this.Fi(Object.assign({fontSize:1,characterSpacing:this.style.characterSpacing,textColor:n},e),w)}(0,b.WT)(s)&&(s.line=n,s.column=a,a+=s.content.length),u.appendChild(w)})),this.Mt.appendChild(s)}}Fi(t,i,e=!0){var n;const s=i.style;let r=!1;const o=[...Object.keys((0,m.CE)(v.ci,"__fontFamilyId")),"padding"];for(const h of o)switch(h){case"font":t.font?s.fontFamily=this.mi(t.font,i):s.fontFamily="";break;case"textColor":s.color=t.textColor?t[h].toRGBA():"";break;case"fontSize":s.fontSize=void 0!==t.fontSize?e?this.ht*t[h]+"px":this.ht+"px":"";break;case"underline":case"strikethrough":if(r)break;const o=[];t.underline&&o.push("underline"),t.strikethrough&&o.push("line-through"),s.textDecoration=o.length>0?o.join(" "):"",r=!0;break;case"uppercase":t.uppercase?s.textTransform="uppercase":s.textTransform="";break;case"characterSpacing":s.letterSpacing=void 0!==t.characterSpacing?t.characterSpacing+"em":"";break;case"lineHeight":s.lineHeight=void 0!==t.lineHeight?e?t[h]+"em":t[h]+"":"none";break;case"textShadows":s.textShadow=t.textShadows?t[h].map((t=>`${t.offsetX}px ${t.offsetY}px ${t.blur}px ${t.color}`)).join(","):"";break;case"variable":t.variable&&((null===(n=this.k)||void 0===n?void 0:n.inEditMode)?(s.color="var(--variable-artifact-color)",s.backgroundColor="rgba(235, 235, 235, 0.7)",s.cursor="var(--variable-artifact-cursor)",s.fontFamily=`'Open Sans', ${E}`):(s.color=s.color||"",s.cursor="",s.fontFamily=s.fontFamily||""));break;case"padding":t.padding?(s.paddingTop=t[h].top+"px",s.paddingLeft=t[h].left+"px",s.paddingRight=t[h].right+"px",s.paddingBottom=t[h].bottom+"px"):(s.paddingTop="",s.paddingLeft="",s.paddingRight="",s.paddingBottom="");break;default:s[h]=t[h]}}Ai(t){this.Qt.forEach((i=>{i.spans.forEach((i=>{if((0,b.WT)(i)&&i.__viewElement){const e=Object.assign(Object.assign({},t),i.style);this.Fi(e,i.__viewElement)}}))}))}_i(t){switch(t){case"newline":return"newline";case"space":return"space";case"word":return"text";case"ellipsis":return"ellipsis";case"end":return"end";case"variable":return"variable";case"composition":return"composition"}}Ei(t,i){return!(3!==t.nodeType||!t.parentNode)&&(!!(t=t.parentNode).dataset&&this.Oi(t.dataset.type)===i)}Oi(t){switch(t){case"newline":return"newline";case"space":return"space";case"text":return"word";case"end":return"end";case"variable":return"variable";case"composition":return"composition"}throw new Error("Unknown span type.")}Si(t){this.style=t?Object.assign(Object.assign({},this.gt),t):this.gt}mi(t,i){let e=t&&`"f-${t.id}"`;if(!e&&i){const t=window.getComputedStyle(i).fontFamily;t&&(e=t)}return e&&-1===e.indexOf(",")&&(e+=", "+E),e}static Bi(t,i){for(const e of i)if(1===e.length){if(e[0]===t)return!0}else if(t>=e[0]&&t<=e[1])return!0;return!1}static Tt(t){return 32===t?"infer":this.Bi(t,x)?"rtl":this.Bi(t,y)?"ltr":"previous"}};O=F([A(3,(0,f.f3)(27,{optional:!0})),A(4,(0,f.f3)(14,{optional:!0})),A(5,(0,f.f3)(30,{optional:!0})),_("design:paramtypes",[Object,HTMLDivElement,Object,Object,Object,Object])],O),(0,f.GY)(27,{optional:!0},O,"editorState",3),(0,f.GY)(14,{optional:!0},O,"editor",4);var S=e(205283);const B=(t,i=100)=>{let e;return function(){const n=this,s=arguments;clearTimeout(e),e=setTimeout((()=>t.apply(n,s)),i)}};var D=e(264486),M=e(902799),I=e(435420),k=e(693810),j=e(982628);class ${constructor(t){this.target=t,this.Mi=1,this.Ii=0,this.ki=0,this.ji=.5,this.$i=(0,j.Mb)("linear"),this.Ti=!0,this.Ri=[],this.onCompleted=t=>{this.Ri.push(t)},this.Li=t=>{if(this.Ti)return;this.Ni||(this.Ni=t);const i=(t-this.Ni)/1e3;this.Ii+=i*this.Mi,this.Ni=t,this.Pi(this.Ii)?this.pause():this.zi=requestAnimationFrame(this.Li)}}get isPlaying(){return!this.Ti}static to(t,i,e){return new $(t).to(i,e)}to(t,i){return this.fromTo(this.target,t,i)}from(t,i){return this.fromTo(t,this.target,i)}fromTo(t,i,e){return this.Hi(e),this.Ui=this.Yi(t),this.Vi=this.Yi(i),this.restart().play()}play(){return!0===this.Ti&&(this.Ti=!1,this.zi=requestAnimationFrame(this.Li)),this}pause(){this.Ti=!0,this.Ni=0,this.Xi()}restart(){return this.Ii=0,this}revert(){return this.Mi*=-1,this.play()}Hi(t={}){void 0!==t.delay&&(this.ki=t.delay),void 0!==t.duration&&(this.ji=t.duration),void 0!==t.timingFunction&&(this.$i=(0,j.Mb)(t.timingFunction)),this.Wi=t.callback}Pi(t){const i=this.Gi(t),e=this.Zi(i);"object"==typeof this.Vi&&Object.keys(this.Vi).forEach((t=>{const i=this.Ui[t],n=this.Vi[t];if("number"!=typeof i||"number"!=typeof i)throw new Error(`Cannot animate property ${t}. Must be of type number`);this.target[t]=(0,m.t7)(i,n,e)})),this.Wi&&this.Wi(this);const n=this.Mi<0?i<=0:i>=1;if(n)for(const s of this.Ri)s();return n}Zi(t){return this.$i(t)}Gi(t){return Math.max(0,Math.min((t-this.ki)/this.ji,1))}Xi(){this.zi&&(cancelAnimationFrame(this.zi),this.zi=void 0)}Yi(t){const i={};return"number"==typeof t&&(i.value=t),"object"==typeof t&&Object.keys(t).forEach((e=>{const n=t[e];"number"==typeof n&&(i[e]=n)})),i}}var T=e(445497),R=e(826407),L=e(4195),N=e(926202);const P={contain:"xMidYMid meet",cover:"xMidYMid slice",distort:"none"},z="http://www.w3.org/2000/svg",H="http://www.w3.org/1999/xlink";var U,Y;!function(t){t.Shape="-shape",t.Group="-group",t.LinearGradient="-linear-gradient",t.Border="-border",t.Clip="-clip",t.Shadow="-shadow"}(U||(U={}));class V{constructor(t,i,e){this.Qi=t,this.qi=i,this.Ji=e,this.Ki=[],this.te=[],this.ie=[],this.ee=[],this.ne=Y.None,this.se=t=>t.fitOption?P[t.fitOption]:t.ratio?"xMidYMid slice":t.ratio?"xMidYMid meet":"none",this.re=this.Qi.document,this.oe=this.re.querySelector("head base")?this.Qi.location.href.replace(this.Qi.location.hash,""):"",this.he=(((0,s.Tv)(this.qi)?this.qi.elementCid:"creative")||"unset")+"-"+Math.floor(1e6*Math.random()),this.ae=this.ue(),this.le=this.qi.__data,this.de()}ue(){var t;switch(null===(t=this.qi)||void 0===t?void 0:t.kind){case v.OH.Ellipse:case v.OH.Image:return this.qi.kind;default:return v.OH.Rectangle}}de(){var t;if(this.fe)throw new Error("Background already added");const i=this.re,e=i.createElementNS(z,"g"),n=i.createElementNS(z,"ellipse"===this.ue()?"ellipse":"rect"),s=i.createElementNS(z,"defs"),r=i.createElementNS(z,"svg"),o=r.style;return r.setAttribute("xmlns",z),o.position="absolute",o.left="0",o.top="0",o.width="100%",o.height="100%",o.overflow="visible",o.pointerEvents="none",o.zIndex="-1",this.pe()&&(o.outline="1px solid transparent"),n.id=this.he+U.Shape,n.setAttribute("fill","transparent"),e.id=this.he+U.Group,e.appendChild(n),r.appendChild(s),r.appendChild(e),this.ve=n,this.me=s,this.we=e,this.fe=r,null===(t=this.qi.__rootElement)||void 0===t||t.prepend(r),r}be(){this.ye||(this.ye=function(t){const i="http://www.w3.org/2000/svg",e=document.createElementNS(i,"g"),n=document.createElementNS(i,"g");n.setAttribute("transform",`translate(${t.width/2-12}, ${t.height/2-12})`),n.setAttribute("stroke","#ffffff"),n.setAttribute("stroke-width","2"),n.setAttribute("fill","none");const s=document.createElementNS(i,"circle");s.setAttribute("stroke-opacity","0.25"),s.setAttribute("cx","12"),s.setAttribute("cy","12"),s.setAttribute("r","12");const r=document.createElementNS(i,"path");r.setAttribute("d","M24 12c0-9.94-8.06-12-12-12");const o=document.createElementNS(i,"animateTransform");o.setAttribute("attributeName","transform"),o.setAttribute("type","rotate"),o.setAttribute("from","0 12 12"),o.setAttribute("to","360 12 12"),o.setAttribute("dur","1s"),o.setAttribute("repeatCount","indefinite"),r.appendChild(o),n.appendChild(s),n.appendChild(r);const h=document.createElementNS(i,"rect");return h.setAttribute("width",`${t.width}`),h.setAttribute("height",`${t.height}`),h.setAttribute("fill","rgba(0,0,0,0.25)"),e.appendChild(h),e.appendChild(n),e}(this.xe)),this.ye.parentNode||this.we.appendChild(this.ye)}Ce(){var t;(null===(t=this.ye)||void 0===t?void 0:t.parentNode)&&this.we.removeChild(this.ye)}pe(){var t;return!(!this.Ji.IN_IMAGE_GENERATOR||!(null===(t=this.qi)||void 0===t?void 0:t.rotationZ)||0===this.qi.rotationZ)}Fe(t,i){let e;return this.xe=i?Object.assign(Object.assign({},t),i):t,this.qi=t,this.ae===v.OH.Image&&(e=this._e(this.xe.imageUrl)),this.Ae(this.xe.fill),this.Ee(this.xe.border),this.Oe(this.xe.width,this.xe.height),this.Se(this.xe.shadows),this.Be(this.xe.radius),e}Oe(t,i){if(isNaN(t)||isNaN(i)||"number"!=typeof t||"number"!=typeof i)throw new Error("width and height must be provided");if(t!==this.De||i!==this.Ie){this.De=t,this.Ie=i;const e=this.ke();this.fe.setAttribute("width",t+2*e+""),this.fe.setAttribute("height",i+2*e+""),"ellipse"===this.ae?(this.ve.setAttribute("cx",e+t/2+""),this.ve.setAttribute("cy",e+i/2+""),this.ve.setAttribute("rx",t/2+""),this.ve.setAttribute("ry",i/2+"")):(this.ve.setAttribute("width",t+""),this.ve.setAttribute("height",i+""),this.je&&(this.je.setAttribute("width",t+""),this.je.setAttribute("height",i+""))),this.$e(),this.Te(),this.Re()}this.Le()}Te(){if(this.Ne){if(!this.Pe||"number"!=typeof this.De||"number"!=typeof this.Ie)throw new Error("No gradient position provided");const t=this.Pe.from.x*this.De,i=this.Pe.from.y*this.Ie,e=this.Pe.to.x*this.De,n=this.Pe.to.y*this.Ie;this.Ne.setAttribute("x1",t+""),this.Ne.setAttribute("y1",i+""),this.Ne.setAttribute("x2",e+""),this.Ne.setAttribute("y2",n+"")}}ze(t){var i;if(null===(i=null==t?void 0:t.stops)||void 0===i?void 0:i.length){const i=t.start.position,e=t.end.position;return{from:Object.assign({},i),to:Object.assign({},e)}}}He(){if(!this.Ne){const t=this.he+U.LinearGradient,i=document.createElementNS(z,"linearGradient");i.id=t,i.setAttribute("gradientUnits","userSpaceOnUse");const e=document.createElementNS(z,"stop");i.appendChild(e);const n=document.createElementNS(z,"stop");i.appendChild(n),this.ie.push(e,n),this.Ne=i}return this.Ne}Be(t=0){this.ae!==v.OH.Ellipse&&this.Ue!==t&&(this.Ue=t,this.ve.setAttribute("rx",t+""),this.je&&this.je.setAttribute("rx",t+""),this.Ye&&this.Ye.setAttribute("rx",t+""))}Ae(t){const i=this.he+U.LinearGradient,e=null==t?void 0:t.toString();if(e!==this.Ve)if(this.Ve=e,t){const n=t.stops||[];if("linear-gradient"===t.type&&n.length){const e=this.He();this.Pe=this.ze(t),this.De&&this.Ie&&this.Te(),n.forEach(((i,e)=>{const n=i.color,s=this.ie[e];s.setAttribute("offset",i.offset+"%"),s.setAttribute("stop-color",n.toHEX()),s.setAttribute("stop-opacity",(n.alpha/100*(t.alpha/100)).toString())})),e.parentNode||this.me.appendChild(e),navigator.userAgent.includes("Safari")&&navigator.vendor.includes("Apple")?this.ve.setAttribute("fill",`url('${this.oe}#${i}')`):this.ve.setAttribute("fill",`url(#${i})`)}else this.ve.setAttribute("fill",e)}else this.ve.setAttribute("fill","transparent")}$e(){this.Ye&&(this.Ye.setAttribute("width",this.De+""),this.Ye.setAttribute("height",this.Ie+""))}Xe(){if(this.ae!==v.OH.Image)throw new Error("Border elements are only supported for images");if(!this.Ye){const t=this.he+U.Border,i=this.he+U.Clip,e=this.re.createElementNS(z,"rect");e.setAttribute("x","0"),e.setAttribute("y","0"),e.setAttribute("rx",(this.Ue||0)+""),e.setAttribute("fill","transparent"),e.id=t,this.We=this.re.createElementNS(z,"clipPath"),this.We.id=i;const n=this.re.createElementNS(z,"use");n.setAttributeNS(H,"xlink:href",`${this.oe}#${t}`),this.We.appendChild(n),this.Ge=this.re.createElementNS(z,"use"),this.Ge.setAttributeNS(H,"xlink:href",`${this.oe}#${t}`),this.je&&this.je.setAttribute("clip-path",`url(${this.oe}#${i})`),this.me.appendChild(e),this.me.appendChild(this.We),this.we.appendChild(this.Ge),this.Ye=e}return this.Ye}Ee(t){var i;const{thickness:e,style:n,color:s}=t||{thickness:0,style:"solid"},r=s?s.toString():"transparent",o=(null===(i=this.Ze)||void 0===i?void 0:i.thickness)!==e;if(this.Ze&&!o&&this.Ze.style===n&&this.Ze.color===r)return;this.Ze={thickness:e,style:n,color:r},this.fe.style.boxShadow=e&&this.ne!==Y.BoxShadow?`0 0 ${e}px transparent`:"none";const h=this.ae===v.OH.Image?this.Xe():this.ve;h.setAttribute("stroke",this.Ze.color),h.setAttribute("stroke-width",this.Ze.thickness+""),h.setAttribute("stroke-linejoin","square"),"solid"===this.Ze.style?(h.setAttribute("stroke-linecap","butt"),h.setAttribute("stroke-dasharray","")):"dashed"===this.Ze.style?(h.setAttribute("stroke-linecap","butt"),h.setAttribute("stroke-dasharray",3*e+"")):"dotted"===this.Ze.style&&(h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-dasharray","1, "+2*e)),o&&this.Qe(this.ee)}Qe(t){const i=this.ne,e=this.fe.style;if((null==t?void 0:t.length)&&i!==Y.None){if(i===Y.DropShadow){const i=t.map((t=>`drop-shadow(${t.offsetX}px ${t.offsetY}px ${t.blur}px ${t.color})`));e.filter=i.join(" ")}}else e.filter="unset"}Se(t=[]){var i,e,n;if(t){const s=t.map((t=>Object.assign(Object.assign({},t),{color:t.color.toString()}))),r=this.qe();let o=this.ee.length!==s.length||r!==this.ne;if(o||(o=s.some(((t,i)=>{const e=this.ee&&this.ee[i];return!e||t.blur!==e.blur||t.spread!==e.spread||t.offsetX!==e.offsetX||t.offsetY!==e.offsetY||t.color!==e.color}))),s.length!==(null===(i=this.ee)||void 0===i?void 0:i.length)&&(this.Je=void 0),this.ee=s,!o)return;this.ne=r,this.Ke();const h=this.he+U.Group,{width:a,height:c}=this.qi,u=this.ne===Y.SvgShadow?t.length:0;for(;this.Ki.length>u;){const t=this.Ki.pop(),i=this.te.pop();null===(e=t.parentNode)||void 0===e||e.removeChild(t),null===(n=i.parentNode)||void 0===n||n.removeChild(i)}if(this.ne!==Y.SvgShadow)return this.Qe(this.ee),void this.Re();this.Qe(),t.forEach(((t,i)=>{const e=t.color,n=this.he+U.Shadow+i;let s=this.Ki[i],r=this.te[i];if(!s){s=document.createElementNS(z,"filter"),s.id=n,s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("width","300%"),s.setAttribute("height","300%"),X(s,-100,-100,"%");const t=document.createElementNS(z,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("in","SourceGraphic"),t.setAttribute("result",n+"_color"),s.appendChild(t);const i=document.createElementNS(z,"feGaussianBlur");i.setAttribute("type","matrix"),i.setAttribute("result",n+"_blur"),i.setAttribute("in",n+"_color"),s.appendChild(i),this.Ki.push(s),this.me.appendChild(s)}var o,u;r||(r=document.createElementNS(z,"use"),r.setAttributeNS(H,"xlink:href",`${this.oe}#${h}`),r.setAttribute("filter",`url(${this.oe}#${n})`),r.setAttribute("width","100%"),r.setAttribute("height","100%"),X(r,0,0),r.style.transformOrigin="50% 50%",this.te.push(r),o=this.me,u=r,o.parentNode&&o.parentNode.insertBefore(u,o.nextSibling));const l=`0 0 0 0 ${e.red/255} 0 0 0 0 ${e.green/255} 0 0 0 0 ${e.blue/255} 0 0 0 ${e.alpha/100} 0`;s.getElementsByTagName("feColorMatrix")[0].setAttribute("values",l),s.getElementsByTagName("feGaussianBlur")[0].setAttribute("stdDeviation",t.blur+""),X(r,t.offsetX,t.offsetY),r.style.transform=`scaleX(${1+t.spread/a}) scaleY(${1+t.spread/c})`})),this.Re()}}async _e(t){var i,e;if(t===this.tn)return;this.tn=t;const n=this.he+U.Clip;if(!this.je){const t=this.je=document.createElementNS(z,"image");X(t,0,0),this.Xe(),this.we.insertBefore(t,this.Ge),t.setAttribute("clip-path",`url(${this.oe}#${n})`)}t&&(0,s.C0)(this.le)?((null===(i=this.le.imageAsset)||void 0===i?void 0:i.__loading)&&this.be(),await this.en(t),(null===(e=this.le.imageAsset)||void 0===e?void 0:e.__loading)||this.Ce()):this.nn()}en(t){if(t=(0,D.Nm)(t),!this.je||!this.tn)throw new Error("No image element added to svg");const i=(0,S.Vk)();if(S.G6&&i<14||S.un&&i<20)this.sn=(0,N.SY)(t);else{const i=new N.hP;this.je.addEventListener("load",(()=>i.resolve())),this.je.addEventListener("error",(()=>{this.nn(),i.reject(new Error("Could not load image from url "+t))})),this.sn=i.promise}return this.je.setAttributeNS(H,"xlink:href",t),this.je.setAttribute("src",t),this.sn}nn(){this.je&&(this.je.removeAttributeNS(H,"xlink:href"),this.je.removeAttribute("xlink:href"),this.je.removeAttribute("src"))}Le(){if(this.ae===v.OH.Image&&this.je){const t=this.xe,i=t.__data,e=this.je,n=this.se(t),s=o.b3.F(t),r=this.rn(i,!!t.feed,s),h=r.x<0?r.x:0,a=r.y<0?r.y:0,c=Math.max(this.De+Math.abs(r.x),0),u=Math.max(this.Ie+Math.abs(r.y),0);if(this.hn&&this.hn.x===h&&this.hn.y===a&&this.hn.width===c&&this.hn.height===u&&this.hn.fillOption===n)return;this.ve.style.overflow="cover"===t.fitOption?"hidden":"visible",e.setAttribute("width",c+""),e.setAttribute("height",u+""),e.setAttribute("preserveAspectRatio",n),e.setAttribute("rx",this.Ue+"");const l=this.ke();X(e,h+l,a+l),this.Ye&&X(this.Ye,l,l),this.hn={x:h,y:a,width:c,height:u,fillOption:n}}}Re(){const t=this.fe,i=this.ee||[],{width:e,height:n}=this.qi,s=this.ke(),r=Math.ceil(e+2*s),o=Math.ceil(n+2*s),h={width:r,height:o};this.Je&&(0,L.Bq)(this.Je,h)||(this.Je=h,t.style.left=`-${s}px`,t.style.top=`-${s}px`,t.style.width=`${r}px`,t.style.height=`${o}px`,t.setAttribute("width",r+""),t.setAttribute("height",o+""),this.ae===v.OH.Ellipse?(this.ve.setAttribute("cx",r/2+"px"),this.ve.setAttribute("cy",o/2+"px")):(X(this.ve,s,s),this.ae===v.OH.Image&&this.hn&&(this.je&&X(this.je,this.hn.x+s,this.hn.y+s),this.Ye&&X(this.Ye,s,s))),this.qe()!==Y.SvgShadow?this.Qe(i):i.forEach(((t,i)=>{this.te[i].style.transform=`scaleX(${1+t.spread/e}) scaleY(${1+t.spread/n})`})))}Ke(){var t;const i=this.ne,e=null===(t=this.Ze)||void 0===t?void 0:t.thickness,n=i===Y.None&&!e||i===Y.SvgShadow;this.fe.style.overflow=n?"clip":"visible"}rn(t,i,e){let n=0,s=0;const r=t.imageAsset;if(!i&&!e&&(null==r?void 0:r.width)&&(null==r?void 0:r.height)){const i=(0,o.mW)(t),e=Object.assign(Object.assign({},(0,L.vd)(r,t,"cover")),{x:0,y:0}),h=e.width-t.width,a=e.height-t.height;h>0&&(n=Math.round((1-2*i.x)*h)),a>0&&(s=Math.round((1-2*i.y)*a))}return{x:n,y:s}}ke(){var t;if(this.qe()!==Y.SvgShadow)return 0;const i=this.an();return((null===(t=this.qi.border)||void 0===t?void 0:t.thickness)||0)+i.reduce(((t,i)=>{const e=Math.max(Math.abs(i.offsetX),Math.abs(i.offsetY));return Math.max(t,e+2*i.blur+i.spread)}),0)}qe(){const t=this.le,i=this.an();if(i.length&&t){return i.some((t=>t.spread>0))?S.vU&&i.length>1?Y.DropShadow:Y.SvgShadow:Y.DropShadow}return Y.None}an(){const t=this.le;return t?[...t.states.map((t=>t.shadows||[])).reduce(((t,i)=>t.concat(i)),[]),...t.shadows||[]]:[]}}function X(t,i,e,n="px"){const s=i+n,r=e+n;t.getAttribute("x")!==s&&t.setAttribute("x",s),t.getAttribute("y")!==r&&t.setAttribute("y",r)}function W(t,i,e=!1){if(t.kind===v.OH.Creative)i.cn(t),G(t.elements,i,e);else e&&!(0,s.BM)(t)||function(t,i){switch(t.kind){case v.OH.Creative:i.cn(t);break;case v.OH.Rectangle:i.ln(t);break;case v.OH.Ellipse:i.dn(t);break;case v.OH.Image:i.pn(t);break;case v.OH.Text:i.vn(t);break;case v.OH.Button:i.mn(t);break;case v.OH.Widget:i.gn(t)}}(t,i)}function G(t,i,e=!1){for(const n of t)W(n,i,e)}!function(t){t[t.None=0]="None",t[t.DropShadow=1]="DropShadow",t[t.BoxShadow=2]="BoxShadow",t[t.SvgShadow=3]="SvgShadow"}(Y||(Y={}));var Z=function(t,i,e,n){var s,r=arguments.length,o=r<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,i,e,n);else for(var h=t.length-1;h>=0;h--)(s=t[h])&&(o=(r<3?s(o):r>3?s(i,e,o):s(i,e))||o);return r>3&&o&&Object.defineProperty(i,e,o),o},Q=function(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)},q=function(t,i){return function(e,n){i(e,n,t)}};let J=0,K=class t extends g.v{constructor(t,i,e={},n,r,o,h){super(),this.container=t,this.creativeDocument=i,this.wn=n,this.feedStore=r,this.WidgetRenderer=o,this.ad=h,this.bn=new Map,this.yn=0,this.loop=1,this.storedViewElements=new Map,this.xn=!1,this.Cn=new Map,this.Fn=new Map,this._n=!1,this.An=this.wn.STUDIO_JS?new Map:void 0,this.En=new Map,this.logger=new window.logger("Renderer"+J++),this.scale=1,this.onCreativeMouseMove=t=>{this.On()||s.sL(this.viewTree,(i=>{var e;if(s.Tv(i)){if(!i.__actionListeners)return;for(const n of i.__actionListeners){if(n.trigger!==v.px.MouseLeave)continue;const s=this.Sn(i.__data).find((t=>n.action.operations.find((i=>i.value===t.state.id))));!s||(null===(e=null==s?void 0:s.animation)||void 0===e?void 0:e.isPlaying)||a(i.__rootElement,t.target)||n.event(t,!0)}}}))},this.vt=(t,i,e)=>{if(!this.On()){if(this._n)return t.stopPropagation(),void(this._n=!1);if(e){if(this.Bn(t,e))return}this.wn.STUDIO_JS||t.stopPropagation(),this.emit("click",[t,i])}},this.updateViewElementValues=()=>{this.Dn(this.yn)},this.Mn=e.elements,this.In=e.versions,this.kn=e.inDesignView||!1,this.Qi=e.contentWindow||window,this.jn=this.Qi.document,this.$n=this.jn.createElement("style"),this.jn.head.appendChild(this.$n),this.Tn=this.$n.sheet,this.Rn=this.jn.createDocumentFragment(),this.resetViewTree(),this.wn.STUDIO_JS&&this.feedStore&&this.feedStore.on("dataChanged",this.updateViewElementValues)}get Ln(){return{width:this.viewTree.width,height:this.viewTree.height}}get creativeSize(){return{width:this.creativeDocument.width,height:this.creativeDocument.height}}cn(i){const e=!0===this.wn.STUDIO_JS;this.Nn=`b${t.Pn}`,this.rootElement=this.jn.createElement("div"),this.rootElement.setAttribute("data-banner",""),this.rootElement.setAttribute("data-creative",""),this.Cn.set(this.Nn,this.rootElement),this.scaleViewTree(i),this.viewTree.radius=i.radius,this.viewTree.fill=i.fill,this.viewTree.border=i.border,this.viewTree.__rootElement=this.rootElement,this.zn(this.Nn,{width:"100%",height:"100%",boxSizing:"border-box",position:"relative",overflow:e?"visible":"clip",fontFamily:'Helvetica, Arial, Tahoma, "Microsoft Yahei", 微软雅黑, STXihei, 华文细黑, sans-serif',"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"}),this.Hn(this.viewTree),this.Rn.appendChild(this.rootElement),t.Pn++,this.rootElement.addEventListener("mousemove",this.onCreativeMouseMove)}ln(t){const i=this.Un(t);return this.Yn(i),i}dn(t){const i=this.Un(t);return this.Yn(i),i}vn(t){return this.Vn(t)}mn(t){return this.Vn(t)}Vn(t){const i=this.Un(t);return i.__rootElement.classList.add("text"),this.zn(i.elementCid,Object.assign({},this.Xn(i))),self.inServer||this.Wn(i),i}pn(t){const i=this.Un(t),e=e=>{let n="";t.feed&&this.feedStore&&(n=this.feedStore.getFeedValue(t.feed,t.id).targetUrl||""),this.vt(e,n,i)};return this.on("destroy",(()=>{i.__rootElement&&i.__rootElement.removeEventListener("click",e)})),i.__rootElement.addEventListener("click",e),i}gn(t){const i=this.Un(t),e=i.__rootElement.parentNode;return e&&(e.querySelector(`#widget-${t.id}`)||this.WidgetRenderer.createWidget(i,t)),i}Yn(t){const i=i=>{this.On()||this.vt(i,void 0,t)};t.__rootElement.addEventListener("click",i),this.on("destroy",(()=>t.__rootElement.removeEventListener("click",i)))}Bn(t,i){var e;const n=(null===(e=i.__actionListeners)||void 0===e?void 0:e.filter((t=>t.trigger===v.px.Click&&!t.action.disabled)))||[];if(n.length){for(const i of n){if(i.action.operations.some((t=>t.method===v.HA.OpenUrl))){i.event(t);break}i.event(t)}return!0}return!1}On(){var t;return!(null===(t=window.bfstudio)||void 0===t?void 0:t.inPreviewMode)&&this.wn.STUDIO_JS}Hn(t,i){t.__svgBackground||(t.__svgBackground=new V(this.Qi,t,this.wn));const e=t.__svgBackground.Fe(t,i);if(e&&s.pC(t)){const i=t.id;this.En.has(i)||this.En.set(i,e)}}Gn(t){var i;const e=t.__data,n=e.feed,s=n&&(null===(i=this.feedStore.getFeedValue(n,e.id,t))||void 0===i?void 0:i.value),r=e.imageAsset,a="string"==typeof s?(0,D.Nm)(s):void 0,c=this.wn.DESIGN_VIEW&&this.On(),u=!this.wn.DESIGN_VIEW&&this.wn.STUDIO_JS,l=t.elementCid,d=a||(null==r?void 0:r.url);if((0,h.Zp)(d))return d;if(!(0,h.CB)(d))return"";if(n&&!a)return"";if((c||u)&&l&&this.An){const i=this.An.get(l);if(i&&window.clearTimeout(i),(0,o.Ty)(t.imageUrl)===d)return this.An.set(l,window.setTimeout((()=>{this.Zn(t)}),1e3)),t.imageUrl}else if((0,o.Ty)(t.imageUrl)===d)return t.imageUrl;const f={width:this.creativeDocument.width*this.scale*2,height:this.creativeDocument.height*this.scale*2};return o.b3.c(e,{feedUrl:a,crop:!c,force:c,sizeLimit:f})}Zn(t){this.xn||(t.imageUrl=void 0,t.imageUrl=this.Gn(t),this.Hn(t))}Qn(t,i,e){const n=this.Sn(t);let s=this.qn(t,i);return s?s.rate=e:(s={state:i,rate:e},n.push(s)),this.Fn.set(t.id,n),s}qn(t,i){return this.Sn(t).find((t=>i===t.state))}Sn(t){return this.Fn.get(t.id)||[]}Jn(){this.Fn.forEach(((t,i)=>{const e=this.Kn(i);e&&this.is(e)}))}es(t,i){const e=this.Fn.get(t.id),n=(null==e?void 0:e.filter((t=>t.state.id!==i.id)))||[];this.Fn.delete(t.id),this.Fn.set(t.id,n)}is(t,i=!0){const e=this.Sn(t);this.Fn.delete(t.id),e.length&&(e.forEach((t=>{var i;return null===(i=t.animation)||void 0===i?void 0:i.pause()})),i&&this.ns(t))}Wn(t){var i,e;let n=t.__richTextRenderer;const s=t.__data;if(n)return void n.rerender();const r={feedStore:this.feedStore,element:s,viewElement:t,skipFontLoad:this.ss,document:this.creativeDocument,inDesignView:this.kn},o={spans:(null===(i=s.__dirtyContent)||void 0===i?void 0:i.spans)||s.content.spans,style:(0,m.ei)(Object.assign(t,(null===(e=s.__dirtyContent)||void 0===e?void 0:e.style)||{}),"width","height",...v.Gc)},h=this.container.resolve(20);n=t.__richTextRenderer=h(o,t.__rootElement,r),n.n(),n.on("editburst",(()=>this.emit("texteditburst"))),n.on("editstart",(()=>this.emit("texteditstart"))),n.on("editend",((t,i,e,n)=>this.emit("texteditend",[t,void 0,e,n]))),n.on("historychange",(()=>this.emit("texthistorychange")));const a=()=>{this.emit("textElementInteractionsStarted",[n])},c=()=>{this.emit("textElementInteractionsEnded",[n])},u=()=>{n.off("interactionsStarted",a),n.off("interactionsEnded",c),n.off("destroyed",u)},l=(t,i)=>{this.vt(t,i)},d=i=>{let e="";try{if(this.feedStore)for(const i of t.__richTextRenderer.E.spans)if((0,b.WT)(i)&&i.style.variable){e=this.feedStore.getFeedValue(i.style.variable,i.style.variable.spanId).targetUrl;break}}catch(n){}this.vt(i,e,t)};t.__rootElement.addEventListener("click",d),this.on("destroy",(()=>{t.__rootElement&&t.__rootElement.removeEventListener("click",d)})),n.off("interactionsStarted",a),n.off("interactionsEnded",c),n.off("destroyed",u),n.off("spanClicked",l),n.on("interactionsStarted",a),n.on("interactionsEnded",c),n.on("spanClicked",l),n.on("destroyed",u)}rs(t,i,e=!0){var n;this.yn=i;const s=this.storedViewElements.get(t.id);if(!s)throw new Error("Could not find view node");const r=0===i,o=null===(n=this.Fn.get(t.id))||void 0===n?void 0:n.map((t=>t)),h=(0,k.Uu)(t,this.yn)&&!this.shouldHideOverlapElement(s);if(!e||h||r){const n=(0,R.Ut)(t,this.creativeSize,i,o);this.os(s,t,n,e)}else s.opacity=0,this.hs(s,{})}os(t,i,e,n=!0){var r,o,h,a;this.logger.debug(`_setViewElementValuesWithState[${i.name}]`);const c=s.mO(i);if(t.x=(0,R.Zw)("x",i,e,this.scale),t.y=(0,R.Zw)("y",i,e,this.scale),t.width=(0,R.Zw)("width",i,e,c?void 0:this.scale),t.height=(0,R.Zw)("height",i,e,c?void 0:this.scale),t.originX=(0,R.Zw)("originX",i,e),t.originY=(0,R.Zw)("originY",i,e),t.scaleX=(0,R.Zw)("scaleX",i,e,c?this.scale:void 0),t.scaleY=(0,R.Zw)("scaleY",i,e,c?this.scale:void 0),t.rotationX=(0,R.Zw)("rotationX",i,e),t.rotationY=(0,R.Zw)("rotationY",i,e),t.rotationZ=(0,R.Zw)("rotationZ",i,e),t.mirrorX=(0,R.Zw)("mirrorX",i,e),t.mirrorY=(0,R.Zw)("mirrorY",i,e),t.opacity=(0,R.Zw)("opacity",i,e),t.border=(0,R.Zw)("border",i,e,this.scale),t.fill=(0,R.Zw)("fill",i,e),t.shadows=(0,R.Zw)("shadows",i,e,this.scale),t.radius=(0,R.Zw)("radius",i,e,this.scale),t.filters=(0,R.Zw)("filters",i,e),t.hidden=(0,R.Zw)("hidden",i,e),t.perspective=this.cs(i),t.locked=i.locked,c&&1!==this.scale&&(t.x-=t.width*(1-this.scale)/2,t.y-=t.height*(1-this.scale)/2),t.kind===v.OH.Image){t.fitOption=(0,R.Zw)("fitOption",i,e);const n=i;n.feed?(t.feed=(0,R.Zw)("feed",n,e),n.imageAsset=void 0):n.imageAsset&&(t.feed=n.feed=void 0),"cover"===t.fitOption&&(t.fitPositionX=(0,R.Zw)("fitPositionX",i,e,this.scale),t.fitPositionY=(0,R.Zw)("fitPositionY",i,e,this.scale)),t.imageUrl=this.Gn(t)}const u={};if(s.BM(t)){const n={},s=["textColor"];for(const i of s)n[i]=t[i];t.textColor=(0,R.Zw)("textColor",i,e),t.textShadows=(0,R.Zw)("textShadows",i,e,this.scale),t.underline=(0,R.Zw)("underline",i,e),t.strikethrough=(0,R.Zw)("strikethrough",i,e),t.uppercase=(0,R.Zw)("uppercase",i,e),t.textOverflow=(0,R.Zw)("textOverflow",i,e),t.lineHeight=(0,R.Zw)("lineHeight",i,e),t.fontSize=(0,R.Zw)("fontSize",i,e,this.scale),t.maxRows=(0,R.Zw)("maxRows",i,e),t.padding=(0,R.Zw)("padding",i,e,this.scale),t.characterSpacing=(0,R.Zw)("characterSpacing",i,e),t.horizontalAlignment=(0,R.Zw)("horizontalAlignment",i,e),t.verticalAlignment=(0,R.Zw)("verticalAlignment",i,e);const c=i.__dirtyContent,l=null!==(r=null==c?void 0:c.style.fontSize)&&void 0!==r?r:t.fontSize,d=null!==(o=null==c?void 0:c.style.textShadows)&&void 0!==o?o:t.textShadows;null===(h=t.__richTextRenderer)||void 0===h||h.ai("textShadows",d,t.__richTextRenderer.style),null===(a=t.__richTextRenderer)||void 0===a||a.ai("fontSize",l,t.__richTextRenderer.style);for(const i of s)u[i]=!(0,m.vZ)(t[i],n[i])}n&&(this.Hn(t),this.hs(t,e,u))}shouldHideOverlapElement(t){const i=t.time+t.duration;return!!(0,k.wU)(i,this.yn,.001)&&this.creativeDocument.elements.some((({time:t})=>(0,k.wU)(i,t,.001)))}hs(t,i,e){var n;const r=this.bn.get(t.elementCid);if(!r)throw new Error("Could not get stylerule for element. "+(this.wn.STUDIO_JS?"This is most likely caused by the element no longer existing from an undo/redo.":""));const{current:o,previous:h}=r;o.rawStyleValue=this.Xn(t);let a=!1;const c=h.rawStyleValue,u=h.styleRule.style,l=o.rawStyleValue;if(c.pointerEvents!==l.pointerEvents&&(u.pointerEvents=l.pointerEvents),c.backfaceVisibility!==l.backfaceVisibility&&l.backfaceVisibility&&(u.backfaceVisibility=l.backfaceVisibility),c.transform!==l.transform&&(u.transform=l.transform),c.width!==l.width&&(u.width=l.width,a=!0),c.height!==l.height&&(u.height=l.height,a=!0),c.opacity!==l.opacity&&(u.opacity=l.opacity),c.filter!==l.filter&&(u.filter=l.filter),s.BM(t)){let i;const s=t.__richTextRenderer.mt;if((a||this.us&&s)&&(i=(null==s?void 0:s.elements.get(t.id))||t.__richTextRenderer.E.spans.find((t=>"variable"===t.type))||(null===(n=t.__dirtyContent)||void 0===n?void 0:n.spans.find((t=>"variable"===t.type)))),null==e?void 0:e.textColor){const i=t.textColor;t.__richTextRenderer.Ai({textColor:i})}(i||a)&&t.__richTextRenderer.rerender(!1,t)}h.rawStyleValue=o.rawStyleValue,h.styleRule=o.styleRule}Dn(t,i){this.xn||(i&&(this.us=i),s.qL(this.creativeDocument,(i=>{this.rs(i,t)})),this.us=!1)}updateCreativeValues(){this.Hn(this.viewTree)}ns(t){this.rs(t,this.yn)}ls(t){const i=this.Kn(t);i&&this.ns(i)}ds(t){const i=t.__data;let e={callback:(e,n,s)=>{if(this.On())return;if(n===v.px.TouchStart&&(this.fs=!0),n===v.px.MouseLeave&&!s&&e.target!==t.__rootElement)return;if(this.fs&&!n.startsWith("touch"))return;const r=e instanceof MouseEvent?e.relatedTarget:e.target;n!==v.px.MouseLeave&&r&&!this.jn.body.contains(r)||i.actions.filter((t=>t.triggers.find((t=>t===n)))).forEach((t=>{t.operations.forEach((i=>{switch(i.method){case v.HA.OpenUrl:this.vt(e,i.value);break;case v.HA.SetState:case v.HA.RemoveState:case v.HA.ClearStates:t.preventClickThrough&&(this._n=!0),this.ps(i,t,n)}}))}))}};e=Object.assign(Object.assign({},e),(0,I.o6)(e)),t.__actionListeners=t.__actionListeners||[];for(const n of t.__actionListeners)t.__rootElement.removeEventListener(n.trigger,n.event);t.__actionListeners=[];for(const n of i.actions)if(!n.disabled)for(const i of n.triggers)i!==v.px.Click&&(i===v.px.TouchStart?t.__rootElement.addEventListener(i,e[i],{passive:!0}):t.__rootElement.addEventListener(i,e[i],!0)),t.__actionListeners.push({trigger:i,event:e[i],action:n})}ps(t,i,e){const n=this.viewTree.elements.find((i=>i.id===t.target)).__data,s=t.value;if(n.hidden)return;if(!s&&(t.method===v.HA.SetState||t.method===v.HA.RemoveState))return;if("reserved-pressed"===i.templateId&&(0,I.ck)(e)){const t=n.actions.find((t=>"reserved-pressed"===t.templateId&&t.operations.find((t=>t.value)))),i=this.Sn(n).find((i=>i.state.id===t.operations[0].value));if(!i||0===i.rate)return}const r=n.states.find((t=>t.id===s)),o={duration:t.animation.duration||.2,timingFunction:t.animation.timingFunction,callback:()=>{this.vs||this.rs(n,this.yn)}};if(r){const i=this.Sn(n).find((t=>t.animation&&t.state.id===r.id));if(i)t.method===v.HA.RemoveState?this.Sn(n).filter((t=>r===t.state&&t.animation)).forEach((t=>{(null==t?void 0:t.animation)&&t.animation.to({rate:0},o)})):i.animation.to({rate:1},o);else if(t.method===v.HA.SetState){const t=this.Qn(n,r,0);t.animation=$.to(t,{rate:1},o),t.animation.onCompleted((()=>{0===t.rate&&this.es(n,r)}))}}else r&&t.method!==v.HA.ClearStates||this.Sn(n).filter((t=>t.animation)).forEach((t=>{(null==t?void 0:t.animation)&&t.animation.to({rate:0},o)}))}ms(t,i,e=0){var n;this.logger.debug("rerender_m"),this.ss=!1,this.creativeDocument=t,this.yn=e,this.gs(),this.resetViewTree(),this.Rn=this.jn.createDocumentFragment(),s.LY(),this.ws.innerHTML="",this.bs(),W(this.creativeDocument,this),this.rootElement.addEventListener("click",this.vt),this.ys(),this.xs(),this.ws.appendChild(this.Rn),null===(n=this.WidgetRenderer)||void 0===n||n.creativeApi.bind()}resetInitialState(t=!0,i,e){this.ws.innerHTML="",this.yn=i,this.ss=e,t&&s.LY(),this.resetViewTree(),this.bs()}setBaseStyles(t){this.ys();for(const i of this.creativeDocument.elements){if(t&&!s.BM(i))continue;const e=this.storedViewElements.get(i.id),n=this.bn.get(e.elementCid).current.styleRule,r=[];for(let t=0;t<n.style.length;t++)n.style[t].match(/(transform|opacity|perspectiveOrigin)/)&&r.push(n.style[t]);n.style.willChange=r.join(", ")}this.xs()}initialize(t,i=0,e=!1){if(this.logger.verbose("initialize"),this.xn)return;this.ws=t,this.resetInitialState(!1,i,e);const{width:n}=t.getBoundingClientRect(),s=this.creativeDocument.width,r=this.calculateScale(n,s);this.setScale(r),W(this.creativeDocument,this,e),this.setBaseStyles(e),this.ws.appendChild(this.Rn),this.rootElement.addEventListener("click",this.vt),this.initResizeObserver(t)}render(t,i=0,e=!1){this.logger.verbose("render"),this.yn=i,this.ss=e;const{width:n}=t.getBoundingClientRect(),r=this.creativeDocument.width,o=this.calculateScale(n,r);if(this.setScale(o),t.innerHTML="",this.resetViewTree(),this.bs(),!this.xn){this.cn(this.creativeDocument),G(this.creativeDocument.elements,this,e),this.rootElement.addEventListener("click",this.vt),this.ys();for(const t of this.creativeDocument.elements){if(e&&!s.BM(t))continue;const i=this.storedViewElements.get(t.id),n=this.bn.get(i.elementCid).current.styleRule,r=[];for(let t=0;t<n.style.length;t++)n.style[t].match(/(transform|opacity|perspectiveOrigin)/)&&r.push(n.style[t]);n.style.willChange=r.join(", ")}this.xs(),t.appendChild(this.Rn),this.ws=t,this.initResizeObserver(t)}}gs(){var t,i;for(const e of this.viewTree.elements){s.iB(e)&&e.__richTextRenderer.jt();const t=this.bn.get(e.elementCid);t.current.styleRule.style.willChange="",t.previous.styleRule.style.willChange="",e.__rootElement&&e.__rootElement.removeEventListener("click",this.vt)}null===(t=this.rootElement)||void 0===t||t.removeEventListener("click",this.vt),null===(i=this.rootElement)||void 0===i||i.removeEventListener("mousemove",this.onCreativeMouseMove)}Cs(t){var i,e;this.is(t.__data,!1),this.viewTree.elements.splice(this.viewTree.elements.indexOf(t),1)[0];const n=t.elementCid,r=this.bn.get(n);this.Fs(r.current.styleRule);const o=null===(i=this.An)||void 0===i?void 0:i.get(n);o&&window.clearTimeout(o),t.kind!==v.OH.Text&&t.kind!==v.OH.Button||!t.__richTextRenderer||(t.__richTextRenderer.jt(),t.__richTextRenderer=void 0),s.mO(t)&&(null===(e=t.__data.__widget)||void 0===e||e.destroy())}destroy(){var t;for(this.emit("destroy"),this.$n&&this.$n.parentNode&&this.$n.parentNode.removeChild(this.$n),this.gs(),this.Jn(),this.feedStore&&(this.feedStore.destroy(),this.feedStore.off("dataChanged",this.updateViewElementValues));this.viewTree.elements.length;)this.Cs(this.viewTree.elements[0]);this.Tn=void 0,this.bn.clear(),this.WidgetRenderer&&this.WidgetRenderer.destroy(),this.storedViewElements.clear(),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),this.xn=!0,this.clearEvents()}Un(t){const i=s.oK(t);return this.storedViewElements.set(t.id,i),this.rs(t,this.yn,!1),s.Me(i),i.__rootElement=this._s(i),this.zn(i.elementCid,Object.assign({},this.Xn(i))),this.Hn(i),this.ds(i),this.viewTree.elements.push(i),i}xs(){const t=this.creativeDocument.elements,i=this.viewTree.elements;i.sort(((i,e)=>t.indexOf(i.__data)-t.indexOf(e.__data))),i.forEach(((t,i)=>this.As(t,i)))}Es(t){this.As(t,Number.MAX_VALUE)}As(t,i){const e=t.__safari3dElement||t.__rootElement,n=null==e?void 0:e.parentNode;if(e&&n){const t=Array.from(n.children).filter((t=>"DIV"===t.tagName)),s=(null==t?void 0:t.length)?t.indexOf(e):-1;s>-1&&s!==i&&n.insertBefore(e,t[i]||null)}}Xn(t){const i=s.Uu(t,this.yn),e="number"==typeof t.opacity?{opacity:`${i?t.opacity:0}`}:void 0,n=t.filters||{},r=Object.entries(n).filter((([t,i])=>void 0!==(null==i?void 0:i.value))).map((([t,i])=>{var e;const n=null===(e=M.by[t])||void 0===e?void 0:e.unit;return`${t}(${i.value.toFixed(0)}${n})`})).join(" ");return Object.assign(Object.assign(Object.assign(Object.assign({pointerEvents:i?"auto":"none"},this.Os(t)),"number"==typeof t.radius?{borderRadius:`${t.radius}px`}:void 0),e),{filter:r})}rerenderText(){for(const t of this.viewTree.elements)s.BM(t)&&t.__richTextRenderer.rerender()}cs(t){return 2*Math.max(t.width,t.height)}Os(t){return{width:t.width+"px",height:t.height+"px",transform:this.Ss(t)}}Bs(t,i=!1){const e=this.Ds(t);let n=i?"":`translate(${t.x}px, ${t.y}px)`;return t.rotationZ&&(n+=` rotateZ(${t.rotationZ}rad)`),t.rotationY&&(n+=` rotateY(${t.rotationY}rad)`),t.rotationX&&(n+=` rotateX(${t.rotationX}rad)`),n+=` scaleX(${e.x})`,n+=` scaleY(${e.y})`,n}Ss(t){const i=this.Ds(t),e=new T.y;return e.ks(t.x,t.y),e.$s(t.perspective||800),t.rotationZ&&e.Ts(t.rotationZ),t.rotationY&&e.Rs(t.rotationY),t.rotationX&&e.Ls(t.rotationX),e.Ns(i.x,i.y),t.rotationY||t.rotationX||t.kind!==v.OH.Image||e.Rs(2*Math.PI),e.Ps()}Ds(t){return{x:("number"==typeof t.scaleX?t.scaleX:1)*(t.mirrorX?-1:1),y:("number"==typeof t.scaleY?t.scaleY:1)*(t.mirrorY?-1:1)}}Fs(t){for(let i=this.Tn.cssRules.length-1;i>=0;i--)if(this.Tn.cssRules[i].selectorText===t.selectorText){this.Tn.deleteRule(i);break}}bs(){this.bn.clear();for(let t=(this.Tn&&this.Tn.cssRules?this.Tn.cssRules.length:0)-1;t>2;t--)this.Tn.deleteRule(t)}ys(){const t=this.Tn;S.G6&&t.insertRule(`#${this.Nn} .safari-3d {position:absolute;left:0;top:0;bottom:0;right:0,pointer-events:none; transform: translateZ(0); }`,t.cssRules.length),t.insertRule(`#${this.Nn} .element{position:absolute;left:0;top:0;}`,t.cssRules.length),t.insertRule(`#${this.Nn} .text>div{position:relative;}`,t.cssRules.length)}zn(t,i){let e;e=t!==this.Nn?`#${this.Nn} #${t}`:"#"+t;let n="";for(const o in i)i[o]&&(n+=o.replace(/([A-Z])/g,(t=>"-"+t.toLowerCase()))+":"+i[o]+";");this.Tn.insertRule(`${e}{${n}}`,this.Tn.cssRules.length);const s=this.Tn.cssRules[this.Tn.cssRules.length-1],r=this.zs(s);this.bn.set(t,{previous:{styleRule:s,rawStyleValue:r},current:{styleRule:s,rawStyleValue:r}});this.Cn.get(t).setAttribute("id",t)}zs(t){const i={};for(let e=0;e<t.style.length;e++){i[t.style[e]]=t.style[t.style[e]]}return i}_s(t){const i=this.jn.createElement("div");if(this.Cn.set(t.elementCid,i),i.classList.add("element","kind-"+t.kind),S.G6){const e=this.jn.createElement("div");e.classList.add("safari-3d"),e.appendChild(i),t.__safari3dElement=e,this.rootElement.appendChild(e)}else this.rootElement.appendChild(i);return i}async injectFontFace(t){try{const i=await u(t);this.jn.fonts.has(i)||this.jn.fonts.add(i)}catch(i){console.error(i)}}Kn(t){var i;return null===(i=this.storedViewElements.get(t))||void 0===i?void 0:i.__data}getScale(){return this.scale}setScale(t){t!==this.scale&&(0!==t?(this.logger.debug("setting scale: "+t),this.scale=t,this.scaleViewTree(this.creativeDocument)):this.logger.verbose("Trying to set scale to 0. Aborting."))}setScaleAndUpdate(t){this.setScale(t),this.creativeDocument.elements.every((t=>this.storedViewElements.has(t.id)))&&(this.updateCreativeValues(),this.updateViewElementValues())}scaleViewTree(t){this.viewTree.width=t.width*this.scale,this.viewTree.height=t.height*this.scale}calculateScale(t,i){return t/i}initResizeObserver(t){var i;(null===(i=this.ad)||void 0===i?void 0:i.responsive)&&"undefined"!=typeof ResizeObserver&&(this.logger.debug("initializing ResizeObserver"),this.resizeObserver=new ResizeObserver(B((t=>{const i=t[0],e=i.borderBoxSize&&i.borderBoxSize[0];let n=null==e?void 0:e.inlineSize;if("number"!=typeof n){n=i.target.getBoundingClientRect().width}const s=this.calculateScale(n,this.creativeDocument.width);this.setScaleAndUpdate(s)}),50)),this.resizeObserver.observe(t))}resetViewTree(){this.viewTree={kind:v.OH.Creative,elements:[],width:this.creativeDocument.width,height:this.creativeDocument.height}}};K.Pn=0,K=Z([q(0,(0,f.nC)()),q(1,(0,f.f3)(1)),q(3,(0,f.f3)(2)),q(4,(0,f.f3)(6)),q(5,(0,f.f3)(4)),q(6,(0,f.f3)(0)),Q("design:paramtypes",[f.W2,Object,Object,Object,Object,Object,Object])],K);class tt{constructor(t,i,e){const n=e.resolve(10);this.Hs=n(i),this.Us=e.resolve(5),this.mt=this.Hs.feedStore}}async function it(t,i,n){const s=[];e.p=i&&(0,h.C6)(i,"/scripts/");for(const e of t){if(!e.id.startsWith("preload"))continue;switch(/^([\w-]+)/.exec(e.url)[1]){case"widget":s.push(nt(n));break;case"feed":s.push(et(n))}}await Promise.all(s),e.p=""}async function et(t){const{FeedStore:i}=await e.e(231).then(e.bind(e,847012));t.Ys(12,(t=>e=>{const n=t.resolve(3),s=t.resolve(2);return new i(n,s,e)})),t.resolve(12)}async function nt(t){const{WidgetRenderer:i,AdApi:n,CreativeApi:s,TimelineApi:r}=await e.e(263).then(e.bind(e,419860));t.Vs(4,i),t.Vs(7,n),t.Vs(8,s),t.Vs(9,r)}var st=e(295192);class rt{constructor(t,i,e,n,s){this.ad=t,this.Xs=i,this.Ws=n,this.Gs=[],this.Zs={images:[],fonts:[],feeds:[]},this.Qs=!1,this.qs=!1,this.init=async()=>{var t;const i=this.Qi;if(!i)throw new Error("Ad container is not visible");this.Js(),this.Ks=this.tr();const e=new f.W2;e.Vs(0,this.ad),e.Vs(1,this.Xs),e.Vs(2,this.env);const n=function(){const t=new f.W2;return t.Vs(13,O),t.Vs(5,r.L),t.Ys(20,(t=>(t,i,e)=>{let n;return n=new O(t,i,e),n})),t.Ys(10,(t=>i=>{const e=t.resolve(1),n=t.resolve(2),s=new K(t,e,i,n),r=t.maybeResolve(12);t.Vs(3,s),r&&(s.feedStore=r(i.brandId));const o=t.maybeResolve(4);s.WidgetRenderer=o;const h=t.maybeResolve(0);return s.ad=h,s})),t.Ys(11,(t=>(i,e,n)=>(t.Vs(1,i),t.Vs(0,n),new tt(i,e,t)))),t}();n.parent=e;const s=n.resolve(11);await Promise.all([it(this.ad.selectedCreative.animated.files,this.ad.getOrigin(),n),o.b3.n((null===(t=this.env)||void 0===t?void 0:t.IMAGE_OPTIMIZER_ORIGIN)||"",this.ad.selectedCreative.animated.defaultOrigin,this.ir()),st.a.init(this.qs)]);const h=s(this.Xs,{contentWindow:i,brandId:this.ad.data.brand.id},this.ad);this.renderer=h.Hs,this.renderer.on("click",this.vt),h.mt&&(this.feedStore=h.mt,this.renderer.feedStore=this.feedStore,this.ad.overriddenFeedData&&this.Zs.feeds.length>0&&this.renderer.feedStore.feeds.set(this.Zs.feeds[0],{feed:{data:this.ad.overriddenFeedData,intervalInSeconds:0},interval:void 0,overridden:!0}),await this.er()),this.animator=h.Us,this.nr(),this.renderer.render(this.Ks,0,!0);try{await this.sr()}catch(a){console.error("Failed to preload fonts.",a)}finally{this.renderer.ms(this.Xs)}try{await Promise.all([...this.renderer.En.values()])}catch(c){let t=!1;c instanceof Event&&c.target instanceof HTMLImageElement&&(console.error("Failed to load image:",c.target.src),t=!0),t||console.error(c)}this.rr(),this.renderer.WidgetRenderer&&(await Promise.all(this.renderer.WidgetRenderer.widgetInitializingPromises),await Promise.all(this.renderer.WidgetRenderer.widgetLoadingPromises)),this.or&&(this.or.style.opacity="1"),this.hr()?r.L&&this.ar():this.cr=i.setInterval((()=>{var t;this.hr()&&(null===(t=this.renderer)||void 0===t||t.ms(this.Xs,void 0,0),r.L&&this.ar(),i.clearInterval(this.cr))}),10),"function"==typeof this.Ws&&this.Ws(this)},this.vt=(t,i)=>{this.ur()&&(i?this.ad.tracking.click({x:t.x,y:t.y,deepLinkUrl:i}):this.ad.tracking.click(t))};try{this.lr(s);for(const n of e)switch(n.type){case"font":this.Zs.fonts.push(n.style);break;case"feed":this.Zs.feeds.push(n.id)}const t=this.dr(),i=t.contentWindow;if(this.qs=!t.contentDocument,this.qs)t.remove(),this.init();else{if(!i)return void console.warn("Did not initialize the creative, due to container element is not visible:\n",this.ad.container);this.or=t,this.fr(i,this.init)}}catch(h){throw new Error("Could not initialize creative: "+h.message)}}get Qi(){var t;return(this.qs?window:null===(t=this.or)||void 0===t?void 0:t.contentWindow)||void 0}get re(){var t;const i=null===(t=this.Qi)||void 0===t?void 0:t.document;if(!i)throw new Error("No document found");return i}tr(){return this.qs?this.ad.container:this.re.body}hr(){const t=this.re.createElement("div"),i=t.style;i.height="1px",i.width="1px",i.position="absolute",i.top="-100000px",this.ad.container.appendChild(t);const e=t.getBoundingClientRect().height>0;return this.ad.container.removeChild(t),e}rr(){if(this.renderer)for(const t of this.renderer.viewTree.elements)if((0,s.mO)(t)){this.hasWidgetElements=!0;break}}ar(){if(!this.animator)return;const t=this.ad.shouldAutoplay();this.animator.seek(this.pr()),this.ad.isOmniRender()&&(this.Xs.loops=1,this.animator.on("pause",(()=>{var t;this.Qs||(this.Qs=!0,null===(t=this.animator)||void 0===t||t.emit("loop"))}))),this.ad.viewability.pauseOutsideView()?(this.ad.on(n.ViewEnter,(()=>{var t;null===(t=this.animator)||void 0===t||t.play()})),this.ad.on(n.ViewLeave,(()=>{var t;null===(t=this.animator)||void 0===t||t.pause()})),this.ad.viewability.visible&&t&&this.animator.play()):t&&this.animator.play(),this.ad.on(n.Stop,(()=>{var t;null===(t=this.animator)||void 0===t||t.pause()}))}pr(){var t,i;const e=parseFloat((null===(t=this.ad.parameters)||void 0===t?void 0:t.seek)||"");if(!isNaN(e))return e;if(this.vr()){const t=(null===(i=this.Xs.preloadImage)||void 0===i?void 0:i.frames)&&this.Xs.preloadImage.frames[0];return"number"==typeof t?t:1}return this.Xs.startTime||0}vr(){var t;return"preload-frame"===(null===(t=this.ad.parameters)||void 0===t?void 0:t.seek)}lr(t){if(t){if(this.env=t,this.env.ANIMATED_CREATIVE_JS=!0,this.env.IN_IMAGE_GENERATOR="image-generator"===this.ad.parameters.env||this.vr(),!(0,h.$q)(window.location.href)){const t=this.ad.getOrigin();if((0,h.$q)(t)||(this.env.CUSTOM_AD_DOMAIN=(0,h.ge)(t,!1)),t)for(const i in this.env){const e=this.env[i];(0,h.CB)(e)&&((0,h.j3)(e)?this.env[i]=(0,h.C6)(t,e):this.env[i]=(0,h.r9)(e,t))}}o.kZ.imageOptimizerOrigin=this.env.IMAGE_OPTIMIZER_ORIGIN}}dr(){const t=document.createElement("iframe"),i=t.style;return i.width=i.height="1px",i.minWidth=i.maxWidth=i.minHeight="100%",i.outline=i.border=i.transform=i.filter="none",i.display="block",i.position="absolute",i.left=i.top=i.opacity="0",i.transformOrigin="0 0",t.src="about:blank",t.scrolling="no",this.ad.shouldFadeIn()&&(i.transition="opacity 0.2s ease"),this.ad.container.appendChild(t),t}Js(){const t=this.ur()?"pointer;":"default;",i=this.re,e=i.createElement("style");e.innerHTML=`*{box-sizing: border-box;}html,body{margin:0;padding:0;overflow:hidden;width:100%;height:100%;-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none;user-select:none;cursor:${t};}`,i.head.appendChild(e)}ur(){const t=this.ad.tracking.getRedirectUrl();if(!1!==t)return t||this.ad.tracking.getTargetUrl()}fr(t,i){if("complete"===t.document.readyState)setTimeout((()=>{i()}),100);else{const e=()=>{i&&i(),t&&t.removeEventListener("load",e)};t.addEventListener("load",e)}}nr(){const{animator:t,ad:i}=this;t&&i&&(t.on("loop",(()=>i.emit(n.Loop,[this.gr()]))),t.on("pause",(()=>i.emit(n.Pause,[this.gr()]))),t.on("play",(()=>i.emit(n.Play,[this.gr()]))),t.on("stop",(()=>i.emit(n.Stop,[this.gr()]))),t.on("seek",(()=>i.emit(n.Seek,[this.gr()]))))}gr(){const t=this.animator;return{ad:this.ad,time:(null==t?void 0:t.time)||0,loop:(null==t?void 0:t.loop)||0}}destroy(){var t,i,e;clearInterval(this.cr),null===(t=this.Ks)||void 0===t||t.removeEventListener("click",this.vt),null===(i=this.renderer)||void 0===i||i.destroy(),null===(e=this.animator)||void 0===e||e.destroy()}async er(){this.Xs.elements.forEach((t=>{if((0,s.BM)(t))for(const i of t.content.spans)"variable"===i.type&&-1===this.Gs.indexOf(i.style.variable.id)&&this.Gs.push(i.style.variable.id);else t.kind===d.O.Image&&t.feed&&-1===this.Gs.indexOf(t.feed.id)&&this.Gs.push(t.feed.id)})),await this.feedStore.preloadFeeds(this.Gs)}ir(){return this.env.IN_IMAGE_GENERATOR||this.ad.isOmniRender()?2:1}async sr(){var t;if(this.feedStore){null===(t=this.renderer)||void 0===t||t.viewTree.elements.forEach((t=>{if((0,s.BM)(t))for(const i of t.content.spans)"variable"===i.type&&this.feedStore.addFeedElement(t.id,i.style.variable,t)}));for(const t of this.Gs)this.feedStore.loadFontsBasedOnFeedData(t,!0)}const i=[];for(const n of this.Zs.fonts)if(n){if(!n.src.startsWith("data")){const[t,i]=n.src.split(l.N),e=this.feedStore&&this.feedStore.fontCharacterCache.get(n.id)||"",s=decodeURIComponent(i),{textParams:r,distinctText:o}=(0,l._)(e+s);if(e&&(this.feedStore.fontCharacterCache.set(n.id,o),n.src=t+r),!o)continue}i.push(u(n,this.env.FONTSERVICE_API_ORIGIN))}try{const t=await Promise.all(i);for(const i of t)this.re.fonts.add(i)}catch(e){console.error(e)}}}},693810:(t,i,e)=>{e.d(i,{q$:()=>s,qF:()=>r,Uu:()=>a,DE:()=>u,ZH:()=>l,zj:()=>p,wU:()=>g,C2:()=>b});e(742191),e(722049),e(826407),e(982628);var n=e(683777);new n.Y("AnimationUtils");function s(t){return o(t,"in")}function r(t){return o(t,"out")}function o(t,i){return h(t.filter((t=>t.type===i)))}function h(t){return m(...c(t))}function a(t,i){return!t.hidden&&g(i,t)}function c(t){const i=Array.isArray(t)?t:t.animations,e=[];return null==i||i.forEach((t=>e.push(...t.keyframes))),e}function u(t,i,e=0){const n=y(i);return t.slice(0).sort(f).find((t=>n!==t&&t.time-e<=n.time))}function l(t,i,e=0){const n=y(i);return t.slice(0).sort(d).find((t=>n!==t&&n.time<=t.time+e))}function d(t,i){return t.time-i.time||(t.duration||0)-(i.duration||0)}function f(t,i){return i.time-t.time||(i.duration||0)-(t.duration||0)}function p(t,i){return i-t.time}function v(...t){return(null==t?void 0:t.length)?Math.min(...t.map((t=>t.time))):0}function m(...t){if(!(null==t?void 0:t.length))return 0;const i=v(...t);return Math.max(...t.map((t=>t.time+(t.duration||0))))-i}function g(t,i,e=0){return w(t,i,i,e)}function w(t,i,e,n=0){const s=x(t),r=x(i),o=i===e?r:x(e);return r.time-n<=s.time&&s.time+s.duration<=o.time+o.duration+n}function b(t,i){const e=t.time<i.time?t:i,n=t.time<i.time?i:t;return Math.max(0,n.time-(e.time+(e.duration||0)))}function y(t){return"number"==typeof t?{time:t}:t}function x(t){return"number"==typeof t?{time:t,duration:0}:(void 0===t.duration&&(t.duration=0),t)}},872030:(t,i,e)=>{e.d(i,{L:()=>u});var n=e(201900),s=e(285328),r=e(693810),o=e(19114),h=function(t,i,e,n){var s,r=arguments.length,o=r<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,i,e,n);else for(var h=t.length-1;h>=0;h--)(s=t[h])&&(o=(r<3?s(o):r>3?s(i,e,o):s(i,e))||o);return r>3&&o&&Object.defineProperty(i,e,o),o},a=function(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)},c=function(t,i){return function(e,n){i(e,n,t)}};let u=class extends s.v{constructor(t,i){super(),this.creative=t,this.wr=i,this.time=0,this.isPlaying=!1,this.loop=1,this.br=!1,this.yr=0,this.xr=0,this.Mi=1,this.Cr=new Map,this.Fr=[],this._r=location.href.indexOf("isOmniRender")>=0,this.Li=t=>{if(this.br||!this.isPlaying)return void this.Xi();this.yr||(this.yr=t);const i=this.Ar(),e=this.creative.loops,n=(t-this.yr)*this.Mi,s=(this.xr+n)/1e3;if(!this.Er()&&this.loop>=e&&s>=i&&!this._r)this.stop();else{if(this._r&&s>=this.duration)return this.Or(this.duration),void this.pause();for(s<this.duration?this.Or(s):s>=this.duration&&(this.Or(this.duration),this.next());this.Fr.length;){const t=this.Fr.pop();t.fn(...t.value)}this.emit("tick",[this.time]),this.zi=requestAnimationFrame(this.Li)}}}get duration(){return function(t){let i=0;for(const e of t.elements)e.time+e.duration>i&&(i=e.time+e.duration);return i}(this.creative)}play(){return!this.isPlaying&&this.creative.elements.length>0&&(this.xr=1e3*this.time,this.zi=requestAnimationFrame(this.Li),this.isPlaying=!0,this.wr.vs=this.isPlaying,this.emit("play",[this.time])),this}toggle(){return this.isPlaying?this.pause():this.play(),this}pause(){return this.isPlaying&&(this.Xi(),this.isPlaying=!1,this.wr.vs=this.isPlaying,this.emit("pause",[this.time])),this}stop(){if(!this._r){const t=this.Ar();this.pause(),this.Or(t)}this.emit("stop",[this.time])}seek(t){return t=Math.max(t,0)||0,this.time!==t&&(this.xr=1e3*t,this.yr=0,this.Or(t),this.emit("seek",[this.time])),this}next(t=!0,i){const e=this.loop+(i||1);let n=!1;return this.wr.feedStore&&(n=this.wr.feedStore.loop<1,n&&this.wr.feedStore.setFeedLoop(i||1)),this.setLoop(e,t,!n),this}prev(t=!0,i,e){const n=this.loop-(i||1);return this.wr.feedStore&&this.wr.feedStore.setFeedLoop(this.wr.feedStore.loop-(i||1),e),this.setLoop(n,t,!1),this}replay(){return this.seek(0),this.emit("replay",[this.loop]),this}restart(){return this.wr.feedStore&&(this.wr.feedStore.resetIndexState(),this.wr.feedStore.skipNextIndexUpdate()),this.setLoop(1),this.play(),this.emit("restart",[this.loop]),this}Fe(t,i){this.Sr(),this.wr.Dn("number"==typeof t?t:this.time,i)}Br(t){this.creative=t}Or(t,i){this.time=t,this.Fe(this.time,i)}setLoop(t,i=!0,e=!0){this.wr.feedStore&&(e&&this.wr.feedStore.setFeedLoop(this.wr.feedStore.loop<0?this.wr.feedStore.loop:t),this.wr.feedStore.updateElementsCurrentIndex()),i?(this.xr=0,this.yr=0,this.Or(0,!0)):this.Fe(this.time,!0),this.loop=Math.max(1,t),this._r||this.emit("loop",[this.loop])}addToQueue(t,i=[]){this.isPlaying?this.Fr.push({fn:t.bind(this),value:i}):t.bind(this)(...i)}Sr(){if(this.isPlaying)for(let t=0;t<this.creative.elements.length;t++){const i=this.creative.elements[t],e=i.animations;this.Cr.has(i.id)||this.Cr.set(i.id,{visible:!1});const s=this.Cr.get(i.id);let o="none";const h=(0,r.q$)(e),a=(0,r.qF)(e);if(h&&(this.time>i.time&&this.time<h+i.time?o="inTransitionIn":"inTransitionIn"===s.animationState&&(this.time<=i.time||this.time>=h+i.time)&&(o="inTransitionOut")),a){const t=i.time+i.duration-a;this.time>t&&this.time<i.time+i.duration?o="outTransitionIn":"outTransitionIn"===s.animationState&&(this.time<t||this.time>=i.duration+i.time)&&(o="outTransitionOut")}(0,n.Uu)(i,this.time)?this.Cr.set(i.id,{visible:!0,animationState:o}):this.Cr.set(i.id,{visible:!1,animationState:o});const c=0===this.time&&0===i.time,u=this.time===i.duration+i.time,l=this.Cr.get(i.id);if((s.visible!==l.visible||c||u)&&((l.visible&&!u||c)&&"animationStarted"!==s.animationState?(l.animationState="animationStarted",this.emit("animation_start",[i])):(l.visible||c)&&!u||"animationEnded"===s.animationState||"none"===s.animationState&&0!==a||(l.animationState="animationEnded",this.emit("animation_end",[i]))),s.animationState!==this.Cr.get(i.id).animationState)switch(this.Cr.get(i.id).animationState){case"inTransitionOut":this.emit("in_transition_end",[i]);break;case"outTransitionIn":this.emit("out_transition_start",[i])}}}Ar(){return"number"==typeof this.creative.stopTime?this.creative.stopTime:this.duration-1}Xi(){this.xr=0,this.yr=0,this.zi&&(cancelAnimationFrame(this.zi),this.zi=void 0)}Er(){return!this.wr.wn.ANIMATED_CREATIVE_JS||!this.creative.loops}destroy(){this.br=!0,this.clearEvents(),this.Xi()}};u=h([c(0,(0,o.f3)(1)),c(1,(0,o.f3)(3)),a("design:paramtypes",[Object,Object])],u),(0,o.GY)(1,{},u,"creative",0),(0,o.GY)(3,{},u,"_renderer",1)},100789:(t,i,e)=>{e.d(i,{Il:()=>u});var n=e(812193),s=e(722049),r=e(25094);const o=/^#[0-9a-fA-F]{3}$|^#[0-9a-fA-F]{6}$/,h=/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$/,a=/^rgba\((0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d),(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d),(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d),(0?(\.\d+)?|1(\.0)?)\)$/,c=/^rgb\(\s*(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d)\s*,\s*(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d)\s*,\s*(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d)\s*\)$/;class u{constructor(t){if(this.type=r.M.Solid,this.stops=[],t)this.setColor(t);else{this.red=0,this.green=0,this.blue=0,this.hue=this.saturation=this.lightness=0,this.alpha=100;const t=l.RGBToHSL(this.red,this.green,this.blue);this.hue=t.h,this.saturation=t.s,this.lightness=t.l}}get angle(){if(this.stops.length>1){const t=180*Math.atan2(this.end.position.y-this.start.position.y,this.end.position.x-this.start.position.x)/Math.PI;return Math.round((90+t)%360)}return 0}get start(){return this.stops[0]}get end(){return this.stops[this.stops.length-1]}toHEX(){if(this.type!==r.M.Solid)throw new Error("Cannot convert a none solid color to HEX format.");return"#"+f(this.red)+f(this.green)+f(this.blue)}toRGB(){if(this.type!==r.M.Solid)throw new Error("Cannot convert a none solid color to RGB format.");return`rgb(${d(this.red)},${d(this.green)},${d(this.blue)})`}toRGBA(){if(this.type!==r.M.Solid)throw new Error("Cannot convert a none solid color to RGBA format.");return`rgba(${d(this.red)},${d(this.green)},${d(this.blue)},${(0,s.gH)(this.alpha/100)})`}copy(){return new u(this)}toHSV(){if("solid"!==this.type)throw new Error("Cannot convert a none solid color to HSV format.");let t,i,e;const n=this.red/255,s=this.green/255,r=this.blue/255;let o,h;const a=Math.max(n,s,r),c=a-Math.min(n,s,r),u=t=>(a-t)/6/c+.5;return 0===c?o=h=0:(h=c/a,t=u(n),i=u(s),e=u(r),n===a?o=e-i:s===a?o=1/3+t-e:r===a&&(o=2/3+i-t),o<0?o+=1:o>1&&(o-=1)),{h:o,s:h,v:a}}toLinearGradientCSS(){return`linear-gradient(${this.angle}deg, ${this.stops.map((t=>{const i=u.parse(t.color);return i.alpha=Math.round(i.alpha*(this.alpha/100)),`${i.toRGBA()} ${t.offset}%`})).join(",")})`}toLinearGradient(){return`linear-gradient(${this.stops.map((t=>{const i=u.parse(t.color);i.alpha=i.alpha*(this.alpha/100);let e="";return t.position?e=`${(0,s.gH)(t.position.x)} ${(0,s.gH)(t.position.y)}`:t.offset&&(e=(0,s.gH)(t.offset)+""),`${e} ${i.toRGBA()}`})).join(",")})`}toJSON(){return this.toString()}toString(){switch(this.type){case r.M.Solid:return this.toRGBA();case r.M.LinearGradient:return this.toLinearGradient()}}toCSS(){switch(this.type){case r.M.Solid:return this.toRGBA();case r.M.LinearGradient:return this.toLinearGradientCSS()}}addColorStop(t,i,e){this.stops.push({color:t,offset:i,position:e})}setColor(t){return this.type=t.type,"solid"===t.type?(this.red=t.red,this.green=t.green,this.blue=t.blue,this.alpha=t.alpha,this.saturation=t.saturation,this.lightness=t.lightness,this.hue=t.hue):(this.alpha=t.alpha,this.stops=t.stops.map((t=>({color:u.parse(t.color),offset:t.offset,position:t.position?Object.assign({},t.position):void 0})))),this}tint(...t){let i=0,e=0,n=0,r=0;const o={x:0,y:0},h={x:0,y:0};let a=0,c=0;if(t.forEach((t=>{var l;const d=t.color,f=(0,s.uZ)(t.amount,0,1),p="solid"!==d.type?[...d.stops]:[];if(i+=(d.red-this.red)*f,e+=(d.green-this.green)*f,n+=(d.blue-this.blue)*f,r+=(d.alpha-this.alpha)*f,null==p?void 0:p.length){if(2!==p.length)throw new Error("Tinting gradients with more than 2 stops is not supported currently");(null===(l=this.stops)||void 0===l?void 0:l.length)||(this.stops=[],p.forEach(((t,i)=>{const e=0===i?0:1;this.stops.push({color:new u(this),position:t.position?Object.assign({},t.position):{x:.5,y:e},offset:t.offset})})),this.type=t.color.type),a+=(p[0].offset-this.start.offset)*f,c+=(p[1].offset-this.end.offset)*f,p[0].position&&this.start.position&&p[1].position&&this.end.position&&(o.x+=(p[0].position.x-this.start.position.x)*f,o.y+=(p[0].position.y-this.start.position.y)*f,h.x+=(p[1].position.x-this.end.position.x)*f,h.y+=(p[1].position.y-this.end.position.y)*f)}})),this.stops.length){this.start.offset+=a,this.end.offset+=c,this.start.position={x:o.x+this.start.position.x,y:o.y+this.start.position.y},this.end.position={x:h.x+this.end.position.x,y:h.y+this.end.position.y};const i=t.map((t=>{var i;let e="linear-gradient"===t.color.type?new u(null===(i=t.color.start)||void 0===i?void 0:i.color):void 0;return e||(e=u.setRGB(t.color.red,t.color.green,t.color.blue,t.color.alpha/100)),{color:e,amount:t.amount}})),e=t.map((t=>{var i;let e="linear-gradient"===t.color.type?new u(null===(i=t.color.end)||void 0===i?void 0:i.color):void 0;return e||(e=u.setRGB(t.color.red,t.color.green,t.color.blue,t.color.alpha/100)),{color:e,amount:t.amount}}));this.start.color=u.mix(this.start.color,...i),this.end.color=u.mix(this.end.color,...e),this.alpha+=r}else this.red+=i,this.green+=e,this.blue+=n,this.alpha+=r;return this}isTransparent(){return this.type===r.M.Solid?this.alpha<100:this.stops.some((t=>t.color.isTransparent()))}static fromHSV(t,i,e){const n=new u;let s,r,o;const h=Math.floor(6*t),a=6*t-h,c=e*(1-i),d=e*(1-a*i),f=e*(1-(1-a)*i);switch(h%6){case 0:s=e,r=f,o=c;break;case 1:s=d,r=e,o=c;break;case 2:s=c,r=e,o=f;break;case 3:s=c,r=d,o=e;break;case 4:s=f,r=c,o=e;break;case 5:s=e,r=c,o=d}n.red=Math.round(255*s),n.green=Math.round(255*r),n.blue=Math.round(255*o);const p=l.RGBToHSL(s,r,o);return n.hue=p.h,n.saturation=p.s,n.lightness=p.l,n}static setRGB(t,i,e,n=1){const s=new u;if(n>1||n<0)throw new Error("invalid alpha");s.red=t,s.green=i,s.blue=e,s.alpha=Math.round(100*n);const r=l.RGBToHSL(t,i,e);return s.hue=r.h,s.saturation=r.s,s.lightness=r.l,s}static fromHSL(t,i,e,n=1){const s=new u;s.hue=t,s.saturation=i,s.lightness=e,s.alpha=Math.round(100*n);const r=l.HSLToRGB(t,i,e);return s.red=r.r,s.green=r.g,s.blue=r.b,s}static fromHEX(t){"#"===t[0]&&(t=t.substring(1,t.length));const i=new u;3===t.length?(i.red=parseInt(t.substr(0,1)+t.substr(0,1),16),i.green=parseInt(t.substr(1,1)+t.substr(1,1),16),i.blue=parseInt(t.substr(2,1)+t.substr(2,1),16)):6===t.length?(i.red=parseInt(t.substr(0,2),16),i.green=parseInt(t.substr(2,2),16),i.blue=parseInt(t.substr(4,2),16)):(i.red=255,i.green=255,i.blue=255);const e=l.RGBToHSL(i.red,i.green,i.blue);return i.hue=e.h,i.saturation=e.s,i.lightness=e.l,i}static fromRGB(t){const i=new u,e=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/.exec(t.replace(/\s/g,""));e&&(i.red=parseInt(e[1],10),i.green=parseInt(e[2],10),i.blue=parseInt(e[3],10));const n=l.RGBToHSL(i.red,i.green,i.blue);return i.hue=n.h,i.saturation=n.s,i.lightness=n.l,i}static fromRGBA(t){const i=new u,e=/^rgba\(([^,]+),([^,]+),([^,]+),([^,]+)\)$/g.exec(t.replace(/\s/g,""));e&&(i.red=parseInt(e[1],10),i.green=parseInt(e[2],10),i.blue=parseInt(e[3],10),i.alpha=Math.round(100*parseFloat(e[4])));const n=l.RGBToHSL(i.red,i.green,i.blue);return i.hue=n.h,i.saturation=n.s,i.lightness=n.l,i}static mix(t,...i){return new u(t).tint(...i)}static fromLinearGradient(t){const i=new u;i.type=r.M.LinearGradient;const e=t.substring(t.indexOf("(")+1,t.lastIndexOf(")")).split(/,(?![^(]*\))(?![^"']*["'](?:[^"']*["'][^"']*["'])*[^"']*$)/),n=e[0].indexOf("deg")>-1?parseInt(e.shift()||"0",10):void 0,s=Math.PI*(n||0)/180,o=Math.cos(s),h=Math.sin(s);for(let r=0;r<e.length;r++){const t=e[r].split(" ");if(void 0!==n){const n=t[0].trim(),s=parseInt(t[1],10);let a;if(0===r||r===e.length-1){const t=.5,i=1-s/100;a={x:o*(t-.5)-h*(i-.5)+.5,y:o*(i-.5)+h*(t-.5)+.5}}i.addColorStop(u.parse(n),s,a)}else{const e=t[t.length-1];let n,s=0===r?0:100;3===t.length?n={x:parseFloat(t[0]),y:parseFloat(t[1])}:s=parseFloat(t[0]),i.addColorStop(u.parse(e),s,n)}}return i}static parse(t,i="#FFFFFF"){if(t instanceof u)return new u(t);const e=n.i.get(t);if(e)return e;let s;return-1!==(t="string"==typeof t?t.replace(/,\s+/gi,","):t).indexOf("NaN")&&(console.error(`Color string '${t}' contains invalid syntax.`),s=u.parse("#CCCCCC")),s=o.test(t)||h.test(t)?u.fromHEX(t):a.test(t)?u.fromRGBA(t):c.test(t)?u.fromRGB(t):0===t.indexOf("linear-gradient")?u.fromLinearGradient(t):u.parse(i),n.i.set(t,s),s}static validate(t){return o.test(t)||a.test(t)||c.test(t)||h.test(t)}static parseValid(t){if(u.validate(t))return u.parse(t)}static isSameColor(t,i){return!i&&!i||!(!t||!i)&&t.toRGBA()===i.toRGBA()}}class l{static RGBToHSL(t,i,e){t/=255,i/=255,e/=255;const n=Math.max(t,i,e),s=Math.min(t,i,e);let r,o;const h=(n+s)/2;if(n===s)r=o=0;else{const a=n-s;switch(o=h>.5?a/(2-n-s):a/(n+s),n){case t:r=(i-e)/a+(i<e?6:0);break;case i:r=(e-t)/a+2;break;case e:r=(t-i)/a+4}r/=6}return{h:r,s:o,l:h}}static HSLToRGB(t,i,e){let n,s,r;const o=(t,i,e)=>(e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(i-t)*e:e<.5?i:e<2/3?t+(i-t)*(2/3-e)*6:t);if(0===i)n=s=r=e;else{const h=e<.5?e*(1+i):e+i-e*i,a=2*e-h;n=o(a,h,t+1/3),s=o(a,h,t),r=o(a,h,t-1/3)}return{r:255*n,g:255*s,b:255*r}}}function d(t){return(0,s.uZ)(t,0,255)>>>0}function f(t){return((t=d(t))<16?"0":"")+t.toString(16).toUpperCase()}},559881:(t,i,e)=>{function n(t){return t.replace(/%20/g," ")}e.d(i,{nw:()=>n})},121921:(t,i,e)=>{e.d(i,{N:()=>s,_:()=>r});var n=e(722049);const s="&t=",r=t=>{const i=(0,n.as)((0,n.Bw)(t));return{textParams:s+(0,n.nH)(i),distinctText:i}}},445497:(t,i,e)=>{e.d(i,{y:()=>c});const n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],s=Math.cos,r=Math.sin,o=Math.tan,h=Math.sqrt,a=Math.pow;class c{constructor(t){t?this.Dr(t):this.Mr=this.Ir()}Dr(t){const i=t.split(/\s*[(),]\s*/).slice(1,-1);return 6===i.length?this.Mr=[+i[0],+i[2],0,+i[4],+i[1],+i[3],0,+i[5],0,0,1,0,0,0,0,1]:16===i.length?this.Mr=[+i[0],+i[4],+i[8],+i[12],+i[1],+i[5],+i[9],+i[13],+i[2],+i[6],+i[10],+i[14],+i[3],+i[7],+i[11],+i[15]]:this.Ir(),this}Ps(){return`matrix3d(${this.Mr.join(",")})`}kr(t){return this.Mr=this.jr(this.Mr,t),this}$r(t=0,i=0,e=0){const n=r(t),o=s(t),h=r(i),a=s(i),c=r(e),u=s(e),l=[1,0,0,0,0,o,-n,0,0,n,o,0,0,0,0,1],d=[a,0,h,0,0,1,0,0,-h,0,a,0,0,0,0,1],f=[u,c,0,0,-c,u,0,0,0,0,1,0,0,0,0,1],p=this.jr(this.jr(l,d),f);return this.kr(p)}Ls(t){const i=r(t),e=s(t);return this.kr([1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1])}Rs(t){const i=r(t),e=s(t);return this.kr([e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1])}Ts(t){const i=r(t),e=s(t);return this.kr([e,i,0,0,-i,e,0,0,0,0,1,0,0,0,0,1])}Tr(t,i){const e=o(t),n=o(i);return this.kr([1,e,0,0,n,1,0,0,0,0,1,0,0,0,0,1])}ks(t,i,e=0){return this.kr([1,0,0,0,0,1,0,0,0,0,1,0,t,i,e,1])}Ns(t=1,i=1,e=1){return this.kr([t,0,0,0,0,i,0,0,0,0,e,0,0,0,0,1])}Rr(){return this.Lr(1,4)}Nr(){return this.Lr(2,4)}Pr(){return this.Lr(3,4)}zr(){return this.Hr(this.Lr(1,1),this.Lr(1,2),this.Lr(1,3))}Ur(){return this.Hr(this.Lr(2,1),this.Lr(2,2),this.Lr(2,3))}$s(t){const i=this.Ir();return i[11]=-1/t,this.kr(i)}Yr(t,i){const e=t[0],n=t[1],s=t[2],r=t[3],o=t[4],h=t[5],a=t[6],c=t[7],u=t[8],l=t[9],d=t[10],f=t[11],p=t[12],v=t[13],m=t[14],g=t[15],w=i[0]||0,b=i[1]||0,y=i[2]||0,x=i[3]||0;return[w*e+b*o+y*u+x*p,w*n+b*h+y*l+x*v,w*s+b*a+y*d+x*m,w*r+b*c+y*f+x*g]}jr(t,i){const e=[i[0],i[1],i[2],i[3]],n=[i[4],i[5],i[6],i[7]],s=[i[8],i[9],i[10],i[11]],r=[i[12],i[13],i[14],i[15]],o=this.Yr(t,e),h=this.Yr(t,n),a=this.Yr(t,s),c=this.Yr(t,r);return[o[0],o[1],o[2],o[3],h[0],h[1],h[2],h[3],a[0],a[1],a[2],a[3],c[0],c[1],c[2],c[3]]}Lr(t,i){return this.Mr[4*(i-1)+(t-1)]}Ir(){return n.slice()}Hr(t,i,e){return h(a(t,2)+a(i,2)+a(e,2))}}},201900:(t,i,e)=>{e.d(i,{BM:()=>s,iB:()=>r,mO:()=>o,Tv:()=>a,Uu:()=>c,C0:()=>u,pC:()=>l,kG:()=>d,LY:()=>m,sL:()=>g,qL:()=>w,DL:()=>b,Me:()=>y,oK:()=>x});e(722049),e(382154);var n=e(742191);function s(t){return void 0!==t&&(t.kind===n.OH.Button||t.kind===n.OH.Text)}function r(t){return void 0!==t&&(t.kind===n.OH.Button||t.kind===n.OH.Text)}function o(t){return void 0!==t&&h(t.kind)}function h(t){return t===n.OH.Widget||t===n.OH.BannerflowLibraryWidget||t===n.OH.BannerflowLibraryWidgetInstance}function a(t){return void 0!==t&&"kind"in t&&(t.kind!==n.OH.Creative&&t.kind!==n.OH.AnyElement&&t.kind!==n.OH.Selection&&t.__data)}function c(t,i){return!(t.kind!==n.OH.Selection&&t.hidden)&&i>=t.time&&i<=t.time+t.duration}function u(t){return void 0!==t&&t.kind===n.OH.Image}function l(t){return void 0!==t&&t.kind===n.OH.Image}function d(){return{padding:{top:0,left:0,right:0,bottom:0},verticalAlignment:"top",maxRows:1/0,textOverflow:"expand",characterSpacing:0,lineHeight:1.3,__fontFamilyId:""}}const f=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];let p=1;function v(){return function(t){const i=f.length;if(t<=i)return f[t-1];const e=[];let n=t;for(;n>=i;){const t=n%i;n=(n-t)/i,e.push(f[t])}return e.push(f[n-1]),e.reverse().join("")}(p++)}function m(){p=1}function g(t,i,e,s){if(t.kind!==n.OH.Creative)throw new Error("Unknown group element.");for(const n of s?t.elements.slice().reverse():t.elements)("number"!=typeof e||c(n,e))&&(n.kind,i(n))}function w(t,i,e){if(t.kind!==n.OH.Creative)throw new Error("Unknown group element.");for(const n of e?t.elements.slice().reverse():t.elements)n.kind,i(n)}function b(t){const i={};for(const e of n.eK){const n=t[e];void 0!==n&&(i[e]=n)}return i}function y(t){if(t.kind===n.OH.Selection)return t.updateSizeAndPosition();{const i=t.__data;if(i)return t.__data=i}}function x(t){const i={kind:t.kind,__data:t};return i.elementCid=v(),i.cidIndex=p,i.id=t.id,i.name=t.name,i.ratio=t.ratio,i.locked=t.locked,i.hidden=t.hidden,i.time=t.time,i.duration=t.duration,i.kind!==n.OH.Text&&i.kind!==n.OH.Button||t.kind!==n.OH.Text&&t.kind!==n.OH.Button?t.kind===n.OH.Image&&i.kind===n.OH.Image?(i.feed=t.feed,i.quality=t.quality):t.kind===n.OH.Widget&&i.kind===n.OH.Widget&&(i.customProperties=t.customProperties):(i.font=t.font,i.content=t.content),new Proxy(i,{set:(t,e,n)=>(t[e]=n,i.__onChange&&i.__onChange(i,e,n),!0),get:(t,i)=>{switch(i){case"inTransition":case"outTransition":case"parentId":case"__dirtyContent":return t.__data[i];default:return t[i]}}})}},826407:(t,i,e)=>{e.d(i,{Ut:()=>_,Zw:()=>F});var n=e(176381),s=e(742191),r=e(722049),o=e(4195),h=e(295192);function a(t){return"string"==typeof t&&t.indexOf("@")>=0}function c(t,i){if("@value"!==t){if(a(t)){const e=function(t,i){const e=function(t){const{settings:i,canvasSize:e,element:n}=t,s=t.propertyName&&n[t.propertyName],{x:r,y:o,width:h,height:a,rotationX:c,rotationY:u,rotationZ:l}=n;return{x:r,y:o,width:h,height:a,rotationX:c,rotationY:u,rotationZ:l,value:s,settings:i,creativeWidth:e.width,creativeHeight:e.height}}(i),n=d(i.element,t),s=u.get(n);if(s&&(0,r.vZ)(s,e))return l.get(n);u.set(n,e),l.delete(n)}(t,i);if("number"==typeof e)return e;const{settings:n,canvasSize:s,element:a}=i,c=i.propertyName&&a[i.propertyName],{x:f,y:p,width:v,height:m,rotationX:g,rotationY:w,rotationZ:b}=a,y=(0,o.Yt)({x:0,y:0,width:v,height:m,rotationZ:b}),x={x:f,y:p,rotationX:g,rotationY:w,rotationZ:b,width:y.width,height:y.height,creativeWidth:s.width,creativeHeight:s.height,edgePoint:t=>{const i=function(t,i,e,n){e=(e-90)*(Math.PI/180);const s=1e-5,o=(0,r.dO)(Math.cos(e),s),h=(0,r.dO)(Math.sin(e),s),a=h/o,c=0===o,u=0===h;if(o<1e-16&&!c){const e=t.x*a+(n.height-t.y);if(e>=-i.height&&e<=n.height+i.height)return{x:-i.width,y:n.height-e-i.height*(-.5*h)}}if(o>1e-16&&!c){const e=(n.width-t.x)*a+t.y;if(e>=-i.height&&e<=n.height+i.height)return{x:n.width,y:e+i.height*(.5*h)}}if(h<1e-16&&!u){const e=t.y*o/h+(n.width-t.x);if(e>=-i.width&&e<=n.width+i.width)return{x:n.width-e-i.width*(-.5*o),y:-i.height}}if(h>1e-16&&!u){const e=(n.height-t.y)*o/h+t.x;if(e>=-i.width&&e<=n.width+i.width)return{x:e+i.width*(.5*o),y:n.height}}return t}({x:f,y:p},y,t,s);return i.x-=f,i.y-=p,i},transition:{},settings:{}};if(x.value=c,n)for(const t in n)x.settings[t]=n[t].value,x.transition[t]=n[t].value;const C=function(t){return t.replace(/\@/g,"")}(t),F=h.a.eval(C,x);if(isNaN(F))throw new Error("Could not resolve formula: "+t);return l.set(d(a,t),F),F}return"string"!=typeof t||isNaN(+t)?t:+t}}const u=new Map,l=new Map;function d(t,i){return`${t.id}:${i}`}var f=e(693810),p=e(100789),v=e(982628);e(435420),e(683777);const m=["x","y","rotationX","rotationY","rotationZ"];Object.freeze({ratio:1});function g(t,i,e){const r={};return t.forEach((t=>{const o=t.state,h=void 0!==t.rate?t.rate:1;if(0!==h)for(const a in o)if(s.$z.some((t=>t===a))){let t=r[a];const s=n.Is[a],c=o[a],u=void 0!==t?t:i[a];void 0!==c&&("number"===s?(void 0===t&&(t=B(a)?0:i[a]),r[a]=y(a,t,c,h,e)):r[a]=w(a,u,c,h))}else r[a]=o[a]})),r}function w(t,i,e,o){switch(n.Is[t]){case"number":return y(t,i,e,o);case"Color":return b(i,e,o);case"Shadow[]":case"TextShadow[]":return function(t,i,e){const n=[],s=Math.max((null==t?void 0:t.length)||0,(null==i?void 0:i.length)||0);for(let o=0;o<s;o++){let s=t&&t[o],h=i&&i[o];const a=null==s?void 0:s.color,c=null==h?void 0:h.color;s||(s=Object.assign({},h)),h||(h=Object.assign({},s)),n[o]={blur:Math.max(0,(0,r.t7)(s.blur,h.blur,e)),offsetX:(0,r.t7)(s.offsetX,h.offsetX,e),offsetY:(0,r.t7)(s.offsetY,h.offsetY,e),color:b(a,c,e)},void 0!==s.spread&&(n[o].spread=Math.max(0,(0,r.t7)(s.spread,h.spread,e)))}return n}(i,e,o);case"FilterMap":return function(t,i={},e={}){return[...new Set([...Object.keys(i),...Object.keys(e)])].filter((t=>void 0!==i[t]||void 0!==e[t])).reduce(((n,o)=>{var h,a,c,u;const l=s.by[o];return Object.assign(Object.assign({},n),{[o]:{value:(0,r.t7)(null!==(a=null===(h=i[o])||void 0===h?void 0:h.value)&&void 0!==a?a:(null==l?void 0:l.default)||0,null!==(u=null===(c=e[o])||void 0===c?void 0:c.value)&&void 0!==u?u:(null==l?void 0:l.default)||0,t)}})}),{})}(o,i,e);case"Border":return function(t,i,e){if((t||i)&&(t=t||Object.assign(Object.assign({},i),{thickness:0}),(i=i||Object.assign(Object.assign({},t),{thickness:0}))&&t))return{thickness:Math.max(0,(0,r.t7)(t.thickness,i.thickness,e)),style:1===e?i.style:t.style,color:p.Il.mix(t.color,{color:i.color,amount:e})}}(i,e,o);default:if(1===o)return e}}function b(t,i,e){i||((i=p.Il.parse(t)).alpha=0),t||((t=p.Il.parse(i)).alpha=0);const n={color:i,amount:e};return p.Il.mix(t,n)}function y(t,i,e,n,s=!1){if("number"!=typeof e){if("number"==typeof i)return i;throw new Error("Can only merge numeric values")}return B(t)&&!s?("number"!=typeof i&&(i=0),x(t,i+e*n)):("number"!=typeof i&&(i=1),x(t,(0,r.t7)(i,e,n)))}function x(t,i){const e=s.RF[t],n=s.ff[t];return"number"==typeof e&&(i=Math.max(e,i)),"number"==typeof n&&(i=Math.min(n,i)),i}function C(t,i,e,s,r){if("number"===n.Is[s]){if("number"==typeof r&&!isNaN(r)||void 0===r)return r;if("object"==typeof r&&"number"===r.type)return r.value;if(a(r))return c(r,{element:t,propertyName:s,settings:i.settings,canvasSize:e});if("string"==typeof r&&!isNaN(+r))return+r;throw new Error("Unexpected number value.")}return r}function F(t,i,e={},s=1){const r=n.Is[t],o=i[t],h=e[t],a=void 0!==h?h:o;if(void 0!==a){if("number"===r){const i=function(t,i,e,n){return"number"!=typeof e?i:B(t)?i+(e||0):n}(t,o,h,a);return function(t){return n.By.includes(t)}(t)?function(t,i){return t*i}(i,s):i}if("Color"===r)return new p.Il(a);if("Border"===r)return function(t,i){return{thickness:t.thickness*i,color:t.color,style:t.style}}(a,s);if("Shadow[]"===r||"TextShadow[]"===r)return a.map((t=>function(t,i,e){const n=Object.assign({},i);"Shadow[]"===t?(n.offsetX*=e,n.offsetY*=e,n.spread*=e,n.blur*=e):"TextShadow[]"===t&&(n.offsetX*=e,n.offsetY*=e,n.blur*=e);return n}(r,t,s)));if("ImageAsset"===r)return Object.assign({},a);if("Padding"===r)return function(t,i){return{bottom:t.bottom*i,top:t.top*i,right:t.right*i,left:t.left*i}}(a,s)}return a}function _(t,i,e=0,n=[]){n=function(t,i){if(i.length>1){const e=Math.max(...i.map((t=>t.rate)),0);if(0===e)return[];const n=g(i.map((t=>({rate:t.rate/e,state:t.state}))),t,!0);return[{rate:e,state:n}]}return i.slice(0)}(t,n),t.animations&&t.animations.filter((t=>!t.hidden)).forEach((s=>{const r=O(t,s,i,e).filter((t=>!n.some((i=>t.state===i.state))));n.unshift(...r)}));return g(n,t)}function A(t,i){var e;if((null===(e=t.states)||void 0===e?void 0:e.length)&&i)return t.states.find((t=>t.id===i))}function E(t,i,e,n){const s={};for(const r in n)s[r]=C(t,i,e,r,n[r]);return s}function O(t,i,e,n=0){const s=[],{keyframes:r}=i;if(!r||!r.length||!(0,f.wU)(n,t))return s;const o=(0,f.zj)(t,n),h=1e-6,a=(0,f.DE)(r,o,h),c=(0,f.ZH)(r,o,h),u=(null==a?void 0:a.stateId)&&Object.assign({},E(t,i,e,A(t,a.stateId))),l=(null==c?void 0:c.stateId)&&Object.assign({},E(t,i,e,A(t,c.stateId)));if(!a&&!c)throw new Error("Animation has no keyframes");if(a===c||!c||a&&(0,f.wU)(o,a))u&&s.push({state:u,rate:1});else if(a&&c){const e=(0,v.JE)(i,c),n=(0,v.tz)(o,a,c,e);if(u)if(l){S(u,l).forEach((i=>{const e=B(i)?0:t[i];void 0===u[i]&&void 0!==e&&(u[i]=e),void 0===l[i]&&(l[i]=void 0!==e?e:w(i,u[i],e,1))}));const i=function(t){const i={};for(const e in t)B(e)&&(i[e]=t[e]);return function(t){return 0===S(t).length}(i)?void 0:i}(u),e=function(t){const i={};for(const e in t)B(e)||(i[e]=t[e]);return Object.keys(i).length?i:void 0}(u);e&&s.push({state:e,rate:1}),i&&s.push({state:i,rate:1-n})}else s.push({state:u,rate:1-n});l&&s.push({state:l,rate:n})}return s}function S(...t){const i=[];return t.forEach((t=>{for(const e in t){const n=e;void 0!==t[n]&&-1===i.indexOf(n)&&s.$z.indexOf(n)>-1&&i.push(n)}})),i}function B(t){return m.indexOf(t)>-1}},206526:(t,i,e)=>{e.d(i,{k9:()=>h});var n=e(742191),s=e(100789),r=e(382154),o=e(288344);function h(t,i,e=!1){const h=n.Is[t]||n.zI[t];if(null===i&&(i=void 0),"string"==typeof i&&e)return i;switch(h){case"angle":return parseFloat(i)*Math.PI/180;case"integer":return parseInt(i,10);case"number":case"px":return parseFloat(i);case"boolean":return"string"==typeof i?"true"===i.toLowerCase():i;case"FontStyle":if(void 0===i)return;const t=i.split(" ");let e=t[3];try{e.startsWith("data")||(0,o.CB)(e)||(e="undefined"!=typeof window?atob(e):Buffer.from(e,"base64").toString())}catch(a){}return{id:t[0],weight:parseInt(t[1],10),style:t[2],src:e,fontFamilyId:t[4]};case"ImageAsset":const n=i.split(" ");return{id:n[0],url:n[1],width:n[2],height:n[3]};case"Padding":const h=i.split(" ")||[];return{top:h[0]?parseFloat(h[0]):0,right:h[1]?parseFloat(h[1]):0,bottom:h[2]?parseFloat(h[2]):0,left:h[3]?parseFloat(h[3]):0};case"Border":const u=i.split(" ");return u.length>1?{thickness:parseInt(u[0],10),style:u[1],color:u[2]}:void 0;case"Shadow[]":const l=i?i.split(/,(?![^\(]*\))/):void 0;return l?l.map((t=>{const i=t.split(" ");return{offsetX:parseInt(i[0],10),offsetY:parseInt(i[1],10),blur:parseInt(i[2],10),spread:parseInt(i[3],10),color:s.Il.parse(i[4])}})):void 0;case"TextShadow[]":if(Array.isArray(i))return i;const d=i?i.split(/,(?![^\(]*\))/):void 0;return d?d.map((t=>{const i=t.split(" ");return{offsetX:parseInt(i[0],10),offsetY:parseInt(i[1],10),blur:parseInt(i[2],10),color:s.Il.parse(i[3])}})):void 0;case"Color":return s.Il.parse(i);case"Feed":case"variable":const f=i.split(" ");return{id:f[0],path:f[1],step:{start:parseInt(f[2],10),size:parseInt(f[3],10),occurrence:f[4]},fallback:f[5]};case"string[]":case"CustomProperty[]":let p;return p="undefined"!=typeof window?JSON.parse(atob(i)):Buffer.from(i,"base64").toString(),p;case"FilterMap":try{return JSON.parse(i)}catch(c){return{}}case"Transition":case"State[]":case"Animation[]":case"Action[]":return Array.isArray(i),i.length?JSON.parse(i):i;case"text":if(void 0===i)return;return(0,r.T4)(i);default:return i}}},382154:(t,i,e)=>{e.d(i,{Ag:()=>C,Yw:()=>x,Vc:()=>F,gk:()=>v,O8:()=>m,T4:()=>g,Kq:()=>d,Ms:()=>f,$T:()=>p,dP:()=>b,qA:()=>y,WT:()=>u,xm:()=>c,tt:()=>w});var n=e(722049),s=e(201900),r=e(100789),o=e(378049);e(742191),e(206526);var h=e(559881);function a(t){return 32===t||9===t||11===t||12===t||133===t||5760===t||t>=8192&&t<=8203||8287===t||12288===t||65279===t}function c(t){return void 0!==t&&"variable"===t.type}function u(t){return void 0!==t&&("word"===t.type||"space"===t.type||"newline"===t.type||"variable"===t.type)}function l(t){return 10===t||13===t||8232===t||8233===t||133===t}function d(t,i){if(t&&t.spans&&t.spans.length>0){let e=t.spans.length-1;"end"===t.spans[e].type&&e--;for(let n=0;n<t.spans.length;n++)i(t.spans[n],n)}}function f(t){switch(t){case"left":case"justify":return"flex-start";case"center":return"center";case"right":return"flex-end"}}function p(t){switch(t){case"top":return"flex-start";case"middle":return"center";case"bottom":return"flex-end"}}function v(t){return{style:s.kG(),spans:m(t).concat([{type:"end",content:"END",top:0,left:0,width:0,height:0,lineHeight:0,attributes:{},dir:"ltr"}])}}function m(t,i={},e,s,r,u,d,f){const p=[];let v,m;t="number"==typeof t?t.toString():t,(null==e?void 0:e.variable)&&t===o.I+(0,h.nw)(e.variable.path)&&(t=t.replace(/\s/g,"&nbsp;"));for(let o=0;o<t.length;o++){const h=t.charCodeAt(o);a(h)?"space"===m?v.content+=String.fromCharCode(h):(v={top:0,left:0,type:"space",content:String.fromCharCode(h),attributes:(0,n.Xh)(i.attributes||{}),style:e?s(e):{},width:0,height:0,lineHeight:0,styleIds:u||new Map,styleId:r,__previousStyleIds:[...d||[]],__previousStyleIdToHistoryIndexMap:new Map(f||[])},p.push(v),m="space"):l(h)?(v={top:0,left:0,type:"newline",content:String.fromCharCode(h),width:0,height:0,lineHeight:0,style:e?s(e):{},attributes:(0,n.Xh)(i.attributes||{}),styleIds:u||new Map,styleId:r,__previousStyleIds:[...d||[]],__previousStyleIdToHistoryIndexMap:new Map(f||[])},p.push(v),m="newline"):"word"===m||"variable"===m?v.content+=String.fromCharCode(h):(v=e&&e.variable?{type:"variable",content:String.fromCharCode(h),style:e?s?s(e):e:{},top:0,left:0,width:0,height:0,lineHeight:0,attributes:(0,n.Xh)(i.attributes||{}),styleIds:u||new Map,styleId:r,__previousStyleIds:[...d||[]],__previousStyleIdToHistoryIndexMap:new Map(f||[])}:{type:"word",content:String.fromCharCode(h),style:e?s(e):{},top:0,left:0,width:0,height:0,lineHeight:0,attributes:(0,n.Xh)(i.attributes||{}),styleIds:u||new Map,styleId:r,__previousStyleIds:[...d||[]],__previousStyleIdToHistoryIndexMap:new Map(f||[])},p.push(v),m=e&&e.variable?"variable":"word")}for(const n of p)c(n)&&(n.content=n.content.replace(/\&nbsp\;/gi," ")),n.attributes.shouldRenderNumber=!1;return p}function g(t){let i;try{i=JSON.parse(t)}catch(n){const e=`Could not deserialize text: '${t}'`;if(void 0!==t&&"{"===t.charAt(0)||"<"===t.charAt(0))throw new Error(e);i={text:t,styles:[]}}const e=i.styles.map((t=>{const i=new Map;for(const e of t.styleIds)i.set(e.documentId,e.styleId);return Object.assign(Object.assign({},t),{styleIds:i})}));return{text:i.text,styles:e}}function w(t){let i=!1;if("string"==typeof t)try{const e=JSON.parse(t);void 0!==e.text&&void 0!==e.styles&&(i=!0)}catch(e){}else try{"object"==typeof t&&void 0!==t.text&&void 0!==t.styles&&(i=!0)}catch(e){}return i}function b(t,i){if(t.size!==i.size)return!1;for(const[e,n]of t.entries())if(!i.has(e)||i.get(e)!==n)return!1;return!0}function y(t,i,e,n=!0){const s=e[t];if("$mixed"===s)return!1;const o=i[t];switch(t){case"uppercase":case"underscore":case"strikethrough":return n?!!o==!!s:o===s;case"font":{const t=s,i=o;return i===t||void 0!==t&&void 0!==i&&(t.id===i.id&&t.fontFamilyId===i.fontFamilyId&&t.style===i.style&&t.weight===i.weight&&t.src===i.src)}case"textColor":if(o===s)return!0;if(void 0===o||void 0===s)return!1;if(!(o instanceof r.Il&&s instanceof r.Il))throw new Error("Neither 'targetValue' nor 'sourceValue' is of type Color.");return o.toString()===s.toString();case"padding":const t=s,i=o;return i===t||void 0!==t&&void 0!==i&&(t.top===i.top&&t.bottom===i.bottom&&t.left===i.left&&t.right===i.right);case"textShadows":{const t=o,i=s;if(typeof i!=typeof t)return!1;if(i===t)return!0;if(i.length!==t.length)return!1;for(let e=0;e<t.length;e++){const n=t[e],s=i[e];if(!(n.blur===s.blur&&n.color===s.color&&n.offsetX===s.offsetX&&n.offsetY===s.offsetY&&n.spread===s.spread))return!1}return!0}default:return o===s}}function x(t){const i=[];for(const e of t)i.push(C(e));return i}function C(t){const i=Object.assign({},t);if(u(t)){const e=i;e.styleId=t.styleId,e.style=(0,n.Xh)(t.style),e.styleIds=new Map([...t.styleIds||[]]),t.__previousStyleIdToHistoryIndexMap&&(e.__previousStyleIdToHistoryIndexMap=new Map([...t.__previousStyleIdToHistoryIndexMap])),e.__previousStyleIds=(0,n.Xh)(t.__previousStyleIds)}return i}function F(t){const i={};for(const e in t)if(void 0!==t[e])switch(e){case"textColor":i[e]=t[e].copy();break;case"fontSize":i[e]=t[e];break;default:i[e]=(0,n.Xh)(t[e])}return i}},982628:(t,i,e)=>{e.d(i,{Cj:()=>r,tz:()=>o,JE:()=>h,Mb:()=>a});var n=e(722049),s=e(693810);const r="easeInOutCubic";function o(t,i,e,r){const o=(0,s.C2)(i,e),h=i.time+(i.duration||0);if(!o)return(0,s.wU)(t,i)?1:0;return r((0,n.uZ)((t-h)/o,0,1))}function h(t,i){let e=i.timingFunction;return"@timingFunction"===e&&(e=t.timingFunction),a(e)}function a(t="linear"){return c[t].func}const c={linear:{name:"Linear",type:"none",func:t=>t},easeInExpo:{name:"InExpo",type:"in",func:t=>0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:{name:"OutExpo",type:"in",func:t=>1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:{name:"InOutExpo",type:"inout",func:t=>0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInQuad:{name:"InQuad",type:"in",func:t=>t*t},easeOutQuad:{name:"OutQuad",type:"out",func:t=>t*(2-t)},easeInOutQuad:{name:"InOutQuad",type:"inout",func:t=>t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:{name:"InCubic",type:"in",func:t=>t*t*t},easeOutCubic:{name:"OutCubic",type:"out",func:t=>--t*t*t+1},easeInOutCubic:{name:"InOutCubic",type:"inout",func:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:{name:"InQuart",type:"in",func:t=>t*t*t*t},easeOutQuart:{name:"OutQuart",type:"out",func:t=>1- --t*t*t*t},easeInOutQuart:{name:"InOutQuart",type:"inout",func:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:{name:"InQuint",type:"in",func:t=>t*t*t*t*t},easeOutQuint:{name:"OutQuint",type:"out",func:t=>1+--t*t*t*t*t},easeInOutQuint:{name:"InOutQuint",type:"inout",func:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},easeInElastic:{name:"InElastic",type:"in",func:t=>1===t?1:.04*t/--t*Math.sin(25*t)},easeOutElastic:{name:"OutElastic",type:"out",func:t=>0===t?0:(.04-.04/t)*Math.sin(25*t)+1},easeInOutElastic:{name:"InOutElastic",type:"inout",func:t=>.5===t?.5:(t-=.5)<0?(.02+.01/t)*Math.sin(50*t):(.02-.01/t)*Math.sin(50*t)+1},easeInBack:{name:"InBack",type:"in",func:t=>{let i=1;return i||0===i||(i=1.70158),1*t*t*((i+1)*t-i)}},easeOutBack:{name:"OutBack",type:"out",func:t=>{let i=1;return i||0===i||(i=1.70158),(t-=1)*t*((i+1)*t+i)+1}},easeInOutBack:{name:"InOutBack",type:"inout",func:t=>{let i=1;return void 0===i&&(i=1.70158),(t/=.5)<1?t*t*((1+(i*=1.525))*t-i)*.5:.5*((t-=2)*t*((1+(i*=1.525))*t+i)+2)}},easeInBounce:{name:"InBounce",type:"in",func:t=>1-u(1-t)},easeOutBounce:{name:"OutBounce",type:"out",func:t=>u(t)},easeInOutBounce:{name:"InOutBounce",type:"inout",func:t=>t<.5?.5*u(2*t):.5*u(2*t-1)+.5}};function u(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375}},516471:(t,i,e)=>{var n,s;e.d(i,{H:()=>n,p:()=>s}),function(t){t.SetState="SET_STATE",t.RemoveState="REMOVE_STATE",t.ClearStates="CLEAR_STATES",t.OpenUrl="OPEN_URL"}(n||(n={})),function(t){t.Click="click",t.MouseDown="mousedown",t.MouseUp="mouseup",t.MouseEnter="mouseenter",t.MouseLeave="mouseleave",t.TouchStart="touchstart",t.TouchEnd="touchend",t.TouchCancel="touchcancel"}(s||(s={}))},25094:(t,i,e)=>{var n;e.d(i,{M:()=>n}),function(t){t.Solid="solid",t.LinearGradient="linear-gradient"}(n||(n={}))},742191:(t,i,e)=>{e.d(i,{HA:()=>s.H,px:()=>s.p,by:()=>c.by,OH:()=>h.O,$z:()=>u,eK:()=>a.eK,ci:()=>a.ci,ff:()=>a.ff,RF:()=>a.RF,Is:()=>a.Is,Gc:()=>a.Gc,zI:()=>a.zI});var n,s=e(516471);!function(t){t[t.in=0]="in",t[t.out=1]="out",t[t.repeating=2]="repeating",t[t.action=3]="action",t[t.keyframe=4]="keyframe"}(n||(n={}));var r,o;e(25094);!function(t){t[t.Animated=0]="Animated"}(r||(r={})),function(t){t[t.Instagram=0]="Instagram",t[t.Facebook=1]="Facebook",t[t.Messenger=2]="Messenger"}(o||(o={}));var h=e(944334),a=e(176381),c=e(902799);const u=(0,e(722049).MN)(["x","y","originX","originY","rotationX","rotationY","rotationZ","opacity","scaleX","scaleY","fill","radius","shadows","filters","textColor","border"]);var l,d,f;!function(t){t.text="text",t.feedSource="feed source",t.single="single"}(l||(l={})),function(t){t[t.Active=0]="Active",t[t.Inactive=1]="Inactive"}(d||(d={})),function(t){t[t.VERTICAL=0]="VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL",t[t.NONE=2]="NONE"}(f||(f={}))},944334:(t,i,e)=>{var n,s;e.d(i,{O:()=>n}),function(t){t.Creative="creative",t.Rectangle="rectangle",t.Text="text",t.Image="image",t.Group="group",t.Selection="selection",t.AnyElement="any",t.Ellipse="ellipse",t.Button="button",t.Widget="widget",t.BannerflowLibraryWidget="bannerflowLibraryWidget",t.BannerflowLibraryWidgetInstance="bannerflowLibraryWidgetInstance"}(n||(n={})),function(t){t.Creative="creative",t.Rectangle="shape-rectangle",t.Text="text",t.Image="image",t.Group="group",t.Selection="selection",t.AnyElement="any",t.Ellipse="shape-oval",t.Button="button",t.Widget="widget",t.BannerflowLibraryWidget="widget",t.BannerflowLibraryWidgetInstance="widget"}(s||(s={}))},176381:(t,i,e)=>{e.d(i,{ci:()=>s,Gc:()=>h,eK:()=>a,zI:()=>c,Is:()=>d,By:()=>f,ff:()=>p,RF:()=>v});var n=e(722049);const s={font:"FontStyle",textColor:"Color",fontSize:"number",lineHeight:"number",characterSpacing:"number",uppercase:"boolean",underline:"boolean",strikethrough:"boolean",textShadows:"TextShadow[]",variable:"Feed",__fontFamilyId:"string"},r=Object.assign(Object.assign({},(0,n.CE)(s,"variable")),{maxRows:"integer",padding:"Padding",textOverflow:"enum",horizontalAlignment:"enum",verticalAlignment:"enum"});function o(t){return Object.keys(t)}const h=o(r),a=o((0,n.CE)(s,"__fontFamilyId")),c={js:"string",ts:"string",html:"string",css:"string",customProperties:"CustomProperty[]",widgetReference:"string",bannerflowLibraryWidgetReference:"string",select:"CustomProperty[]",number:"number",image:"ImageAsset",widgetAsset:"WidgetAsset",boolean:"boolean"},u={x:"number",y:"number",width:"number",height:"number",duration:"number",fill:"Color",color:"Color",textColor:"Color",originX:"number",originY:"number",rotationX:"number",rotationY:"number",rotationZ:"number",radius:"number",opacity:"number",shadows:"Shadow[]",filters:"FilterMap",border:"Border",hidden:"boolean",locked:"boolean",mirrorX:"boolean",mirrorY:"boolean",scaleX:"number",scaleY:"number",ratio:"number",feed:"Feed",states:"State[]",animations:"Animation[]",actions:"Action[]",time:"number",fontReference:"string",content:"text"},l=Object.assign(Object.assign({},(0,n.CE)(u,"states","animations","actions","feed","time","duration","hidden","locked","width","height","fontReference","content")),{name:"enum"}),d=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r),c),{imageReference:"string",imageAsset:"ImageAsset",fitOption:"enum",fitPositionX:"number",fitPositionY:"number",quality:"number",highDpi:"boolean"}),u),l),f=(o(d),o(u),["x","y","width","height","scaleX","scaleY","fitPositionX","fitPositionY","radius","border","fontSize","padding","shadows","textShadows"]);const p={opacity:1},v={radius:0,opacity:0,scaleX:0,scaleY:0}},902799:(t,i,e)=>{var n,s;e.d(i,{by:()=>r}),function(t){t.Blur="blur",t.Contrast="contrast",t.Invert="invert",t.Grayscale="grayscale",t.Saturation="saturate",t.Sepia="sepia"}(n||(n={})),function(t){t.Length="px",t.Percentage="%"}(s||(s={}));const r={[n.Blur]:{name:"Blur",icon:"filter-blur",unit:s.Length,max:100},[n.Contrast]:{name:"Contrast",icon:"filter-contrast",unit:s.Percentage,max:200,default:100},[n.Invert]:{name:"Invert",icon:"filter-invert",unit:s.Percentage,max:100},[n.Grayscale]:{name:"Grayscale",icon:"filter-grayscale",unit:s.Percentage,max:100},[n.Saturation]:{name:"Saturation",icon:"filter-saturate",unit:s.Percentage,max:200,default:100},[n.Sepia]:{name:"Sepia",icon:"filter-sepia",unit:s.Percentage,max:100}};Object.entries(r).reduce(((t,[i,e])=>[...t,Object.assign({id:i},e)]),[])},378049:(t,i,e)=>{e.d(i,{I:()=>n});const n="@"},19114:(t,i,e)=>{e.d(i,{W2:()=>u,KX:()=>c,GY:()=>h,nC:()=>a,f3:()=>o});const n=new Map;function s(t,i,e){let s=n.get(e);s||(s=new Map),s.set(t,i),n.set(e,s)}function r(t,i,e){const s=n.get(i);if(s)return s.get(t)}function o(t,i={}){return function(e,n,o){var h,a;const c=r("i",e)||new Map;c.set(o,{token:t,optional:null!==(h=i.optional)&&void 0!==h&&h,forwardRef:null!==(a=i.forwardRef)&&void 0!==a&&a}),s("i",c,e)}}function h(t,i={},e,n,o){var h,a;const c=r("i",e)||new Map;c.set(o,{token:t,optional:null!==(h=i.optional)&&void 0!==h&&h,forwardRef:null!==(a=i.forwardRef)&&void 0!==a&&a}),s("i",c,e)}function a(){return function(t,i,e){s("c",e,t)}}function c(t,i,e){s("c",e,t)}class u{constructor(t){this.parent=t,this.Vr=new Map,this.Xr=new Map,this.Wr=new Map,this.Gr=new Map}Vs(t,i){const e=r("i",i),n=r("p",i),s=r("c",i);if(i instanceof Function){const r={target:i,parameterMap:e,parentParameterIndex:n,containerParameterIndex:s};this.Vr.set(t,r)}else this.Xr.set(t,i)}Zr(t){this.Vr.delete(t),this.Xr.delete(t),this.Gr.delete(t)}maybeResolve(t){const{target:i}=this.Qr(t,!0);return i}clear(){this.Wr.clear()}resolve(t,i=!1){const{target:e}=this.Qr(t,i);if(!e)throw new Error(`Could not resolve token '${t}'.`);return e}Ys(t,i){this.Gr.set(t,i)}Qr(t,i){const e=this.qr(t,0),n=[];if(e){const s=e.item;if("function"==typeof s.target){const r=e.container.Wr.get(t);if(r)return{target:r,parentParameterIndex:void 0};const o=[];if(s.parameterMap)for(const[t,e]of s.parameterMap.entries()){const{target:s,parentParameterIndex:r}=this.Qr(e.token,e.optional||i);if(s)n[t]=s,void 0!==r&&o.push({target:s,parentParameterIndex:r});else if(!i&&!e.optional)throw new Error(`Could not resolve symbol '${e.token}'.`)}void 0!==s.containerParameterIndex&&(n[s.containerParameterIndex]=this);const h=new s.target(...n);for(const t of o){let i=0;for(const e in t.target)i===t.parentParameterIndex&&(t.target[e]=h),i++}return e.container.Wr.set(t,h),{target:h,parentParameterIndex:s.parentParameterIndex}}}const s=this.qr(t,2);if(s)return{target:s.item};const r=this.qr(t,1);return r?{target:r.item(r.container)}:{target:void 0}}qr(t,i){let e=this;for(;e;){let n;switch(i){case 0:n=e.Vr.get(t);break;case 2:n=e.Xr.get(t);break;case 1:n=e.Gr.get(t)}if(void 0!==n)return{item:n,container:e};e=e.parent}}}},285328:(t,i,e)=>{e.d(i,{v:()=>n});class n{constructor(){this.Jr={},this.Kr=null,this.skipEmission=!1}on(t,i,e){return"string"==typeof i?t=t+":"+i:e=i,this.Jr[t]||(this.Jr[t]=[]),-1===this.Jr[t].indexOf(e)&&this.Jr[t].push(e),this}once(t,i,e){"string"==typeof i?t=t+":"+i:e=i;const n=i=>{"function"==typeof e&&e.apply(this.Kr,[i]),this.off(t,n)};return this.on(t,n),this}off(t,i,e){if(void 0!==i&&("string"==typeof i?t=t+":"+i:e=i),void 0===t)return this.clearEvents(),this;if(!e)return delete this.Jr[t],this;const n=this.Jr[t];if(null==n?void 0:n.length){let t=n.length;for(;t-->0;)n[t]===e&&n.splice(t,1)}return this}emit(t,i,e){var n;if(this.skipEmission)return this;"string"==typeof i?t=t+":"+i:e=i;const s=null===(n=this.Jr[t])||void 0===n?void 0:n.slice();if(s)for(const r of s)r.apply(this.Kr,e||[]);return this}clearEvents(){this.Jr={}}}},4195:(t,i,e)=>{e.d(i,{Yt:()=>s,Bq:()=>o,fy:()=>h,vd:()=>a,nH:()=>c,aR:()=>u});var n=e(722049);e(445497);function s(t){const i=function(t,i=0,e=!1){const{x:s,y:r,width:o,height:h,rotationZ:a}=t,c={x:s+o/2,y:r+h/2};let u={x:s+i,y:r+i},l={x:s+o-i,y:r+i},d={x:s+i,y:r+h-i},f={x:s+o-i,y:r+h-i};void 0!==a&&(u=(0,n.Hl)(u,c,-a),l=(0,n.Hl)(l,c,-a),d=(0,n.Hl)(d,c,-a),f=(0,n.Hl)(f,c,-a));const p={topLeft:u,topRight:l,bottomLeft:d,bottomRight:f};return e&&(p.center={x:(Math.min(u.x,l.x,d.x,f.x)+Math.max(u.x,l.x,d.x,f.x))/2,y:(Math.min(u.y,l.y,d.y,f.y)+Math.max(u.y,l.y,d.y,f.y))/2}),p}(t),e=Math.min(i.topLeft.x,i.bottomLeft.x,i.topRight.x,i.bottomRight.x),s=Math.min(i.topLeft.y,i.bottomLeft.y,i.topRight.y,i.bottomRight.y);return{x:e,y:s,width:Math.max(i.topLeft.x,i.bottomLeft.x,i.topRight.x,i.bottomRight.x)-e,height:Math.max(i.topLeft.y,i.bottomLeft.y,i.topRight.y,i.bottomRight.y)-s}}const r=(t,i)=>t.width===i.width&&t.height===i.height;function o(t,...i){return i.every((i=>r(t,i)))}function h(t){return{x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y+t.height}}function a(t,i,e="contain",n){const s="cover"===e?Math.max:Math.min,r=l(n),o=s(i.width/t.width,i.height/t.height);return c({width:r(t.width*o),height:r(t.height*o)},i,"center","center",n)}function c(t,i,e="center",n="center",s){const r=l(s),o=r(function(t,i,e="center"){const n=d(e);return(i.x||0)-(t-i.width)*n}(t.width,i,e)),h=r(function(t,i,e="center"){const n=d(e);return(i.y||0)-(t-i.height)*n}(t.height,i,n));return{x:o,y:h,width:t.width,height:t.height}}function u(t,i="round"){return Object.assign(Object.assign(Object.assign({},t),function(t,i="round"){const e=l(i),{x:n,y:s}=t;return{x:"number"==typeof n?e(n):n,y:"number"==typeof s?e(s):s}}(t,i)),function(t,i="round"){const e=l(i),{width:n,height:s}=t;return{width:"number"==typeof n?e(n):n,height:"number"==typeof s?e(s):s}}(t,i))}function l(t){return t&&"none"!==t?Math[t]:t=>t}function d(t){if("number"==typeof t)return(0,n.uZ)(t,0,1);switch(t){case"center":return.5;case"left":case"top":return 0;case"right":case"bottom":return 1}throw new Error(`Could not convert align '${t}' to number`)}},683777:(t,i,e)=>{e.d(i,{Y:()=>u});var n=e(722049);const s="color: white; background: gray;",r="color: #f4d03f;",o="color: #ED4337;",h="color: #22a6b3;",a="color: #4d88ff;";var c;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.LOG=2]="LOG",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR"}(c||(c={}));class u{constructor(t,i=!1){this.context=t,this.isTimestampEnabled=i}static get LogLevel(){return u.io}group(t,i){u.isLogLevelEnabled(c.LOG)&&this.callFunction("group",t,i)}groupEnd(){u.isLogLevelEnabled(c.LOG)&&u.groupEnd()}log(t,i){this.callFunction("log",t,i)}debug(t,i){this.callFunction("debug",t,i)}verbose(t,i){this.callFunction("verbose",t,i)}warn(t,i){this.callFunction("warn",t,i)}error(t,i="",e){const n=this.getInstance();n&&n.error.call(n,t,i,e||this.context,this.isTimestampEnabled)}setContext(t){this.context=t}static getLogLevelName(){switch(u.io){case c.DEBUG:return"DEBUG";case c.LOG:return"LOG";case c.VERBOSE:return"VERBOSE";case c.WARN:return"WARNING";case c.ERROR:return"ERROR";default:return`${u.io} not handled`}}static setLogLevel(t){u.io=t}getTimestamp(){return u.getTimestamp()}static group(t){console.groupCollapsed(t)}static groupEnd(){console.groupEnd()}static isLogLevelEnabled(t){return t>=u.io}static log(t,i="",e=!0){u.isLogLevelEnabled(c.LOG)&&this.printMessage("log",t,void 0,i,e)}static debug(t,i="",e=!0){u.isLogLevelEnabled(c.DEBUG)&&this.printMessage("debug",t,a,i,e)}static verbose(t,i="",e=!0){u.isLogLevelEnabled(c.VERBOSE)&&this.printMessage("log",t,h,i,e)}static warn(t,i="",e=!0){u.isLogLevelEnabled(c.WARN)&&this.printMessage("warn",t,r,i,e)}static error(t,i="",e="",n=!0){u.isLogLevelEnabled(c.ERROR)&&(this.printMessage("error",t,o,e,n),this.printStackTrace(i))}static getTimestamp(){return(0,n.mr)(Date.now())}callFunction(t,i,e){const n=this.getInstance(),s=n&&n[t];s&&s.call(n,i,e||this.context,this.isTimestampEnabled)}getInstance(){const{instance:t}=u;return t===this?u:t}static printMessage(t,i,e,n="",o){var h,a;const c=f(i)?`Object:\n${JSON.stringify(i,null,2)}\n`:l(i)?i.message:i,p=n?r:"",v=n?`%c[${n}] `:"",m=this.updateAndGetTimestampDiff(o),g=m.length?s:"",w=null!==(h=this.instance)&&void 0!==h?h:u,b=`${w.getTimestamp?w.getTimestamp():null===(a=u.getTimestamp)||void 0===a?void 0:a.call(u)} ${v} %c${c} ${m}\n`;d(i)&&!f(i)?(u.logMessage("groupCollapsed",b,p,e,g),l(i)?console.error(i):console.dir(i),console.groupEnd()):u.logMessage(t,b,p,e,g)}static logMessage(t,i,e,n,s){n="warn"===t||"error"===t?void 0:n,e?console[t](i,e,n,s):console[t](i,n,s)}static updateAndGetTimestampDiff(t){let i="";return u.lastTimestamp&&t?(i=`%c +${Date.now()-u.lastTimestamp}ms `,u.lastTimestamp=Date.now(),i):(u.lastTimestamp=Date.now(),i)}static printStackTrace(t){t&&console.error(t)}static testLogs(t){throw this.debug("Debug message!",t),this.debug({test:123,debug:!0},t),this.verbose("Verbose message!",t),this.verbose({test:123,verbose:!0},t),this.log("Log message!",t),this.log({test:123,log:!0},t),this.warn("Warn message!",t),this.warn(new Error("New Warning"),t,!1),this.error("Error message!",void 0,t),this.error(new Error("New Error"),void 0,t,!1),new Error("Native Error thrown!")}}u.io=c.ERROR,u.instance=u;const l=t=>t instanceof Error||t instanceof ErrorEvent||d(t)&&t.error instanceof ErrorEvent,d=t=>{return!(i=t,(t=>void 0===t)(i)||null===i||"object"!=typeof t);var i},f=t=>{if(!d(t))return!1;const i=Object.getPrototypeOf(t);if(null===i)return!0;const e=Object.prototype.hasOwnProperty.call(i,"constructor")&&i.constructor;return"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)};"undefined"!=typeof window&&(window.logger=u||{})},926202:(t,i,e)=>{e.d(i,{SY:()=>s,F$:()=>r,hP:()=>o});var n=e(264486);function s(t){return r(new Image,t)}function r(t,i){i=i&&(0,n.Nm)(i);const e=new o;return t.onload=()=>{e.resolve(t)},t.onerror=t=>{e.reject(t)},"string"==typeof i&&(t.src=i),e.promise}class o{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}},295192:(t,i,e)=>{e.d(i,{a:()=>u});var n=e(926202),s=e(722049);let r,o;const h={sin:Math.sin,cos:Math.cos,pi:Math.PI,PI:Math.PI,abs:Math.abs,round:Math.round,ceil:Math.ceil,floor:Math.floor,pow:Math.pow,sqrt:Math.sqrt,random:Math.random};let a=!1;const c=new Function("code","\n    try {\n        context.eval = eval;\n        context.code = code;\n    } catch(e) {\n        var context = window.context || {};\n        context.eval = eval;\n        context.code = code;\n    }\n    const scopeProxy = new Proxy(context, {\n        has(prop) { return !(prop in context) },\n        get(target, prop) {\n            if (prop in target) {\n                return target[prop];\n            }\n            if (!(typeof prop === 'symbol')) {\n                throw new Error(`Unexpected token '${prop.toString()}'.`);\n            }\n        }\n    });\n    with (scopeProxy) {\n        return eval(code);\n    }");class u{static eval(t,i={}){if(r||u.init(),a)return window.context=Object.assign(Object.assign({},h),i),c(t);const e=null==r?void 0:r.contentWindow,n=(null==r?void 0:r.contentDocument)&&(null==e?void 0:e.evalMathExpression);if(!n||!e)throw new Error("Safe eval iframe is not initiated.");return e.context=Object.assign(Object.assign({},h),i),n(t)}static async init(t){var i,e;if(o)return o;if(!r&&"undefined"!=typeof window){r=document.createElement("iframe");const h=r.style;h.position="absolute",h.pointerEvents="none",h.width=h.height=h.opacity=h.top=h.left="0",o=(0,n.F$)(r),document.body.appendChild(r),await o;const u=r.contentDocument;if(t||!u)a=t||!u;else{const t=(null===(e=null===(i=null===window||void 0===window?void 0:window.process)||void 0===i?void 0:i.env)||void 0===e?void 0:e.STUDIO_JS)?(0,s.ej)("script-nonce"):"",r=document.createElement("script"),o=URL.createObjectURL(new Blob([`window.evalMathExpression = ${c.toString()}`]));r.nonce=t,r.src=o;const h=(0,n.F$)(r);u.head.appendChild(r),await h,URL.revokeObjectURL(o)}}return r}static destroy(){r&&(document.body.removeChild(r),r=void 0)}}},264486:(t,i,e)=>{e.d(i,{Nm:()=>r});const n=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,s=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|svg\+xml)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function r(t){if(function(t){if(!(t=t.trim())||"#"===t||t.match(n)||t.match(s))return!0;return!1}(t))return t;throw new Error(`Error: unsafe URL value: "${t}" (see http://g.co/ng/security#xss)`)}},812193:(t,i,e)=>{e.d(i,{i:()=>s});var n=e(722049);class s{static set(t,i){return this.cache.set(t,(0,n.Xh)(i)),i}static get(t){const i=this.cache.get(t);return(0,n.Xh)(i)}static clear(){this.cache.clear()}}s.cache=new Map},722049:(t,i,e)=>{e.d(i,{uZ:()=>n,gH:()=>s,vZ:()=>r,ei:()=>h,CE:()=>a,Yc:()=>c,Xh:()=>l,b0:()=>d,HZ:()=>g,yo:()=>w,ej:()=>b,Hl:()=>y,dO:()=>x,Bw:()=>_,as:()=>A,t7:()=>E,MN:()=>O,Di:()=>S,nH:()=>B,wQ:()=>D,mr:()=>M});e(926202);function n(t,i=Number.MIN_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER){return Math.max(Math.min(t,e),i)}function s(t){return x(t,.01)}function r(t,i){return o(t,i)}function o(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;let e,n;if(Array.isArray(t)){if(e=t.length,e!==i.length)return!1;for(n=e;0!=n--;)if(!o(t[n],i[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();const s=Object.keys(t);if(e=s.length,e!==Object.keys(i).length)return!1;for(n=e;0!=n--;)if(!Object.prototype.hasOwnProperty.call(i,s[n]))return!1;for(n=e;0!=n--;){const e=s[n];if(!e.startsWith("__")&&!o(t[e],i[e]))return!1}return!0}return t!=t&&i!=i}function h(t,...i){const e={};for(const n of i)void 0!==t[n]&&(e[n]=t[n]);return e}function a(t,...i){const e=Object.assign({},t);for(const n of i)delete e[n];return e}function c(t){const i=Object.assign({},t);for(const e in t)void 0===i[e]&&delete i[e];return i}const u=Object.prototype.toString;function l(t){return f(t,new Map)}function d(t){if(!t)return t;const i=new Map;for(const[e,n]of t.entries())i.set(e,l(n));return i}function f(t,i){switch(u.call(t)){case"[object Array]":{if(i.has(t))return i.get(t);const e=t.slice(0);return i.set(t,e),e.forEach(((t,n)=>{e[n]=f(t,i)})),e}case"[object Object]":{if(i.has(t))return i.get(t);const e=Object.create(Object.getPrototypeOf(t));return i.set(t,e),Object.keys(t).forEach((n=>{"__widget"!==n&&(e[n]=f(t[n],i))})),e}default:return t}}const p={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"},v=Object.assign(Object.assign({},p),{"‍":"&zwj;","‌":"&zwnj;"}),m=Object.assign({},v);function g(t){for(const i in m)t=t.replace(new RegExp(i,"g"),m[i]);return t}function w(t){for(const i in p)t=t.replace(new RegExp(p[i],"g"),i);return t=(t=t.replace(/\\n/g,"\n")).replace(/\\r/g,"\r")}!function(){const t=[];let i;for(let e=0;e<256;e++){i=e;for(let t=0;t<8;t++)i=1&i?3988292384^i>>>1:i>>>1;t[e]=i}}();function b(t){const i=("; "+document.cookie).split("; "+t+"=");if(2===i.length)return i.pop().split(";").shift()}function y(t,i,e){const n=Math.cos(-e),s=Math.sin(-e);return{x:n*(t.x-i.x)-s*(t.y-i.y)+i.x,y:n*(t.y-i.y)+s*(t.x-i.x)+i.y}}function x(t,i){return Math.round(t/i)/(1/i)}function C(t,i){return t===i?0:typeof t==typeof i?t<i?-1:1:typeof t<typeof i?-1:1}const F=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/gi;function _(t){return t.replace(F,"")}function A(t){return t.split("").filter(((t,i,e)=>e.indexOf(t)===i)).sort(C).join("")}function E(t,i,e){return t+e*(i-t)}function O(t){return t}function S(t){return decodeURIComponent(atob(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function B(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16)}))}function D(t,i){return(t%i+i)%i}function M(t,i=!1){return new Intl.DateTimeFormat("en-GB",{year:i?"numeric":void 0,month:i?"numeric":void 0,day:i?"numeric":void 0,hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}).format(new Date(t))}}},n={};function s(t){if(n[t])return n[t].exports;var i=n[t]={exports:{}};return e[t](i,i.exports,s),i.exports}return s.m=e,s.d=(t,i)=>{for(var e in i)s.o(i,e)&&!s.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},s.f={},s.e=t=>Promise.all(Object.keys(s.f).reduce(((i,e)=>(s.f[e](t,i),i)),[])),s.u=t=>({231:"feed",263:"widget"}[t]+"."+{231:"064b552656054492e03c",263:"aaa4c6bdd09943feb37a"}[t]+".js"),s.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),t={},i="LIB:",s.l=(e,n,r)=>{if(t[e])t[e].push(n);else{var o,h;if(void 0!==r)for(var a=document.getElementsByTagName("script"),c=0;c<a.length;c++){var u=a[c];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==i+r){o=u;break}}o||(h=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",i+r),o.src=e),t[e]=[n];var l=(i,n)=>{o.onerror=o.onload=null,clearTimeout(d);var s=t[e];if(delete t[e],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach((t=>t(n))),i)return i(n)},d=setTimeout(l.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=l.bind(null,o.onerror),o.onload=l.bind(null,o.onload),h&&document.head.appendChild(o)}},s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.p="scripts/",(()=>{var t={139:0};s.f.j=(i,e)=>{var n=s.o(t,i)?t[i]:void 0;if(0!==n)if(n)e.push(n[2]);else{var r=new Promise(((e,s)=>{n=t[i]=[e,s]}));e.push(n[2]=r);var o=s.p+s.u(i),h=new Error;s.l(o,(e=>{if(s.o(t,i)&&(0!==(n=t[i])&&(t[i]=void 0),n)){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;h.message="Loading chunk "+i+" failed.\n("+r+": "+o+")",h.name="ChunkLoadError",h.type=r,h.request=o,n[1](h)}}),"chunk-"+i)}};var i=self.webpackChunkLIB=self.webpackChunkLIB||[],e=i.push.bind(i);i.push=i=>{for(var n,r,[o,h,a]=i,c=0,u=[];c<o.length;c++)r=o[c],s.o(t,r)&&t[r]&&u.push(t[r][0]),t[r]=0;for(n in h)s.o(h,n)&&(s.m[n]=h[n]);for(a&&a(s),e(i);u.length;)u.shift()()}})(),s(450290)})();return LIB;})